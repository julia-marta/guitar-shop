(this["webpackJsonpguitar-shop"]=this["webpackJsonpguitar-shop"]||[]).push([[0],{63:function(e,t,c){},67:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(19),r=c.n(n),i=c(2),s=c(18),l=c(11),o=c(3),u=c(24),b=c.n(u),j=c(35),p=c(36),m=c.n(p),d=c(14),O=function(e){return Number(e).toLocaleString("ru-RU")},h=function(e){return e.reduce((function(e,t,c){return e[c+1]=t,e}),{})},g=function(e,t){return Object.values(e).reduce((function(e,c){return[].concat(Object(d.a)(e),[c[t]])}),[])},x=function(e){return/^[0-9 ]*$/.test(e)},_=Object(s.b)("guitar-shop/getData",Object(j.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("https://sheet.best/api/sheets/8abd9b09-fc15-4b7a-83bd-c3f59a75e7f5");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))),f=Object(s.c)({name:"guitar-shop",initialState:{guitarData:{},catalogueData:{},cartData:{},sorting:{},filter:{price:{min:"",max:""},type:{electric:!1,acoustic:!1,ukulele:!1},strings:{4:!1,6:!1,7:!1,12:!1}},availableStrings:[4,6,7,12],promoCode:"",orderSum:0,popUp:null,index:0},reducers:{setCatalogueData:function(e,t){e.catalogueData=t.payload},openPopUp:function(e,t){e.popUp=t.payload},closePopUp:function(e,t){e.popUp=null},setSorting:function(e,t){e.sorting=t.payload},setFilter:function(e,t){e.filter=t.payload},setAvailableStrings:function(e,t){e.availableStrings=t.payload},addToCart:function(e,t){e.cartData[t.payload]?e.cartData[t.payload]=Object(o.a)(Object(o.a)({},e.cartData[t.payload]),{},{count:e.cartData[t.payload].count+1}):(e.cartData[t.payload]=Object(o.a)(Object(o.a)({},e.guitarData[t.payload]),{},{count:1}),e.index+=1)},changeCount:function(e,t){e.cartData[t.payload.id]=Object(o.a)(Object(o.a)({},e.cartData[t.payload.id]),{},{count:t.payload.count})},deleteFromCart:function(e,t){delete e.cartData[t.payload],e.index-=1},setOrderSum:function(e,t){e.orderSum=t.payload},setPromoCode:function(e,t){e.promoCode=t.payload}},extraReducers:Object(l.a)({},_.fulfilled,(function(e,t){var c=h(t.payload);e.guitarData=c,e.catalogueData=c}))}),y=f.reducer,v=f.actions,N=v.setCatalogueData,C=v.openPopUp,k=v.closePopUp,E=v.setSorting,D=v.setFilter,T=v.setAvailableStrings,w=v.addToCart,S=v.changeCount,A=v.deleteFromCart,I=v.setOrderSum,U=v.setPromoCode,R=y,P=["\u041a\u0430\u0442\u0430\u043b\u043e\u0433","\u0413\u0434\u0435 \u043a\u0443\u043f\u0438\u0442\u044c?","\u041e \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438","C\u0435\u0440\u0432\u0438\u0441-\u0446\u0435\u043d\u0442\u0440\u044b"],G=[{type:"map",label:"\u041a\u0430\u043a \u043f\u0440\u043e\u0435\u0445\u0430\u0442\u044c"},{type:"search",label:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0441\u0430\u0439\u0442\u0443"},{type:"basket",label:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}],M=[{type:"facebook",label:"\u0424\u0435\u0439\u0441\u0431\u0443\u043a"},{type:"instagram",label:"\u0418\u043d\u0441\u0442\u0430\u0433\u0440\u0430\u043c"},{type:"twitter",label:"\u0422\u0432\u0438\u0442\u0442\u0435\u0440"}],F=[{type:"about",title:"\u041e \u043d\u0430\u0441",text:["\u041c\u0430\u0433\u0430\u0437\u0438\u043d \u0433\u0438\u0442\u0430\u0440, \u043c\u0443\u0437\u044b\u043a\u0430\u043b\u044c\u043d\u044b\u0445 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0438 \u0433\u0438\u0442\u0430\u0440\u043d\u0430\u044f \u043c\u0430\u0441\u0442\u0435\u0440\u0441\u043a\u0430\u044f \u0432 \u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433\u0435.","\u0412\u0441\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u043f\u0440\u043e\u0432\u0435\u0440\u0435\u043d\u044b, \u043e\u0442\u0441\u0442\u0440\u043e\u0435\u043d\u044b \u0438 \u0434\u043e\u0432\u0435\u0434\u0435\u043d\u044b \u0434\u043e \u0438\u0434\u0435\u0430\u043b\u0430!"]},{type:"catalogue",title:"\u041a\u0430\u0442\u0430\u043b\u043e\u0433",items:["\u0410\u043a\u0443\u0441\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0433\u0438\u0442\u0430\u0440\u044b","\u041a\u043b\u0430\u0441\u0441\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0433\u0438\u0442\u0430\u0440\u044b","\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u0433\u0438\u0442\u0430\u0440\u044b","\u0411\u0430\u0441-\u0433\u0438\u0442\u0430\u0440\u044b","\u0423\u043a\u0443\u043b\u0435\u043b\u0435"]},{type:"information",title:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",items:["\u0413\u0434\u0435 \u043a\u0443\u043f\u0438\u0442\u044c?","\u0411\u043b\u043e\u0433","\u0412\u043e\u043f\u0440\u043e\u0441 - \u043e\u0442\u0432\u0435\u0442","\u0412\u043e\u0437\u0432\u0440\u0430\u0442","\u0421\u0435\u0440\u0432\u0438\u0441-\u0446\u0435\u043d\u0442\u0440\u044b"]},{type:"contacts",title:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b",text:["\u0433. \u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433, \u043c. \u041d\u0435\u0432\u0441\u043a\u0438\u0439 \u043f\u0440\u043e\u0441\u043f\u0435\u043a\u0442, \u0443\u043b. \u041a\u0430\u0437\u0430\u043d\u0441\u043a\u0430\u044f 6.",{type:"phone",content:"8-812-500-50-50"},"\u0420\u0435\u0436\u0438\u043c \u0440\u0430\u0431\u043e\u0442\u044b:",{type:"clock",content:"\u0441 11:00 \u0434\u043e 20:00,"},"\u0431\u0435\u0437 \u0432\u044b\u0445\u043e\u0434\u043d\u044b\u0445."]}],B=["\u0413\u043b\u0430\u0432\u043d\u0430\u044f","\u041a\u0430\u0442\u0430\u043b\u043e\u0433","\u041e\u0444\u043e\u0440\u043c\u043b\u044f\u0435\u043c"],L=["1","2","3","4","5"],K=[4,6,7,12],H=["GITARAHIT","SUPERGITARA","GITARA2020"],Y="\u041d\u0430\u0437\u0430\u0434",q="\u0414\u0430\u043b\u0435\u0435",W="...",J="decrease",X="increase",z="header",V="footer",$={MORE:{type:"mono",title:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"},BUY:{type:"color",title:"\u041a\u0443\u043f\u0438\u0442\u044c"},ADD:{type:"color",title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"},DELETE:{type:"color",title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440"},CONTINUE:{type:"transparent",title:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u043f\u043e\u043a\u0443\u043f\u043a\u0438"},GO_TO_BASKET:{type:"color",title:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"},PROMO:{type:"mono",title:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u0443\u043f\u043e\u043d"},CHECKOUT:{type:"color",title:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"}},Q={ADD:{type:"add",title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443",buttons:[$.ADD]},DELETE:{type:"delete",title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u043e\u0442 \u0442\u043e\u0432\u0430\u0440?",buttons:[$.DELETE,$.CONTINUE]},SUCCESS:{type:"success",title:"\u0422\u043e\u0432\u0430\u0440 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443",buttons:[$.GO_TO_BASKET,$.CONTINUE]}},Z={PRICE:{title:"\u043f\u043e \u0446\u0435\u043d\u0435",type:"price"},RATING:{title:"\u043f\u043e \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0441\u0442\u0438",type:"rating"}},ee={ASCENDING:{title:"\u041f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e",type:"ascending",icon:"toggle_up"},DESCENDING:{title:"\u041f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",type:"descending",icon:"toggle_down"}},te={SO757575:"guitar1",TK129049:"guitar2",RO111111:"guitar3",TK436457:"guitar4",DI192138:"guitar5",SO934345:"guitar1",DI082347:"guitar3",SO135646:"guitar6",VO154751:"guitar5","\u0443\u043a\u0443\u043b\u0435\u043b\u0435":"guitar3","\u0430\u043a\u0443\u0441\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0433\u0438\u0442\u0430\u0440\u0430":"guitar5","\u044d\u043b\u0435\u043a\u0442\u0440\u043e\u0433\u0438\u0442\u0430\u0440\u0430":"guitar1"},ce="invalid",ae="applied",ne="/",re="/cart",ie="Esc",se="Escape",le="catalogue",oe="cart",ue={CATALOGUE:"\u041a\u0430\u0442\u0430\u043b\u043e\u0433 \u0433\u0438\u0442\u0430\u0440",CART:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"},be={legend:"\u0426\u0435\u043d\u0430,",name:"price",inputs:[{name:"min",label:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0446\u0435\u043d\u0430"},{name:"max",label:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0446\u0435\u043d\u0430"}]},je={legend:"\u0422\u0438\u043f \u0433\u0438\u0442\u0430\u0440",name:"guitar-type",checkboxes:[{name:"acoustic",label:"\u0410\u043a\u0443\u0441\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0433\u0438\u0442\u0430\u0440\u044b"},{name:"electric",label:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u0433\u0438\u0442\u0430\u0440\u044b"},{name:"ukulele",label:"\u0423\u043a\u0443\u043b\u0435\u043b\u0435"}]},pe={legend:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0442\u0440\u0443\u043d",name:"strings",checkboxes:[{name:4,label:"4"},{name:6,label:"6"},{name:7,label:"7"},{name:12,label:"12"}]},me={electric:{name:"\u044d\u043b\u0435\u043a\u0442\u0440\u043e\u0433\u0438\u0442\u0430\u0440\u0430",strings:[4,6,7]},acoustic:{name:"\u0430\u043a\u0443\u0441\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0433\u0438\u0442\u0430\u0440\u0430",strings:[6,7,12]},ukulele:{name:"\u0443\u043a\u0443\u043b\u0435\u043b\u0435",strings:[4]}},de={ARROW:{name:"arrow",width:16,height:16},BASKET:{name:"basket",width:16,height:18},CART:{name:"cart",width:12,height:13},CHECKBOX:{name:"checkbox",width:14,height:14},CLOCK:{name:"clock",width:10,height:10},FACEBOOK:{name:"facebook",width:24,height:24},INSTAGRAM:{name:"instagram",width:24,height:24},MAP:{name:"map",width:40,height:40},PHONE:{name:"phone",width:10,height:10},SEARCH:{name:"search",width:40,height:40},STAR:{name:"star",width:12,height:12},STAR_EMPTY:{name:"star-empty",width:12,height:12},TOGGLE_DOWN:{name:"toggle-down",width:22,height:22},TOGGLE_UP:{name:"toggle-up",width:22,height:22},TWITTER:{name:"twitter",width:24,height:24}},Oe=String.fromCharCode(8381),he=function(e){return function(e){return function(t){return"guitar-shop/getData/fulfilled"===t.type&&t.payload.map((function(e){return e.image=te[e.code]?te[e.code]:te[e.type]})),e(t)}}},ge=(c(63),c(13)),xe=c(5),_e=c(0),fe=function(e){var t=e.type,c=e.isMain,a=Object(_e.jsx)(_e.Fragment,{children:Object(_e.jsx)("img",{src:"svg/".concat(t,"_logo.svg"),width:"67",height:"70",alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f Guitar Shop"})});return Object(_e.jsx)("div",{className:"".concat(t,"__logo"),children:c?Object(_e.jsx)("a",{className:"".concat(t,"__logo-link"),href:"#",children:a}):Object(_e.jsx)(ge.b,{to:ne,children:a})})},ye=function(e){var t=e.title,c=e.isActive,a=e.onClick;return Object(_e.jsx)("li",{className:"menu__item",children:Object(_e.jsx)("a",{className:"menu__link ".concat(c?"menu__link--active":""),href:"#",onClick:a,children:t})})},ve=function(e){var t=e.icon;return Object(_e.jsx)("svg",{className:"icon icon--".concat(t.name),width:t.width,height:t.height,children:Object(_e.jsx)("use",{xlinkHref:"svg/sprite.svg#icon-".concat(t.name)})})},Ne=function(e){var t=e.icon,c=e.label;return Object(_e.jsx)("li",{className:"menu__item",children:Object(_e.jsx)("a",{className:"menu__link",href:"#","aria-label":c,children:Object(_e.jsx)(ve,{icon:de["".concat(t.toUpperCase())]})})})},Ce=function(e){var t=e.text;return Object(_e.jsx)("li",{className:"menu__item ".concat("object"===typeof t?"menu__item--icon":""),children:"object"===typeof t?Object(_e.jsxs)(_e.Fragment,{children:[Object(_e.jsx)(ve,{icon:de["".concat(t.type.toUpperCase())]}),"phone"===t.type?Object(_e.jsx)("a",{className:"menu__text menu__text--link",href:"tel:".concat(t.content),children:t.content}):Object(_e.jsx)("p",{className:"menu__text",children:t.content})]}):Object(_e.jsx)("p",{className:"menu__text",children:t})})},ke=function(e){var t=e.icon,c=e.label,a=Object(i.c)((function(e){return e.index}));return Object(_e.jsx)("li",{className:"menu__item",children:Object(_e.jsxs)(ge.b,{className:"menu__link",to:re,"aria-label":c,children:[Object(_e.jsx)(ve,{icon:de["".concat(t.toUpperCase())]}),Object(_e.jsx)("sup",{className:"menu__index",children:a})]})})},Ee=function(e){var t=e.type,c=e.items,a=e.activeItem,n=e.isText,r=e.isIconsOnly,i=e.onItemClick;return Object(_e.jsx)("ul",{className:"menu menu--".concat(t),children:c.map((function(e,t){return n?Object(_e.jsx)(Ce,{text:e},t+1):"basket"===e.type?Object(_e.jsx)(ke,{icon:e.type,label:e.label},t+1):r?Object(_e.jsx)(Ne,{icon:e.type,label:e.label,onClick:i},t+1):Object(_e.jsx)(ye,{title:e,onClick:i,isActive:e===a},t+1)}))})},De=function(e){var t=e.isMain;return Object(_e.jsx)("header",{className:"header",children:Object(_e.jsxs)("div",{className:"header__wrapper container",children:[Object(_e.jsx)(fe,{type:z,isMain:t}),Object(_e.jsxs)("nav",{className:"header__navigation",children:[Object(_e.jsx)(Ee,{type:"main",items:P}),Object(_e.jsx)(Ee,{type:"user",items:G,isIconsOnly:!0})]})]})})},Te=function(e){var t=e.items;return Object(_e.jsx)("ul",{className:"breadcrumbs",children:t.map((function(e,c){return Object(_e.jsx)("li",{className:"breadcrumbs__item",children:c===t.length-1?Object(_e.jsx)("a",{className:"breadcrumbs__link",href:"#",children:e}):Object(_e.jsxs)(_e.Fragment,{children:[Object(_e.jsx)(ge.b,{className:"breadcrumbs__link",to:ne,children:e}),Object(_e.jsx)(ve,{icon:de.ARROW})]})},c+1)}))})},we=function(e){var t=e.type,c=e.children,a=e.isMain?B.slice(0,B.length-1):B;return Object(_e.jsxs)("main",{className:"main",children:[Object(_e.jsx)("h1",{className:"visually-hidden",children:"Guitar Shop: \u043c\u0430\u0433\u0430\u0437\u0438\u043d \u0433\u0438\u0442\u0430\u0440, \u043c\u0443\u0437\u044b\u043a\u0430\u043b\u044c\u043d\u044b\u0445 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0438 \u0433\u0438\u0442\u0430\u0440\u043d\u0430\u044f \u043c\u0430\u0441\u0442\u0435\u0440\u0441\u043a\u0430\u044f \u0432 \u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433\u0435."}),Object(_e.jsx)("section",{className:t,children:Object(_e.jsxs)("div",{className:"".concat(t,"__wrapper container"),children:[Object(_e.jsx)("h2",{className:"".concat(t,"__title"),children:ue["".concat(t.toUpperCase())]}),Object(_e.jsx)(Te,{items:a}),c]})})]})},Se=c(6),Ae=function(e){var t=e.name,c=e.legend,a=e.symbol,n=e.children;return Object(_e.jsxs)("fieldset",{className:"filter__item filter__item--".concat(t),children:[Object(_e.jsxs)("h3",{className:"filter__title filter__title--subtitle",children:[c," ",a&&Object(_e.jsx)("span",{children:a})]}),Object(_e.jsx)("div",{className:"filter__wrapper filter__wrapper--".concat(t),children:n})]})},Ie=function(e){var t=e.className,c=e.name,a=e.label,n=e.value,r=e.placeholder,i=e.onChangeInput,s=e.onBlurInput;return Object(_e.jsxs)(_e.Fragment,{children:[Object(_e.jsx)("label",{className:"visually-hidden",htmlFor:c,children:a}),Object(_e.jsx)("input",{className:t,type:"text",id:c,name:c,value:n,onChange:i,onBlur:s,placeholder:r})]})},Ue=function(e){var t=e.inputs,c=e.minCataloguePrice,n=e.maxCataloguePrice,r=Object(i.c)((function(e){return e.filter})),s=Object(i.b)(),u=O(c),b=O(n),j=r.price.min&&(r.price.max||0===r.price.max)&&r.price.min>r.price.max,p=(r.price.min||0===r.price.min)&&r.price.min<c,m=r.price.max&&r.price.max>n,d=Object(a.useCallback)((function(e){e.preventDefault();var t=e.target.value.replace(/\s/g,"");x(t)&&s(D(Object(o.a)(Object(o.a)({},r),{},{price:Object(o.a)(Object(o.a)({},r.price),{},Object(l.a)({},e.target.id,Number(t)))})))}),[s,r]),h=Object(a.useCallback)((function(e){var t,a=e.target.id;j&&(t="min"===a?{max:r.price.max,min:r.price.max}:{max:r.price.min,min:r.price.min}),p&&(t={max:r.price.max,min:c}),m&&(t={max:n,min:r.price.min}),t&&s(D(Object(o.a)(Object(o.a)({},r),{},{price:{min:t.min,max:t.max}})))}),[s,r,m,p,j,n,c]);return Object(_e.jsx)(_e.Fragment,{children:t.map((function(e,t){return Object(_e.jsx)(Ie,{className:"filter__input",name:e.name,label:e.label,value:r.price[e.name]>0?O(r.price[e.name]):0===r.price[e.name]?"0":"",placeholder:"min"===e.name?u:b,onChangeInput:d,onBlurInput:h},t+1)}))})},Re=function(e){var t=e.name,c=e.label,n=e.value,r=e.disabled,s=e.onChangeCheckbox,u=Object(i.c)((function(e){return e.filter})),b=Object(i.b)();return Object(a.useEffect)((function(){r&&n&&b(D(Object(o.a)(Object(o.a)({},u),{},{strings:Object(o.a)(Object(o.a)({},u.strings),{},Object(l.a)({},t,!1))})))}),[r,b,u,t,n]),Object(_e.jsxs)("div",{className:"filter__checkbox-wrapper",children:[Object(_e.jsx)("input",{type:"checkbox",className:"filter__checkbox visually-hidden",id:t,name:t,checked:n,disabled:r,onChange:s}),Object(_e.jsxs)("label",{className:"filter__label",htmlFor:t,children:[c,Object(_e.jsx)(ve,{icon:de.CHECKBOX})]})]})},Pe=function(e){var t=e.checkboxes,c=Object(i.c)((function(e){return e.filter})),n=Object(i.b)(),r=Object(a.useCallback)((function(e){n(D(Object(o.a)(Object(o.a)({},c),{},{type:Object(o.a)(Object(o.a)({},c.type),{},Object(l.a)({},e.target.id,!!e.target.checked))})))}),[n,c]);return Object(_e.jsx)(_e.Fragment,{children:t.map((function(e,t){return Object(_e.jsx)(Re,{name:e.name,label:e.label,value:c.type[e.name],onChangeCheckbox:r},t+1)}))})},Ge=function(e){var t=e.checkboxes,c=Object(i.c)((function(e){return e.filter})),n=Object(i.c)((function(e){return e.availableStrings})),r=Object(i.b)(),s=Object(a.useCallback)((function(e){r(D(Object(o.a)(Object(o.a)({},c),{},{strings:Object(o.a)(Object(o.a)({},c.strings),{},Object(l.a)({},e.target.id,!!e.target.checked))})))}),[r,c]);return Object(_e.jsx)(_e.Fragment,{children:t.map((function(e,t){return Object(_e.jsx)(Re,{name:e.name,label:e.label,value:c.strings[e.name],onChangeCheckbox:s,disabled:!n.includes(e.name)},t+1)}))})},Me=be,Fe=je,Be=pe,Le=function(){var e=Object(i.c)((function(e){return e.guitarData})),t=Object(i.c)((function(e){return e.filter})),c=Object(i.b)(),n=Object(a.useState)([]),r=Object(Se.a)(n,2),s=r[0],l=r[1],o=Object(a.useState)({min:0,max:0}),u=Object(Se.a)(o,2),b=u[0],j=u[1];return Object(a.useEffect)((function(){var t=g(e,"price"),c=Math.max.apply(null,t),a=Math.min.apply(null,t);l(Object.values(e)),j({min:a,max:c})}),[e]),Object(a.useEffect)((function(){var e=t.price.min&&t.price.max,a=Object.values(t.type).some((function(e){return!0===e})),n=Object.values(t.strings).some((function(e){return!0===e}));c(T(K));var r=s;if(e&&(r=function(e,t,c){return e.filter((function(e){return t<=Number(e.price)&&Number(e.price)<=c}))}(s,t.price.min,t.price.max)),a){var i=Object.entries(t.type).reduce((function(e,t){var c=Object(Se.a)(t,2),a=c[0];return!0===c[1]?[].concat(Object(d.a)(e),[me[a].name]):e}),[]),l=Object(d.a)(new Set(Object.entries(t.type).reduce((function(e,t){var c=Object(Se.a)(t,2),a=c[0];return!0===c[1]?[].concat(Object(d.a)(e),[me[a].strings]):e}),[]).flat()));c(T(l)),r=function(e,t){return e.filter((function(e){return t.includes(e.type)}))}(r,i)}n&&(r=function(e,t){return e.filter((function(e){return t.includes(e.strings)}))}(r,Object.entries(t.strings).reduce((function(e,t){var c=Object(Se.a)(t,2),a=c[0];return!0===c[1]?[].concat(Object(d.a)(e),[a]):e}),[])));var o=h(r);c(N(o))}),[c,t,s]),Object(_e.jsxs)("form",{action:"#",className:"catalogue__filter filter",children:[Object(_e.jsx)("h3",{className:"filter__title",children:"\u0424\u0438\u043b\u044c\u0442\u0440"}),Object(_e.jsx)(Ae,{name:Me.name,legend:Me.legend,symbol:Oe,children:Object(_e.jsx)(Ue,{inputs:Me.inputs,minCataloguePrice:b.min,maxCataloguePrice:b.max})}),Object(_e.jsx)(Ae,{name:Fe.name,legend:Fe.legend,children:Object(_e.jsx)(Pe,{checkboxes:Fe.checkboxes})}),Object(_e.jsx)(Ae,{name:Be.name,legend:Be.legend,children:Object(_e.jsx)(Ge,{checkboxes:Be.checkboxes})})]})},Ke=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.sorting})),c=g(Z,"title"),n=Object.values(ee),r=Object(a.useCallback)((function(c){switch(c.preventDefault(),c.target.innerText){case Z.PRICE.title:e(E({order:t.order?t.order:ee.ASCENDING.type,type:Z.PRICE.type}));break;case Z.RATING.title:e(E({order:t.order?t.order:ee.ASCENDING.type,type:Z.RATING.type}))}}),[e,t]),s=Object(a.useCallback)((function(c){switch(c.preventDefault(),c.target.id){case ee.DESCENDING.type:e(E({type:t.type?t.type:Z.PRICE.type,order:ee.DESCENDING.type}));break;case ee.ASCENDING.type:e(E({type:t.type?t.type:Z.PRICE.type,order:ee.ASCENDING.type}))}}),[e,t]);return Object(_e.jsxs)("div",{className:"catalogue__sorting",children:[Object(_e.jsx)("p",{className:"catalogue__sorting-title",children:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c:"}),Object(_e.jsx)(Ee,{type:"sorting",items:c,activeItem:t.type&&Z[t.type.toUpperCase()].title,onItemClick:r}),Object(_e.jsx)("div",{className:"catalogue__sorting-toggles",children:n.map((function(e,c){return Object(_e.jsx)("button",{id:e.type,className:"catalogue__sorting-toggle ".concat(t.order&&t.order===e.type?"catalogue__sorting-toggle--active":""),type:"button","aria-label":e.title,onClick:s,children:Object(_e.jsx)(ve,{icon:de["".concat(e.icon.toUpperCase())]})},c+1)}))})]})},He=function(e){var t=e.title,c=e.className,a=e.type,n=e.icon,r=e.path,i=e.onClick;return r?Object(_e.jsxs)(ge.b,{to:r,className:"".concat(c," button ").concat(a?"button--".concat(a):""),children:[n&&Object(_e.jsx)(ve,{icon:n}),t]}):Object(_e.jsxs)("a",{href:"#",className:"".concat(c," button ").concat(a?"button--".concat(a):""),onClick:i,children:[n&&Object(_e.jsx)(ve,{icon:n}),t]})},Ye=function(e){var t,c=e.guitar,n=Object(i.b)(),r=(t=c.rating,Math.round(t/10*1.7)),s=Object(a.useCallback)((function(e){e.preventDefault(),n(C({name:Q.ADD.type.toUpperCase(),product:c.id}))}),[n,c]);return Object(_e.jsxs)("li",{className:"catalogue__item guitar",children:[Object(_e.jsx)("div",{className:"guitar__wrapper guitar__image",children:Object(_e.jsx)("picture",{children:Object(_e.jsx)("img",{className:"guitar__picture",src:"guitars/".concat(c.image,".png"),srcSet:"guitars/".concat(c.image,"@2x.png 2x"),width:"68",height:"190",alt:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f \u0433\u0438\u0442\u0430\u0440\u044b ".concat(c.title)})})}),Object(_e.jsxs)("div",{className:"guitar__wrapper guitar__rating",children:[Object(_e.jsx)("ul",{className:"guitar__star-list",children:L.map((function(e,t){return Object(_e.jsx)("li",{className:"guitar__star",children:t<r?Object(_e.jsx)(ve,{icon:de.STAR}):Object(_e.jsx)(ve,{icon:de.STAR_EMPTY})},t+1)}))}),Object(_e.jsx)("span",{className:"guitar__wrapper guitar__reviews",children:c.rating})]}),Object(_e.jsxs)("div",{className:"guitar__wrapper guitar__info",children:[Object(_e.jsx)("p",{className:"guitar__text",children:c.title}),Object(_e.jsx)("p",{className:"guitar__text",children:"".concat(O(c.price)," ").concat(Oe)})]}),Object(_e.jsxs)("div",{className:"guitar__wrapper guitar__buttons",children:[Object(_e.jsx)(He,{title:$.MORE.title,className:"guitar__button",type:$.MORE.type}),Object(_e.jsx)(He,{title:$.BUY.title,className:"guitar__button guitar__button--basket",type:$.BUY.type,icon:de.CART,onClick:s})]})]})},qe=function(e){var t=e.items;return t.length>0?Object(_e.jsx)("ul",{className:"catalogue__list",children:t.map((function(e,t){return Object(_e.jsx)(Ye,{guitar:e},t+1)}))}):Object(_e.jsx)("p",{className:"catalogue__empty-message",children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"})},We=Y,Je=q,Xe=W,ze=function(e){var t=e.currentPage,c=e.totalPages,n=e.onButtonClick,r={previous:t>1&&We,first:1,prevDots:t>2&&c>3&&Xe,currentPage:1===t&&c>=3?t+1:t===c&&c>=3?t-1:c>=3&&t,nextDots:t<c-1&&c>3&&Xe,last:c>1&&c,next:t<c&&Je},i=Object(a.useCallback)((function(e){if(e.preventDefault(),e.target.innerText!==Xe){var c=e.target.innerText===We?t-1:e.target.innerText===Je?t+1:Number(e.target.innerText);n(c)}}),[t,n]);return c>0&&Object(_e.jsx)("ul",{className:"catalogue__pagination pagination",children:Object.values(r).map((function(e,c){return e?Object(_e.jsx)("li",{className:"pagination__item ".concat(e===We||e===Je?"pagination__item--nav":""),children:Object(_e.jsx)(He,{title:e.toString(),className:"pagination__button ".concat(e===t?"pagination__button--active":e===We||e===Je?"pagination__button--nav":e===Xe?"pagination__button--dots":""),type:"pagination",onClick:i})},c+1):""}))})},Ve=function(e){var t=e.guitars,c=Object(a.useState)(1),n=Object(Se.a)(c,2),r=n[0],i=n[1],s=Object(a.useState)(0),l=Object(Se.a)(s,2),o=l[0],u=l[1],b=Object(a.useState)([]),j=Object(Se.a)(b,2),p=j[0],m=j[1];Object(a.useEffect)((function(){var e=Math.ceil(t.length/9);u(e),i(1),m(t.slice(0,9))}),[t]);var d=Object(a.useCallback)((function(e){i(e);var c=9*(e-1),a=c+9>t.length?t.length:c+9;m(t.slice(c,a))}),[t]);return Object(_e.jsxs)("div",{className:"catalogue__showcase",children:[Object(_e.jsx)(Ke,{}),Object(_e.jsx)(qe,{items:p}),Object(_e.jsx)(ze,{currentPage:r,totalPages:o,onButtonClick:d})]})},$e=function(){var e=Object(a.useState)([]),t=Object(Se.a)(e,2),c=t[0],n=t[1],r=Object(i.c)((function(e){return e.catalogueData})),s=Object(i.c)((function(e){return e.sorting}));return Object(a.useEffect)((function(){var e=function(e,t,c){switch(c){case"ascending":return e.sort((function(e,c){return e[t]-c[t]}));case"descending":return e.sort((function(e,c){return c[t]-e[t]}));default:return e}}(Object.values(r),s.type,s.order);n(e)}),[r,s]),Object(_e.jsxs)("div",{className:"catalogue__content",children:[Object(_e.jsx)(Le,{}),Object(_e.jsx)(Ve,{guitars:c})]})},Qe=function(e){var t,c=e.guitar,a=e.isPopUp;return Object(_e.jsxs)(_e.Fragment,{children:[Object(_e.jsx)("div",{className:"purchase__image",children:Object(_e.jsx)("picture",{children:Object(_e.jsx)("img",{className:"purchase__picture",src:"guitars/".concat(c.image,".png"),srcSet:"guitars/".concat(c.image,"@2x.png 2x"),width:"48",height:"124",alt:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f \u0433\u0438\u0442\u0430\u0440\u044b ".concat(c.title)})})}),Object(_e.jsxs)("div",{className:"purchase__info",children:[Object(_e.jsxs)("h3",{className:"purchase__title",children:[a?"\u0413\u0438\u0442\u0430\u0440\u0430":c.type," ",c.title]}),Object(_e.jsx)("p",{className:"purchase__text",children:"\u0410\u0440\u0442\u0438\u043a\u0443\u043b: ".concat(c.code)}),Object(_e.jsx)("p",{className:"purchase__text",children:"".concat((t=c.type,t[0].toUpperCase()+t.substring(1)),", ").concat(c.strings," \u0441\u0442\u0440\u0443\u043d\u043d\u0430\u044f")}),a&&Object(_e.jsx)("p",{className:"purchase__sum",children:"\u0426\u0435\u043d\u0430: ".concat(O(c.price)," ").concat(Oe)})]})]})},Ze=function(e){var t=e.guitar,c=e.isEmptyCard,n=Object(i.b)(),r=Object(a.useCallback)((function(e){e.preventDefault(),x(e.target.value)?n(S({id:t.id,count:Number(e.target.value)})):n(S({id:t.id,count:1}))}),[n,t]),s=Object(a.useCallback)((function(e){if(Number(e.target.value)<1)return n(C({name:Q.DELETE.type.toUpperCase(),product:t.id})),void n(S({id:t.id,count:1}))}),[n,t]),l=Object(a.useCallback)((function(e){switch(e.preventDefault(),e.target.id){case J:var c=t.count-1;if(c<1)return n(C({name:Q.DELETE.type.toUpperCase(),product:t.id})),void n(S({id:t.id,count:1}));n(S({id:t.id,count:c}));break;case X:n(S({id:t.id,count:t.count+1}));break;default:return}}),[n,t]),o=Object(a.useCallback)((function(e){e.preventDefault(),n(C({name:Q.DELETE.type.toUpperCase(),product:t.id}))}),[n,t]);return Object(_e.jsxs)("li",{className:"cart__item purchase ".concat(c?"purchase--empty":""),children:[c&&Object(_e.jsxs)(_e.Fragment,{children:[Object(_e.jsxs)("h3",{className:"purchase__title",children:[Object(_e.jsx)(ve,{icon:de.CART}),"\u0412\u0430\u0448\u0430 \u043a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430"]}),Object(_e.jsx)(He,{title:$.CONTINUE.title,className:"pop-up__button",type:$.CONTINUE.type,path:ne})]}),t&&Object(_e.jsxs)(_e.Fragment,{children:[Object(_e.jsx)("button",{type:"button",className:"purchase__delete","aria-label":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440",onClick:o}),Object(_e.jsx)(Qe,{guitar:t}),Object(_e.jsx)("p",{className:"purchase__price",children:"".concat(O(t.price)," ").concat(Oe)}),Object(_e.jsxs)("div",{className:"purchase__quantity",children:[Object(_e.jsx)("button",{id:"decrease",className:"purchase__\u0441ontrol purchase__\u0441ontrol--decrease",type:"button","aria-label":"\u0423\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c",onClick:l}),Object(_e.jsx)("label",{className:"visually-hidden",htmlFor:"quantity",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"}),Object(_e.jsx)("input",{className:"purchase__input",type:"number",id:"quantity",name:"quantity",value:t.count,onChange:r,onBlur:s}),Object(_e.jsx)("button",{id:"increase",className:"purchase__\u0441ontrol purchase__\u0441ontrol--increase",type:"button","aria-label":"\u0423\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c",onClick:l})]}),Object(_e.jsx)("p",{className:"purchase__sum",children:"".concat(O(t.price*t.count)," ").concat(Oe)})]})]})},et=function(e){var t=e.items,c=0===Object.values(t).length;return Object(_e.jsxs)("ul",{className:"cart__list",children:[c&&Object(_e.jsx)(Ze,{isEmptyCard:!0}),!c&&t.map((function(e,t){return Object(_e.jsx)(Ze,{guitar:e},t+1)}))]})},tt=function(){var e=Object(i.c)((function(e){return e.orderSum})),t=Object(i.c)((function(e){return e.promoCode})),c=Object(i.b)(),n=Object(a.useState)(""),r=Object(Se.a)(n,2),s=r[0],l=r[1],o=Object(a.useState)(!1),u=Object(Se.a)(o,2),b=u[0],j=u[1],p=Object(a.useCallback)((function(e){e.preventDefault(),j(!1),l(e.target.value)}),[]),m=Object(a.useCallback)((function(e){e.preventDefault(),H.includes(s.toUpperCase())?t?j(ae):c(U(s.toUpperCase())):j(ce)}),[c,t,s]);return Object(_e.jsxs)("form",{action:"#",className:"cart__order order",children:[Object(_e.jsxs)("div",{className:"order__promo",children:[Object(_e.jsx)("p",{className:"order__promo-title",children:"\u041f\u0440\u043e\u043c\u043e\u043a\u043e\u0434 \u043d\u0430 \u0441\u043a\u0438\u0434\u043a\u0443"}),Object(_e.jsx)("p",{className:"order__promo-subtitle",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u043f\u0440\u043e\u043c\u043e\u043a\u043e\u0434, \u0435\u0441\u043b\u0438 \u043e\u043d \u0443 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c."}),Object(_e.jsxs)("div",{className:"order__promo-wrapper",children:[Object(_e.jsx)(Ie,{className:"order__promo-input ".concat(b?"order__promo-input--error":""),name:"promo",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0440\u043e\u043c\u043e\u043a\u043e\u0434",value:s,onChangeInput:p}),b&&Object(_e.jsx)("span",{className:"order__promo-error",children:"".concat(b===ce?"\u041f\u0440\u043e\u043c\u043e\u043a\u043e\u0434 \u043d\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u0435\u043d":"\u0412\u044b \u0443\u0436\u0435 \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043b\u0438 \u043f\u0440\u043e\u043c\u043e\u043a\u043e\u0434")}),Object(_e.jsx)(He,{title:$.PROMO.title,className:"order__button order__button--promo",type:$.PROMO.type,onClick:m})]})]}),Object(_e.jsxs)("div",{className:"order__checkout",children:[Object(_e.jsx)("p",{className:"order__checkout-total",children:"\u0412\u0441\u0435\u0433\u043e: ".concat(O(e)," ").concat(Oe)}),Object(_e.jsx)(He,{title:$.CHECKOUT.title,className:"order__button order__button--checkout",type:$.CHECKOUT.type})]})]})},ct=function(){var e=Object(i.c)((function(e){return e.cartData})),t=Object(i.c)((function(e){return e.promoCode})),c=Object(i.b)(),n=Object(a.useState)([]),r=Object(Se.a)(n,2),s=r[0],l=r[1];return Object(a.useEffect)((function(){l(Object.values(e))}),[e]),Object(a.useEffect)((function(){if(0===s.length)c(I(0));else{var e=function(e,t){var c=e.reduce((function(e,t){var c=t.price,a=t.count;return e+Number(c)*a}),0);if(t){var a;switch(t){case"GITARAHIT":a=.1*c;break;case"SUPERGITARA":a=700;break;case"GITARA2020":a=.3*c>3500?3500:.3*c;break;default:return a}c-=a}return c}(s,t);c(I(e)),I(e)}}),[c,s,t]),Object(_e.jsxs)("div",{className:"cart__content",children:[Object(_e.jsx)(et,{items:s}),Object(_e.jsx)(tt,{})]})},at=function(e){var t=e.isMain;return Object(_e.jsx)("footer",{className:"footer",children:Object(_e.jsxs)("div",{className:"footer__wrapper container",children:[Object(_e.jsx)(fe,{type:V,isMain:t}),Object(_e.jsx)(Ee,{type:"social",items:M,isIconsOnly:!0}),Object(_e.jsx)("ul",{className:"footer__navigation",children:F.map((function(e,t){return Object(_e.jsxs)("li",{className:"footer__navigation-item",children:[Object(_e.jsx)("h3",{className:"footer__navigation-title",children:e.title}),e.text?Object(_e.jsx)(Ee,{type:e.type,items:e.text,isText:!0}):Object(_e.jsx)(Ee,{type:e.type,items:e.items})]},t+1)}))})]})})},nt=function(e){var t=e.type,c=e.title,n=e.productId,r=e.buttons,s=Object(i.c)((function(e){return e.guitarData[n]}))||null,l=Object(i.b)(),o=Object(xe.f)(),u=Object(a.useCallback)((function(e){e.preventDefault(),l(k())}),[l]),b=Object(a.useCallback)((function(e){switch(e.preventDefault(),e.target.innerText){case $.ADD.title:l(w(n)),l(k()),l(C({name:Q.SUCCESS.type.toUpperCase()}));break;case $.CONTINUE.title:l(k());break;case $.GO_TO_BASKET.title:l(k()),o.push(re);break;case $.DELETE.title:l(A(n)),l(k())}}),[l,o,n]);return Object(_e.jsxs)("section",{className:"pop-up",onClick:u,children:[Object(_e.jsx)("h2",{className:"visually-hidden",children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"}),Object(_e.jsxs)("div",{className:"pop-up__window pop-up__window--".concat(t),onClick:function(e){return e.stopPropagation()},children:[Object(_e.jsx)("button",{type:"button",className:"pop-up__close","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043f\u043e\u043f-\u0430\u043f",onClick:u}),Object(_e.jsx)("h3",{className:"pop-up__title",children:c}),Object(_e.jsxs)("div",{className:"pop-up__content",children:[s&&Object(_e.jsx)("div",{className:"pop-up__item",children:Object(_e.jsx)(Qe,{guitar:s,isPopUp:!0})}),Object(_e.jsx)("div",{className:"pop-up__buttons",children:r.map((function(e,t){return Object(_e.jsx)(He,{title:e.title,className:"pop-up__button",type:e.type,onClick:b},t+1)}))})]})]})]})},rt=function(e){var t=e.type,c=t===le,n=Object(i.c)((function(e){return e.popUp})),r=Object(i.b)();Object(a.useEffect)((function(){n?(document.body.style.overflow="hidden",document.addEventListener("keydown",s)):(document.body.style.overflow="auto",document.removeEventListener("keydown",s))}));var s=Object(a.useCallback)((function(e){e.key!==se&&e.key!==ie||(e.preventDefault(),r(k()))}),[r]);return Object(_e.jsxs)(_e.Fragment,{children:[Object(_e.jsx)(De,{isMain:c}),Object(_e.jsx)(we,{type:t,isMain:c,children:c?Object(_e.jsx)($e,{}):Object(_e.jsx)(ct,{})}),Object(_e.jsx)(at,{isMain:c}),n&&Object(_e.jsx)(nt,{type:Q[n.name].type,title:Q[n.name].title,buttons:Q[n.name].buttons,productId:n.product})]})},it=ne,st=re,lt=le,ot=oe,ut=function(){return Object(_e.jsx)(ge.a,{children:Object(_e.jsxs)(xe.c,{children:[Object(_e.jsx)(xe.a,{exact:!0,path:it,children:Object(_e.jsx)(rt,{type:lt})}),Object(_e.jsx)(xe.a,{exact:!0,path:st,children:Object(_e.jsx)(rt,{type:ot})})]})})},bt=Object(s.a)({reducer:R,middleware:function(e){return e({serializableCheck:!1}).concat(he)}});Promise.all([bt.dispatch(_())]).then((function(){r.a.render(Object(_e.jsx)(i.a,{store:bt,children:Object(_e.jsx)(ut,{})}),document.getElementById("root"))})).catch((function(e){console.error(e)}))}},[[67,1,2]]]);
//# sourceMappingURL=main.6f49d127.chunk.js.map