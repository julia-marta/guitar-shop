{"version":3,"sources":["utils.js","store/slice.js","const.js","store/middlewares/add-photos.js","components/logo/logo.jsx","components/menu-item/menu-item.jsx","components/icon/icon.jsx","components/menu-icon-item/menu-icon-item.jsx","components/menu-text-item/menu-text-item.jsx","components/menu-basket-item/menu-basket-item.jsx","components/menu/menu.jsx","components/header/header.jsx","components/breadcrumbs/breadcrumbs.jsx","components/main/main.jsx","components/filter-item/filter-item.jsx","components/input/input.jsx","components/filter-price/filter-price.jsx","components/checkbox/checkbox.jsx","components/filter-type/filter-type.jsx","components/filter-strings/filter-strings.jsx","components/filter/filter.jsx","components/sorting/sorting.jsx","components/button/button.jsx","components/guitar-card/guitar-card.jsx","components/guitars/guitars.jsx","components/pagination/pagination.jsx","components/showcase/showcase.jsx","components/catalogue/catalogue.jsx","components/purchase-product/purchase-product.jsx","components/purchase-card/purchase-card.jsx","components/purchases/purchases.jsx","components/order/order.jsx","components/cart/cart.jsx","components/footer/footer.jsx","components/pop-up/pop-up.jsx","components/page/page.jsx","components/app/app.jsx","index.js"],"names":["parseStringToLocaleString","value","Number","toLocaleString","parseDataToArrayOfValues","obj","key","Object","values","reduce","acc","item","isNumbersOnly","test","parseCsv","path","a","Promise","resolve","reject","Papa","parse","download","header","complete","results","error","getData","createAsyncThunk","response","data","console","initialState","guitarData","cartData","localStorage","getItem","JSON","sorting","filter","price","min","max","type","electric","acoustic","ukulele","strings","4","6","7","12","availableStrings","promoCode","orderSum","popUp","index","guitarShopSlice","createSlice","name","reducers","openPopUp","state","action","payload","closePopUp","_action","setSorting","setFilter","setAvailableStrings","addToCart","count","id","setItem","stringify","changeCount","deleteFromCart","keys","length","removeItem","setOrderSum","setPromoCode","extraReducers","fulfilled","normalizedData","result","catalogueData","Reducer","reducer","actions","setCatalogueData","HEADER_MENU_ITEMS","USER_MENU_ITEMS","label","SOCIAL_MENU_ITEMS","FOOTER_MENU_ITEMS","title","text","items","content","BREADCRUMBS","STARS","ALL_STRINGS","PROMOCODES","NavigationButton","ControlButton","LogoType","ButtonType","MORE","BUY","ADD","DELETE","CONTINUE","GO_TO_BASKET","PROMO","CHECKOUT","PopUpType","buttons","SUCCESS","SortingType","PRICE","RATING","SortingOrder","ASCENDING","icon","DESCENDING","GuitarImage","BadCode","AppRoute","Key","PageType","PageTitle","CATALOGUE","CART","FilterField","legend","inputs","checkboxes","GuitarType","IconType","ARROW","width","height","BASKET","CHECKBOX","CLOCK","FACEBOOK","INSTAGRAM","MAP","PHONE","SEARCH","STAR","STAR_EMPTY","TOGGLE_DOWN","TOGGLE_UP","TWITTER","RUB_SYMBOL","String","fromCharCode","addPhotos","_store","next","map","image","code","Logo","isMain","src","alt","className","href","to","MenuItem","isActive","onClick","Icon","xlinkHref","MenuIconItem","aria-label","toUpperCase","MenuTextItem","MenuBasketItem","useSelector","Menu","activeItem","isText","isIconsOnly","onItemClick","i","Header","isWebPSupport","Breadcrumbs","Main","children","breadcrumbs","slice","FilterItem","symbol","Input","placeholder","onChangeInput","onBlurInput","htmlFor","onChange","onBlur","FilterPrice","minCataloguePrice","maxCataloguePrice","dispatch","useDispatch","minPlaceholder","maxPlaceholder","isMinPriceMoreThanMaxPrice","isMinPriceLessThanMinCataloguePrice","isMaxPriceMoreThanMaxCataloguePrice","handleInputChange","useCallback","evt","preventDefault","newValue","target","replace","handleInputBlur","correctPrice","currentInput","input","Checkbox","disabled","onChangeCheckbox","useEffect","checked","FilterType","handleCheckboxChange","checkbox","FilterStrings","includes","GUITAR_TYPE","STRINGS","Filter","minPrice","maxPrice","Sorting","SORTING_ITEMS","SORTING_TOGGLE_ITEMS","handleSortingMenuItem","innerText","order","handleSortingToggleItem","Button","GuitarCard","reviewsCount","guitar","rating","Math","round","handleBasketButtonClick","product","srcSet","star","Guitars","PREVIOUS","NEXT","DOTS","Pagination","currentPage","totalPages","onButtonClick","pages","previous","first","prevDots","FIRST_PAGE_NUMBER","nextDots","last","handleButtonClick","newPage","page","toString","Showcase","guitars","useState","setCurrentPage","start","end","currentRange","setCurrentRange","setTotalPages","guitarsToShow","setGuitarsToShow","ceil","handlePaginationClick","cardsRangeStart","cardsRandeEnd","Catalogue","cataloguePrice","setCataloguePrice","allPrices","apply","isFilterByPrice","isFilterByType","some","isFilterByStrings","filtered","checkedTypes","entries","Set","flat","types","filterByType","filterByStrings","sortedData","sort","b","sortItems","PurchaseProduct","string","isPopUp","substring","PurchaseCard","isEmptyCard","handleControlClick","decreasedCount","handleDeleteButtonClick","Purchases","purchases","isEmpty","total","promocode","discount","getTotalSum","Order","promoValue","setPromoValue","badCode","setBadCode","handlePromoButtonClick","Cart","Footer","PopUp","productId","history","useHistory","handleCloseButtonClick","handlePopUpButtonClick","push","stopPropagation","button","Page","useWebPSupportCheck","document","body","style","overflow","addEventListener","handleEscKeyDown","removeEventListener","ROOT","MAIN","INNER","App","exact","store","configureStore","middleware","getDefaultMiddleware","serializableCheck","concat","all","then","ReactDOM","render","getElementById","catch","err"],"mappings":"yPAAaA,EAA4B,SAACC,GACxC,OAAOC,OAAOD,GAAOE,eAAe,UAczBC,EAA2B,SAACC,EAAKC,GAC5C,OAAOC,OAAOC,OAAOH,GAAKI,QAAO,SAACC,EAAKC,GACrC,MAAM,GAAN,mBAAWD,GAAX,CAAgBC,EAAKL,OACpB,KAOQM,EAAgB,SAACX,GAC5B,MAAQ,YAAYY,KAAKZ,ICpBrBa,EAAQ,uCAAG,WAAOC,GAAP,SAAAC,EAAA,+EACR,IAAIC,SAAQ,SAACC,EAASC,GAC3BC,IAAKC,MAAMN,EAAM,CACfO,UAAU,EACVC,QAAQ,EACRC,SAAU,SAACC,GACT,OAAOP,EAAQO,IAEjBC,MAAO,SAACA,GACN,OAAOP,EAAOO,UATL,2CAAH,sDAeDC,EAAUC,YAAiB,sBAAD,sBAAyB,4BAAAZ,EAAA,+EAGrCF,EApBV,2GAiB+C,cAGtDe,EAHsD,yBAIrDA,EAASC,MAJ4C,gCAM5DC,QAAQL,MAAR,MAN4D,0DAa1DM,EAAe,CACnBC,WAAY,GACZC,SALeC,aAAaC,QAAQ,QAAUC,KAAKhB,MAAMc,aAAaC,QAAQ,SAAW,GAMzFE,QAAS,GACTC,OAAQ,CACNC,MAAO,CAACC,IAAI,GAAKC,IAAI,IACrBC,KAAM,CAACC,UAAU,EAAOC,UAAU,EAAOC,SAAS,GAClDC,QAAS,CAACC,GAAG,EAAOC,GAAG,EAAOC,GAAG,EAAOC,IAAI,IAE9CC,iBAAkB,CAAC,EAAG,EAAG,EAAG,IAC5BC,UAAU,GACVC,SAAU,EACVC,MAAO,KACPC,MAfYrB,aAAaC,QAAQ,SAAWlC,OAAOiC,aAAaC,QAAQ,UAAY,GAkBhFqB,EAAkBC,YAAY,CAClCC,KAAM,cACN3B,eACA4B,SAAU,CACRC,UADQ,SACEC,EAAOC,GACfD,EAAMP,MAAQQ,EAAOC,SAEvBC,WAJQ,SAIGH,EAAOI,GAChBJ,EAAMP,MAAQ,MAEhBY,WAPQ,SAOGL,EAAOC,GAChBD,EAAMxB,QAAUyB,EAAOC,SAEzBI,UAVQ,SAUEN,EAAOC,GACfD,EAAMvB,OAASwB,EAAOC,SAExBK,oBAbQ,SAaYP,EAAOC,GACzBD,EAAMV,iBAAmBW,EAAOC,SAElCM,UAhBQ,SAgBER,EAAOC,GACVD,EAAM5B,SAAS6B,EAAOC,SAIzBF,EAAM5B,SAAS6B,EAAOC,SAAtB,2BAAqCF,EAAM5B,SAAS6B,EAAOC,UAA3D,IAAqEO,MAAOT,EAAM5B,SAAS6B,EAAOC,SAASO,MAAQ,KAHnHT,EAAM5B,SAAS6B,EAAOC,SAAW,CAACQ,GAAIT,EAAOC,QAASO,MAAO,GAC7DT,EAAMN,OAAS,GAIjBrB,aAAasC,QAAQ,OAAQpC,KAAKqC,UAAUZ,EAAM5B,WAClDC,aAAasC,QAAQ,QAASX,EAAMN,QAEtCmB,YA1BQ,SA0BIb,EAAOC,GACjBD,EAAM5B,SAAS6B,EAAOC,QAAQQ,IAA9B,2BAAwCV,EAAM5B,SAAS6B,EAAOC,QAAQQ,KAAtE,IAA2ED,MAAOR,EAAOC,QAAQO,QACjGpC,aAAasC,QAAQ,OAAQpC,KAAKqC,UAAUZ,EAAM5B,YAEpD0C,eA9BQ,SA8BOd,EAAOC,UACbD,EAAM5B,SAAS6B,EAAOC,SAC7BF,EAAMN,OAAS,EAE4B,IAAvCjD,OAAOsE,KAAKf,EAAM5B,UAAU4C,QAC9B3C,aAAa4C,WAAW,QACxB5C,aAAa4C,WAAW,WAExB5C,aAAasC,QAAQ,OAAQpC,KAAKqC,UAAUZ,EAAM5B,WAClDC,aAAasC,QAAQ,QAASX,EAAMN,SAGxCwB,YA1CQ,SA0CIlB,EAAOC,GACjBD,EAAMR,SAAWS,EAAOC,SAE1BiB,aA7CQ,SA6CKnB,EAAOC,GAClBD,EAAMT,UAAYU,EAAOC,UAG7BkB,cAAc,eACXvD,EAAQwD,WAAY,SAACrB,EAAOC,GAC3B,IAAMqB,EAA+BrB,EAAOC,QD/FpCvD,QAAO,SAAC4E,EAAQ1E,EAAM6C,GAEhC,OADA6B,EAAO7B,EAAQ,GAAK7C,EACb0E,IACN,IC8FCvB,EAAM7B,WAAamD,EACnBtB,EAAMwB,cAAgBF,OAKtBG,EAAU9B,EAAgB+B,QAEzB,EAYD/B,EAAgBgC,QAVlB5B,GAFG,EACH6B,iBADG,EAEH7B,WACAI,EAHG,EAGHA,WACAE,EAJG,EAIHA,WACAC,EALG,EAKHA,UACAC,EANG,EAMHA,oBACAC,EAPG,EAOHA,UACAK,EARG,EAQHA,YACAC,EATG,EASHA,eACAI,EAVG,EAUHA,YACAC,EAXG,EAWHA,aAGWM,IChIFI,EAAoB,CAAC,6CAAD,6LAEpBC,EAAkB,CAC7B,CACEjD,KAAK,MACLkD,MAAM,uEAER,CACElD,KAAK,SACLkD,MAAM,8EAER,CACElD,KAAK,SACLkD,MAAM,+CAIGC,EAAoB,CAC/B,CACEnD,KAAK,WACLkD,MAAM,8CAER,CACElD,KAAK,YACLkD,MAAM,0DAER,CACElD,KAAK,UACLkD,MAAM,+CAIGE,EAAoB,CAC/B,CACEpD,KAAK,QACLqD,MAAM,4BACNC,KAAM,CAAC,kbAAD,oTAER,CACEtD,KAAK,YACLqD,MAAM,6CACNE,MAAO,CAAC,gHAAD,0SAET,CACEvD,KAAK,cACLqD,MAAM,+DACNE,MAAO,CAAC,2DAAD,8NAET,CACEvD,KAAK,WACLqD,MAAM,mDACNC,KAAM,CAAC,8QAA6D,CAACtD,KAAK,QAAUwD,QAAQ,mBAAtF,uEAA4H,CAACxD,KAAK,QAAUwD,QAAQ,oCAApJ,0EAIGC,EAAc,CAAC,6CAAD,uGAEdC,EAAQ,CAAC,IAAD,iBAQRC,EAAc,CAAC,EAAG,EAAG,EAAG,IAExBC,EAAa,CAAC,YAAD,4BAEbC,EACF,iCADEA,EAEN,iCAFMA,EAGN,MAGMC,EACF,WADEA,EAEF,WAGEC,EACJ,SADIA,EAEJ,SAGIC,EAAa,CACxBC,KAAM,CACJjE,KAAK,OACLqD,MAAM,0DAERa,IAAK,CACHlE,KAAK,QACLqD,MAAM,wCAERc,IAAK,CACHnE,KAAK,QACLqD,MAAM,sGAERe,OAAQ,CACNpE,KAAK,QACLqD,MAAM,6EAERgB,SAAU,CACRrE,KAAK,cACLqD,MAAM,2GAERiB,aAAc,CACZtE,KAAK,QACLqD,MAAM,gGAERkB,MAAO,CACLvE,KAAK,OACLqD,MAAM,yFAERmB,SAAU,CACRxE,KAAK,QACLqD,MAAM,oFAIGoB,EAAY,CACvBN,IAAK,CACHnE,KAAK,MACLqD,MAAM,oIACNqB,QAAS,CAACV,EAAWG,MAEvBC,OAAQ,CACNpE,KAAK,SACLqD,MAAM,sGACNqB,QAAS,CAACV,EAAWI,OAAQJ,EAAWK,WAE1CM,QAAS,CACP3E,KAAK,UACLqD,MAAM,+KACNqB,QAAS,CAACV,EAAWM,aAAcN,EAAWK,YAIrCO,EAAc,CACzBC,MAAO,CACLxB,MAAM,wCACNrD,KAAK,SAEP8E,OAAQ,CACNzB,MAAM,wFACNrD,KAAK,WAII+E,GAAe,CAC1BC,UAAW,CACT3B,MAAM,kFACNrD,KAAK,YACLiF,KAAK,aAEPC,WAAY,CACV7B,MAAM,gEACNrD,KAAK,aACLiF,KAAK,gBAIIE,GAAc,CACzB,SAAW,UACX,SAAW,UACX,SAAW,UACX,SAAW,UACX,SAAW,UACX,SAAW,UACX,SAAW,UACX,SAAW,UACX,SAAW,UACX,6CAAU,UACV,gHAAsB,UACtB,iFAAgB,WAGLC,GACH,UADGA,GAEK,UAGLC,GACN,IADMA,GAEN,QAGMC,GACP,MADOA,GAEJ,SAGIC,GACN,YADMA,GAEL,OAGKC,GAAY,CACvBC,UAAU,4EACVC,KAAK,8CAGMC,GACJ,CACLC,OAAO,4BACP5E,KAAK,QACL6E,OAAQ,CACN,CACE7E,KAAK,MACLkC,MAAM,+FAER,CACElC,KAAK,MACLkC,MAAM,uGAXDyC,GAeE,CACXC,OAAO,oDACP5E,KAAK,cACL8E,WAAY,CACV,CACE9E,KAAK,WACLkC,MAAM,iHAER,CACElC,KAAK,WACLkC,MAAM,kFAER,CACElC,KAAK,UACLkC,MAAM,gDA7BDyC,GAiCF,CACPC,OAAO,8FACP5E,KAAK,UACL8E,WAAY,CACV,CACE9E,KAAM,EACNkC,MAAM,KAER,CACElC,KAAM,EACNkC,MAAM,KAER,CACElC,KAAM,EACNkC,MAAM,KAER,CACElC,KAAM,GACNkC,MAAM,QAMD6C,GAAa,CACxB9F,SAAU,CACRe,KAAK,iFACLZ,QAAS,CAAC,EAAG,EAAG,IAElBF,SAAU,CACRc,KAAK,gHACLZ,QAAS,CAAC,EAAG,EAAG,KAElBD,QAAS,CACPa,KAAK,6CACLZ,QAAS,CAAC,KAID4F,GAAW,CACtBC,MAAO,CACLjF,KAAK,QACLkF,MAAO,GACPC,OAAQ,IAEVC,OAAQ,CACNpF,KAAK,SACLkF,MAAO,GACPC,OAAQ,IAEVT,KAAM,CACJ1E,KAAK,OACLkF,MAAO,GACPC,OAAQ,IAEVE,SAAU,CACRrF,KAAK,WACLkF,MAAO,GACPC,OAAQ,IAEVG,MAAO,CACLtF,KAAK,QACLkF,MAAO,GACPC,OAAQ,IAEVI,SAAU,CACRvF,KAAK,WACLkF,MAAO,GACPC,OAAQ,IAEVK,UAAW,CACTxF,KAAK,YACLkF,MAAO,GACPC,OAAQ,IAEVM,IAAK,CACHzF,KAAK,MACLkF,MAAO,GACPC,OAAQ,IAEVO,MAAO,CACL1F,KAAK,QACLkF,MAAO,GACPC,OAAQ,IAEVQ,OAAQ,CACN3F,KAAK,SACLkF,MAAO,GACPC,OAAQ,IAEVS,KAAM,CACJ5F,KAAK,OACLkF,MAAO,GACPC,OAAQ,IAEVU,WAAY,CACV7F,KAAK,aACLkF,MAAO,GACPC,OAAQ,IAEVW,YAAa,CACX9F,KAAK,cACLkF,MAAO,GACPC,OAAQ,IAEVY,UAAW,CACT/F,KAAK,YACLkF,MAAO,GACPC,OAAQ,IAEVa,QAAS,CACPhG,KAAK,UACLkF,MAAO,GACPC,OAAQ,KAICc,GAAaC,OAAOC,aAAa,MC9VjCC,GAAY,SAACC,GAAD,OAAY,SAACC,GAAD,OAAU,SAAClG,GAS9C,MAPI,kCAAAA,EAAOpB,MAEToB,EAAOC,QAAQkG,KAAI,SAACvJ,GAClB,OAAOA,EAAKwJ,MAAQrC,GAAYnH,EAAKyJ,MAAQtC,GAAYnH,EAAKyJ,MAAQtC,GAAYnH,EAAKgC,SAIpFsH,EAAKlG,M,0CCWCsG,GAjBF,SAAC,GAAoB,IAAnB1H,EAAkB,EAAlBA,KAAM2H,EAAY,EAAZA,OAEbH,EAAQ,qCAAE,sBAAKI,IAAG,cAAS5H,EAAT,aAA0BkG,MAAM,KAAKC,OAAO,KAAK0B,IAAI,6DAE7E,OACE,sBAAKC,UAAS,UAAK9H,EAAL,UAAd,SAEG2H,EAAS,oBAAGG,UAAS,UAAK9H,EAAL,eAAwB+H,KAAK,IAAzC,SAA8CP,IAAa,eAAC,KAAD,CAAMQ,GAAI3C,GAAV,SAA0BmC,OCOtFS,GAhBE,SAAC,GAAgC,IAA/B5E,EAA8B,EAA9BA,MAAO6E,EAAuB,EAAvBA,SAAUC,EAAa,EAAbA,QAEhC,OACE,qBAAIL,UAAU,aAAd,SAEE,oBAAGA,UAAS,qBAAgBI,EAAQ,yBAAgCH,KAAK,IAAII,QAASA,EAAtF,SAAgG9E,OCYzF+E,GAjBF,SAAC,GAAY,IAAXnD,EAAU,EAAVA,KAEb,OACE,sBAAK6C,UAAS,qBAAgB7C,EAAKjE,MAAQkF,MAAOjB,EAAKiB,MAAOC,OAAQlB,EAAKkB,OAA3E,SACE,sBAAKkC,UAAS,8BAAyBpD,EAAKjE,WCenCsH,GAjBM,SAAC,GAAmB,IAAlBrD,EAAiB,EAAjBA,KAAM/B,EAAW,EAAXA,MAEzB,OACE,qBAAI4E,UAAU,aAAd,SAEE,oBAAGA,UAAU,aAAaC,KAAK,IAAIQ,aAAYrF,EAA/C,SACE,eAAC,GAAD,CAAM+B,KAAMe,GAAS,GAAD,OAAIf,EAAKuD,uBCoBxBC,GA1BM,SAAC,GAAY,IAAXnF,EAAU,EAAVA,KAErB,OACE,qBAAIwE,UAAS,qBAAgB,kBAAOxE,EAAP,uBAA7B,SACG,kBAAOA,EACR,uCACE,eAAC,GAAD,CAAM2B,KAAMe,GAAS,GAAD,OAAI1C,EAAKtD,KAAKwI,kBACjC,UAAAlF,EAAKtD,KACN,oBAAG8H,UAAU,8BAA8BC,KAAI,cAASzE,EAAKE,SAA7D,SAAyEF,EAAKE,UAC9E,oBAAGsE,UAAU,aAAb,SAA2BxE,EAAKE,aAElC,oBAAGsE,UAAU,aAAb,SAA2BxE,OCUlBoF,GAnBQ,SAAC,GAAmB,IAAlBzD,EAAiB,EAAjBA,KAAM/B,EAAW,EAAXA,MAErBrC,EAAQ8H,aAAY,SAACxH,GAAD,OAAWA,EAAMN,SAE3C,OACE,qBAAIiH,UAAU,aAAd,SACE,gBAAC,KAAD,CAAMA,UAAU,aAAaE,GAAI3C,GAAekD,aAAYrF,EAA5D,UACE,eAAC,GAAD,CAAM+B,KAAMe,GAAS,GAAD,OAAIf,EAAKuD,kBAC7B,sBAAKV,UAAU,cAAf,SAA8BjH,UCezB+H,GAvBF,SAAC,GAAiE,IAAhE5I,EAA+D,EAA/DA,KAAMuD,EAAyD,EAAzDA,MAAOsF,EAAkD,EAAlDA,WAAYC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,YAAaC,EAAiB,EAAjBA,YAE3D,OACE,qBAAIlB,UAAS,qBAAgB9H,GAA7B,SACGuD,EAAMgE,KAAI,SAACvJ,EAAMiL,GAAP,OACTH,EAAS,eAAC,GAAD,CAA2BxF,KAAMtF,GAAbiL,EAAI,GACjC,WAAAjL,EAAKgC,KAAoB,eAAC,GAAD,CAA6BiF,KAAMjH,EAAKgC,KAAMkD,MAAOlF,EAAKkF,OAApC+F,EAAI,GACnDF,EAAc,eAAC,GAAD,CAA2B9D,KAAMjH,EAAKgC,KAAMkD,MAAOlF,EAAKkF,MAAOiF,QAASa,GAApDC,EAAI,GACtC,eAAC,GAAD,CAAuB5F,MAAOrF,EAAMmK,QAASa,EAAad,SAAUlK,IAAS6K,GAA7DI,EAAI,SCWbC,GApBA,SAAC,GAA6B,IAA5BvB,EAA2B,EAA3BA,OAAQwB,EAAmB,EAAnBA,cAEvB,OACE,yBAAQrB,UAAU,SAAlB,SACE,uBAAKA,UAAS,0BAAqBqB,EAAa,mDAAlC,cAAd,UACE,eAAC,GAAD,CAAMnJ,KAAM+D,EAAiB4D,OAAQA,IACrC,uBAAKG,UAAU,qBAAf,UACE,eAAC,GAAD,CAAM9H,KAAI,OAAUuD,MAAOP,IAC3B,eAAC,GAAD,CAAMhD,KAAI,OAAUuD,MAAON,EAAiB8F,aAAa,aCgBpDK,GAxBK,SAAC,GAAa,IAAZ7F,EAAW,EAAXA,MAEpB,OACI,qBAAIuE,UAAU,cAAd,SACGvE,EAAMgE,KAAI,SAACvJ,EAAMiL,GAAP,OACT,qBAAiBnB,UAAU,oBAA3B,SACGmB,IAAO1F,EAAMpB,OAAS,EAEvB,oBAAG2F,UAAU,oBAAoBC,KAAK,IAAtC,SAA2C/J,IAC3C,uCACE,eAAC,KAAD,CAAM8J,UAAU,oBAAoBE,GAAI3C,GAAxC,SAAwDrH,IACxD,eAAC,GAAD,CAAMiH,KAAMe,GAASC,YANfgD,EAAI,SCmBTI,GAxBF,SAAC,GAA8B,IAA7BrJ,EAA4B,EAA5BA,KAAMsJ,EAAsB,EAAtBA,SAEbC,EAFmC,EAAZ5B,OAEAlE,EAAY+F,MAAM,EAAG/F,EAAYtB,OAAS,GAAKsB,EAE5E,OACE,wBAAMqE,UAAU,OAAhB,UACE,qBAAIA,UAAU,kBAAd,0cACA,0BAASA,UAAW9H,EAApB,SACE,uBAAK8H,UAAS,UAAK9H,EAAL,uBAAd,UACE,qBAAI8H,UAAS,UAAK9H,EAAL,WAAb,SAAkCwF,GAAU,GAAD,OAAIxF,EAAKwI,kBACpD,eAAC,GAAD,CAAajF,MAAOgG,IACnBD,W,QCOIG,GArBI,SAAC,GAAsC,IAArCzI,EAAoC,EAApCA,KAAM4E,EAA8B,EAA9BA,OAAQ8D,EAAsB,EAAtBA,OAAQJ,EAAc,EAAdA,SAEzC,OACE,4BAAUxB,UAAS,qCAAgC9G,GAAnD,UACE,sBAAI8G,UAAU,wCAAd,UAAuDlC,EAAvD,IAAgE8D,GAAU,gCAAOA,OACjF,sBAAK5B,UAAS,2CAAsC9G,GAApD,SACGsI,QCeMK,GArBD,SAAC,GAA8E,IAA7E7B,EAA4E,EAA5EA,UAAW9G,EAAiE,EAAjEA,KAAMkC,EAA2D,EAA3DA,MAAO5F,EAAoD,EAApDA,MAAOsM,EAA6C,EAA7CA,YAAaC,EAAgC,EAAhCA,cAAeC,EAAiB,EAAjBA,YAEzE,OACE,uCACE,wBAAOhC,UAAU,kBAAkBiC,QAAS/I,EAA5C,SAAmDkC,IACnD,wBAAO4E,UAAWA,EAAW9H,KAAK,OAAO6B,GAAIb,EAAMA,KAAMA,EAAM1D,MAAOA,EACpE0M,SAAUH,EAAeI,OAAQH,EAAaF,YAAaA,QCwEpDM,GA1EK,SAAC,GAAoD,IAAnDrE,EAAkD,EAAlDA,OAAQsE,EAA0C,EAA1CA,kBAAmBC,EAAuB,EAAvBA,kBAEzCxK,EAAS+I,aAAY,SAACxH,GAAD,OAAWA,EAAMvB,UACtCyK,EAAWC,cAEXC,EAAiBlN,EAA0B8M,GAC3CK,EAAiBnN,EAA0B+M,GAE3CK,EAA6B7K,EAAOC,MAAMC,KAAOF,EAAOC,MAAME,KAAOH,EAAOC,MAAMC,IAAMF,EAAOC,MAAME,IACrG2K,EAAsC9K,EAAOC,MAAMC,KAAOF,EAAOC,MAAMC,IAAMqK,EAC7EQ,EAAsC/K,EAAOC,MAAME,KAAOH,EAAOC,MAAME,IAAMqK,EAE7EQ,EAAoBC,uBACxB,SAACC,GACGA,EAAIC,iBAEJ,IAAMC,EAAwBF,EAAIG,OAAO3N,MhBlBjC4N,QAAQ,MAAO,IgBoBlBjN,EAAc+M,IAInBX,EAAS5I,EAAU,2BAAI7B,GAAL,IAAaC,MAAM,2BAAKD,EAAOC,OAAb,kBAAqBiL,EAAIG,OAAOpJ,GAAKtE,OAAOyN,WAEjF,CAACX,EAAUzK,IAGVuL,EAAkBN,uBACtB,SAACC,GACC,IAEIM,EAFEC,EAAeP,EAAIG,OAAOpJ,GAI5B4I,IACFW,EAA2B,QAAZC,EAAyB,CAACtL,IAAKH,EAAOC,MAAME,IAAKD,IAAKF,EAAOC,MAAME,KAAO,CAACA,IAAKH,EAAOC,MAAMC,IAAKA,IAAKF,EAAOC,MAAMC,MAGjI4K,IACFU,EAAe,CAACrL,IAAKH,EAAOC,MAAME,IAAKD,IAAKqK,IAG1CQ,IACFS,EAAe,CAACrL,IAAKqK,EAAmBtK,IAAKF,EAAOC,MAAMC,MAGxDsL,GACFf,EAAS5I,EAAU,2BAAI7B,GAAL,IAAaC,MAAO,CAACC,IAAKsL,EAAatL,IAAKC,IAAKqL,EAAarL,WAKjF,CAACsK,EAAUzK,EAAQ+K,EAAqCD,EAAqCD,EAA4BL,EAAmBD,IAGjJ,OACI,qCACGtE,EAAO0B,KAAI,SAAC+D,GAAD,OACV,eAAC,GAAD,CAAwBxD,UAAS,gBAAmB9G,KAAMsK,EAAMtK,KAAMkC,MAAOoI,EAAMpI,MACjF5F,MAAOsC,EAAOC,MAAMyL,EAAMtK,MAAQ,EAAI3D,EAA0BuC,EAAOC,MAAMyL,EAAMtK,OAAsC,IAA7BpB,EAAOC,MAAMyL,EAAMtK,MAAnB,OAC5F4I,YAAa,QAAA0B,EAAMtK,KAAiBuJ,EAAiBC,EAAgBX,cAAee,EAAmBd,YAAaqB,GAF1GG,EAAMtK,YCvBbuK,GAlCE,SAAC,GAAsD,IAArDvK,EAAoD,EAApDA,KAAMkC,EAA8C,EAA9CA,MAAO5F,EAAuC,EAAvCA,MAAOkO,EAAgC,EAAhCA,SAAUC,EAAsB,EAAtBA,iBAEzC7L,EAAS+I,aAAY,SAACxH,GAAD,OAAWA,EAAMvB,UACtCyK,EAAWC,cAQjB,OANAoB,qBAAU,WACJF,GAAYlO,GACd+M,EAAS5I,EAAU,2BAAI7B,GAAL,IAAaQ,QAAQ,2BAAKR,EAAOQ,SAAb,kBAAuBY,GAAO,UAErE,CAACwK,EAAUnB,EAAUzK,EAAQoB,EAAM1D,IAGpC,uBAAKwK,UAAU,2BAAf,UACE,wBAAO9H,KAAK,WAAW8H,UAAU,mCAAmCjG,GAAIb,EAAMA,KAAMA,EACpF2K,QAASrO,EAAOkO,SAAUA,EAAUxB,SAAUyB,IAC9C,yBAAO3D,UAAU,gBAAgBiC,QAAS/I,EAA1C,UACGkC,EACD,eAAC,GAAD,CAAM+B,KAAMe,GAASK,kBCWduF,GA7BI,SAAC,GAAkB,IAAjB9F,EAAgB,EAAhBA,WAEblG,EAAS+I,aAAY,SAACxH,GAAD,OAAWA,EAAMvB,UACtCyK,EAAWC,cAEXuB,EAAuBhB,uBAC3B,SAACC,GACET,EAAS5I,EAAU,2BAAI7B,GAAL,IAAaI,KAAK,2BAAKJ,EAAOI,MAAb,kBAAoB8K,EAAIG,OAAOpJ,KAAKiJ,EAAIG,OAAOU,gBAElF,CAACtB,EAAUzK,IAGhB,OACI,qCACGkG,EAAWyB,KAAI,SAACuE,GAAD,OACd,eAAC,GAAD,CAA8B9K,KAAM8K,EAAS9K,KAAMkC,MAAO4I,EAAS5I,MACjE5F,MAAOsC,EAAOI,KAAK8L,EAAS9K,MAAOyK,iBAAkBI,GADxCC,EAAS9K,YCenB+K,GA9BO,SAAC,GAAkB,IAAjBjG,EAAgB,EAAhBA,WAEhBlG,EAAS+I,aAAY,SAACxH,GAAD,OAAWA,EAAMvB,UACtCa,EAAmBkI,aAAY,SAACxH,GAAD,OAAWA,EAAMV,oBAChD4J,EAAWC,cAEXuB,EAAuBhB,uBAC3B,SAACC,GACET,EAAS5I,EAAU,2BAAI7B,GAAL,IAAaQ,QAAQ,2BAAKR,EAAOQ,SAAb,kBAAuB0K,EAAIG,OAAOpJ,KAAKiJ,EAAIG,OAAOU,gBAExF,CAACtB,EAAUzK,IAGhB,OACI,qCACGkG,EAAWyB,KAAI,SAACuE,GAAD,OACd,eAAC,GAAD,CAA8B9K,KAAM8K,EAAS9K,KAAMkC,MAAO4I,EAAS5I,MACnE5F,MAAOsC,EAAOQ,QAAQ0L,EAAS9K,MAAOyK,iBAAkBI,EAAsBL,UAAW/K,EAAiBuL,SAASF,EAAS9K,OAD7G8K,EAAS9K,YCf3B6D,GAA+Bc,GAAxBsG,GAAwBtG,GAAXuG,GAAWvG,GAoBvBwG,GAlBA,SAAC,GAA0B,IAAzBC,EAAwB,EAAxBA,SAAUC,EAAc,EAAdA,SAEzB,OACI,wBAAMjL,OAAO,IAAI0G,UAAU,2BAA3B,UACE,qBAAIA,UAAU,gBAAd,kDACA,eAAC,GAAD,CAAY9G,KAAM6D,GAAM7D,KAAM4E,OAAQf,GAAMe,OAAQ8D,OAAQzC,GAA5D,SACE,eAAC,GAAD,CAAapB,OAAQhB,GAAMgB,OAAQsE,kBAAmBiC,EAAUhC,kBAAmBiC,MAErF,eAAC,GAAD,CAAYrL,KAAMiL,GAAYjL,KAAM4E,OAAQqG,GAAYrG,OAAxD,SACE,eAAC,GAAD,CAAYE,WAAYmG,GAAYnG,eAEtC,eAAC,GAAD,CAAY9E,KAAMkL,GAAQlL,KAAM4E,OAAQsG,GAAQtG,OAAhD,SACE,eAAC,GAAD,CAAeE,WAAYoG,GAAQpG,mBC+C9BwG,GA5DC,WAEd,IAAMjC,EAAWC,cACX3K,EAAUgJ,aAAY,SAACxH,GAAD,OAAWA,EAAMxB,WAEvC4M,EAAgB9O,EAAyBmH,EAAD,SAExC4H,EAAuB5O,OAAOC,OAAOkH,IAErC0H,EAAwB5B,uBAC5B,SAACC,GAGC,OAFAA,EAAIC,iBAEGD,EAAIG,OAAOyB,WAChB,KAAK9H,EAAYC,MAAMxB,MACrBgH,EAAS7I,EAAW,CAACmL,MAAOhN,EAAQgN,MAAQhN,EAAQgN,MAAQ5H,GAAaC,UAAUhF,KAAMA,KAAM4E,EAAYC,MAAM7E,QACnH,MACA,KAAK4E,EAAYE,OAAOzB,MACtBgH,EAAS7I,EAAW,CAACmL,MAAOhN,EAAQgN,MAAQhN,EAAQgN,MAAQ5H,GAAaC,UAAUhF,KAAMA,KAAM4E,EAAYE,OAAO9E,WAKrH,CAACqK,EAAU1K,IAGViN,EAA0B/B,uBAC9B,SAACC,GAGC,OAFAA,EAAIC,iBAEGD,EAAIG,OAAOpJ,IAChB,KAAKkD,GAAaG,WAAWlF,KAC3BqK,EAAS7I,EAAW,CAACxB,KAAML,EAAQK,KAAOL,EAAQK,KAAO4E,EAAYC,MAAM7E,KAAM2M,MAAO5H,GAAaG,WAAWlF,QAClH,MACA,KAAK+E,GAAaC,UAAUhF,KAC1BqK,EAAS7I,EAAW,CAACxB,KAAML,EAAQK,KAAOL,EAAQK,KAAO4E,EAAYC,MAAM7E,KAAM2M,MAAO5H,GAAaC,UAAUhF,WAKlH,CAACqK,EAAU1K,IAGhB,OACI,uBAAKmI,UAAU,qBAAf,UACE,oBAAGA,UAAU,2BAAb,iFACA,eAAC,GAAD,CAAM9H,KAAI,UAAauD,MAAOgJ,EAAe1D,WAAYlJ,EAAQK,MAAQ4E,EAAYjF,EAAQK,KAAKwI,eAAenF,MAC/G2F,YAAayD,IACf,sBAAK3E,UAAU,6BAAf,SACG0E,EAAqBjF,KAAI,SAACvJ,GAAD,OAC5B,yBAAyB6D,GAAI7D,EAAKgC,KAAM8H,UAAS,oCAA+BnI,EAAQgN,OAAShN,EAAQgN,QAAU3O,EAAKgC,KAAxC,wCAC9EA,KAAK,SAASuI,aAAYvK,EAAKqF,MAAO8E,QAASyE,EADjD,SAEE,eAAC,GAAD,CAAM3H,KAAMe,GAAS,GAAD,OAAIhI,EAAKiH,KAAKuD,mBAFtBxK,EAAKgC,eCxBZ6M,GA7BA,SAAC,GAAmD,IAAlDxJ,EAAiD,EAAjDA,MAAOyE,EAA0C,EAA1CA,UAAW9H,EAA+B,EAA/BA,KAAMiF,EAAyB,EAAzBA,KAAM7G,EAAmB,EAAnBA,KAAM+J,EAAa,EAAbA,QAEjD,OACE/J,EACA,gBAAC,KAAD,CAAM4J,GAAI5J,EAAM0J,UAAS,UAAKA,EAAL,mBAAyB9H,EAAI,kBAAcA,GAAd,IAAtD,UACGiF,GAAQ,eAAC,GAAD,CAAMA,KAAMA,IACpB5B,KAGH,qBAAG0E,KAAK,IAAID,UAAS,UAAKA,EAAL,mBAAyB9H,EAAI,kBAAcA,GAAd,IAA6BmI,QAASA,EAAxF,UACGlD,GAAQ,eAAC,GAAD,CAAMA,KAAMA,IACpB5B,MCmDMyJ,GA1DI,SAAC,GAAc,IvBoBJC,EuBpBTC,EAAY,EAAZA,OAEb3C,EAAWC,cAEX2C,GvBgBsBF,EuBhBCC,EAAOC,OvBiB7BC,KAAKC,MAAOJ,EAAe,GAAM,MuBflCK,EAA0BvC,uBAC9B,SAACC,GACCA,EAAIC,iBACJV,EAASnJ,EAAU,CAACF,KAAMyD,EAAUN,IAAInE,KAAKwI,cAAe6E,QAASL,EAAOnL,QAC3E,CAACwI,EAAU2C,IAGhB,OACE,sBAAIlF,UAAU,yBAAd,UACE,sBAAKA,UAAU,gCAAf,SACE,qCACE,yBAAQ9H,KAAK,aAAasN,OAAM,kBAAaN,EAAOxF,MAApB,6BAA8CwF,EAAOxF,MAArD,iBAChC,sBAAKM,UAAU,kBAAkBF,IAAG,kBAAaoF,EAAOxF,MAApB,QACpC8F,OAAM,kBAAaN,EAAOxF,MAApB,cAAuCtB,MAAM,KAAKC,OAAO,MAAM0B,IAAG,4GAAuBmF,EAAO3J,cAG1G,uBAAKyE,UAAU,iCAAf,UACE,qBAAIA,UAAU,oBAAd,SACGpE,EAAM6D,KAAI,SAACgG,EAAMtE,GAAP,OACT,qBAAenB,UAAU,eAAzB,SACGmB,EAAIgE,EAAS,eAAC,GAAD,CAAMhI,KAAMe,GAASY,OAAW,eAAC,GAAD,CAAM3B,KAAMe,GAASa,cAD5D0G,QAKb,uBAAMzF,UAAU,kCAAhB,SAAmDkF,EAAOC,YAE5D,uBAAKnF,UAAU,+BAAf,UACE,oBAAGA,UAAU,eAAb,SAA6BkF,EAAO3J,QACpC,oBAAGyE,UAAU,eAAb,mBAAgCzK,EAA0B2P,EAAOnN,OAAjE,YAA2EoH,SAE7E,uBAAKa,UAAU,kCAAf,UACE,eAAC,GAAD,CAAQzE,MAAOW,EAAWC,KAAKZ,MAAOyE,UAAS,iBAAoB9H,KAAMgE,EAAWC,KAAKjE,OACzF,eAAC,GAAD,CAAQqD,MAAOW,EAAWE,IAAIb,MAAOyE,UAAS,wCAA2C9H,KAAMgE,EAAWE,IAAIlE,KAC9GiF,KAAMe,GAASN,KAAMyC,QAASiF,WClBvBI,GA1BC,SAAC,GAAa,IAAZjK,EAAW,EAAXA,MAEhB,OACEA,EAAMpB,OAAS,EACf,qBAAI2F,UAAU,kBAAd,SACGvE,EAAMgE,KAAI,SAACvJ,EAAMiL,GAAP,OACT,eAAC,GAAD,CAA2B+D,OAAQhP,GAAjBA,EAAK6D,SAG3B,oBAAGiG,UAAU,2BAAb,2GCRG2F,GAAwB5J,EAAd6J,GAAc7J,EAAR8J,GAAQ9J,EAmDhB+J,GAjDI,SAAC,GAA8C,IAA7CC,EAA4C,EAA5CA,YAAaC,EAA+B,EAA/BA,WAAYC,EAAmB,EAAnBA,cAEtCC,EAAQ,CACZC,SAAUJ,EvBmDmB,GuBnDeJ,GAC5CS,MvBkD6B,EuBjD7BC,SAAUN,EAAcO,GAAyBN,EvBmD3B,GuBnDqDH,GAC3EE,YvBgD6B,IuBhDhBA,GAAqCC,GvBkD5B,EuBlDuDD,EAAc,EAAIA,IAAgBC,GAAcA,GvBkDvG,EuBlDkID,EAAc,EAAIC,GvBkDpJ,GuBlD+KD,EACrMQ,SAAUR,EAAcC,EAAa,GAAKA,EvBiDpB,GuBjD8CH,GACpEW,KAAMR,EvB8CuB,GuB9CUA,EACvCxG,KAAMuG,EAAcC,GAAaJ,IAG7Ba,EAAoB1D,uBACxB,SAACC,GAGC,GAFAA,EAAIC,iBAEAD,EAAIG,OAAOyB,YAAciB,GAA7B,CAIA,IAAMa,EAAU1D,EAAIG,OAAOyB,YAAce,GACzCI,EAAc,EAAI/C,EAAIG,OAAOyB,YAAcgB,GAC3CG,EAAc,EACdtQ,OAAOuN,EAAIG,OAAOyB,WAElBqB,EAAcS,MAEb,CAACX,EAAaE,IAGnB,OACID,EAAa,GACb,qBAAIhG,UAAU,mCAAd,SACGlK,OAAOC,OAAOmQ,GAAOzG,KAAI,SAACkH,EAAMxF,GAAP,OACxBwF,EAAO,qBAAgB3G,UAAS,2BAAsB2G,IAAShB,IAAYgB,IAASf,GAA9B,4BAA/C,SACL,eAAC,GAAD,CAAQrK,MAAOoL,EAAKC,WAAY5G,UAAS,6BAAwB2G,IAASZ,EAAT,6BAAsDY,IAAShB,IAAYgB,IAASf,GAA9B,0BAAiEe,IAASd,GAAT,+BACtL3N,KAAI,aAAgBmI,QAASoG,KAFjBtF,EAAI,GAAhB,SCgBC0F,GAlDE,SAAC,GAAe,IAAdC,EAAa,EAAbA,QAEjB,EAAsCC,mBxBoDP,GwBpD/B,oBAAOhB,EAAP,KAAoBiB,EAApB,KACA,EAAwCD,mBAAS,CAACE,MAAO,EAAGC,IxBiDhC,IwBjD5B,oBAAOC,EAAP,KAAqBC,EAArB,KACA,EAAoCL,mBAAS,GAA7C,oBAAOf,EAAP,KAAmBqB,EAAnB,KACA,EAA0CN,mBAAS,IAAnD,oBAAOO,EAAP,KAAsBC,EAAtB,KAEA3D,qBAAU,WACR,IAAMsC,EAAQd,KAAKoC,KAAKV,EAAQzM,OxB4CN,GwB3C1BgN,EAAcnB,GACdqB,EAAiBT,EAAQpF,MAAMyF,EAAaF,MAAOE,EAAaD,QAC/D,CAACC,EAAcL,IAElBlD,qBAAU,WACRoD,ExBwC6B,GwBvC7BI,EAAgB,CAACH,MAAO,EAAGC,IxBqCD,MwBnCzB,CAAClB,IAEJ,IAAMyB,EAAwB1E,uBAC5B,SAAC2D,GACCM,EAAeN,GACf,IAAMgB,ExB8BkB,GwB9BkBhB,EAAU,GAC9CiB,EAAiBD,ExB6BC,EwB7BmCZ,EAAQzM,OAASyM,EAAQzM,OAASqN,ExB6BrE,EwB5BxBN,EAAgB,CAACH,MAAOS,EAAiBR,IAAKS,MAC7C,CAACb,IAGN,OACI,uBAAK9G,UAAU,sBAAf,UACE,eAAC,GAAD,IACA,eAAC,GAAD,CAASvE,MAAO6L,IAChB,eAAC,GAAD,CAAYvB,YAAaA,EAAaC,WAAYA,EAAYC,cAAewB,QC6BtEG,GA5DG,WAEhB,IAAMpQ,EAAaqJ,aAAY,SAACxH,GAAD,OAAWA,EAAM7B,cAC1CM,EAAS+I,aAAY,SAACxH,GAAD,OAAWA,EAAMvB,UACtCD,EAAUgJ,aAAY,SAACxH,GAAD,OAAWA,EAAMxB,WACvC0K,EAAWC,cAEjB,EAA0CuE,mBAASjR,OAAOC,OAAOyB,IAAjE,oBAAOqD,EAAP,KAAsBI,EAAtB,KACA,EAA4C8L,mBAAS,CAAC/O,IAAK,EAAGC,IAAK,IAAnE,oBAAO4P,EAAP,KAAuBC,EAAvB,KA4CA,OA1CAlE,qBAAU,WACR,IAAMmE,EAAYpS,EAAyB6B,EAAD,SACpCS,EAAMmN,KAAKnN,IAAI+P,MAAM,KAAMD,GAC3B/P,EAAMoN,KAAKpN,IAAIgQ,MAAM,KAAMD,GACjCD,EAAkB,CAAC9P,MAAKC,UACvB,CAACT,IAEJoM,qBAAU,WAER,IAAMqE,EAAmBnQ,EAAOC,MAAMC,KAA4B,IAArBF,EAAOC,MAAMC,KAAeF,EAAOC,MAAME,KAA4B,IAArBH,EAAOC,MAAMC,IACpGkQ,EAAiBpS,OAAOC,OAAO+B,EAAOI,MAAMiQ,MAAK,SAACjS,GAAD,OAAmB,IAATA,KAC3DkS,EAAoBtS,OAAOC,OAAO+B,EAAOQ,SAAS6P,MAAK,SAACjS,GAAD,OAAmB,IAATA,KACvEqM,EAAS3I,EAAoBiC,IAE3B,I3B6C8B7D,EAAKC,E2B7C/BoQ,EAAWvS,OAAOC,OAAOyB,GAE7B,GAAIyQ,EAAiB,CAEnB,IAAM3D,EAAYxM,EAAOC,MAAMC,IAAUF,EAAOC,MAAMC,IAAjB,EAC/BuM,EAAYzM,EAAOC,MAAME,IAA2BH,EAAOC,MAAME,IAAlC4P,EAAe5P,I3BwCxBD,E2BvCOsM,E3BuCFrM,E2BvCYsM,EAA7C8D,EAAyBA,E3ByCnBvQ,QAAO,SAAA5B,GAAI,OAAK8B,GAAOvC,OAAOS,EAAK6B,QAAUtC,OAAOS,EAAK6B,QAAUE,K2BtC3E,GAAIiQ,EAAgB,CAClB,IAAMI,EAAexS,OAAOyS,QAAQzQ,EAAOI,MAAMlC,QAAO,SAACC,EAAD,2BAAOiC,EAAP,YAAkC,IAAlC,KAAwB,sBAAqBjC,GAArB,CAA0BgI,GAAW/F,GAAMgB,OAAQjD,IAAK,IAClI0C,EAAgB,YAAO,IAAI6P,IAAI1S,OAAOyS,QAAQzQ,EAAOI,MAAMlC,QAAO,SAACC,EAAD,2BAAOiC,EAAP,YAAkC,IAAlC,KAAwB,sBAAqBjC,GAArB,CAA0BgI,GAAW/F,GAAMI,UAAWrC,IAAK,IAAIwS,SAC/JlG,EAAS3I,EAAoBjB,IAC7B0P,E3BqCoB,SAAChR,EAAMqR,GAEjC,OAAOrR,EAAKS,QAAO,SAAA5B,GAAI,OAAKwS,EAAMxE,SAAShO,EAAKgC,S2BvC/ByQ,CAAaN,EAAUC,GAGhCF,IAEFC,E3BqCuB,SAAChR,EAAMiB,GAEpC,OAAOjB,EAAKS,QAAO,SAAA5B,GAAI,OAAKoC,EAAQ4L,SAAShO,EAAKoC,Y2BvCjCsQ,CAAgBP,EADJvS,OAAOyS,QAAQzQ,EAAOQ,SAAStC,QAAO,SAACC,EAAD,2BAAOqC,EAAP,YAAqC,IAArC,KAA2B,sBAAqBrC,GAArB,CAA0BqC,IAAWrC,IAAK,MAIpI,IAAM4S,E3BQa,SAACpN,EAAOvD,EAAM2M,GAEnC,OAAOA,GACL,IAAI,YACF,OAAOpJ,EAAMqN,MAAK,SAACvS,EAAGwS,GACpB,OAAOxS,EAAE2B,GAAQ6Q,EAAE7Q,MAEvB,IAAI,aACF,OAAOuD,EAAMqN,MAAK,SAACvS,EAAGwS,GACpB,OAAOA,EAAE7Q,GAAQ3B,EAAE2B,MAEvB,QACE,OAAOuD,G2BpBUuN,CAAUX,EAAUxQ,EAAQK,KAAML,EAAQgN,OAE7D5J,EAAiB4N,KAElB,CAACrR,EAAYqQ,EAAgBtF,EAAUzK,EAAQD,IAI9C,uBAAKmI,UAAU,qBAAf,UACE,eAAC,GAAD,CAAQsE,SAAUuD,EAAe7P,IAAKuM,SAAUsD,EAAe5P,MAC/D,eAAC,GAAD,CAAU6O,QAASjM,QCvBZoO,GAnCS,SAAC,GAAuB,I5BgBVC,E4BhBZhE,EAAqB,EAArBA,OAAQiE,EAAa,EAAbA,QAEhC,OACE,uCACE,sBAAKnJ,UAAU,kBAAf,SACE,qCACE,yBAAQ9H,KAAK,aAAasN,OAAM,kBAAaN,EAAOxF,MAApB,6BAA8CwF,EAAOxF,MAArD,iBAChC,sBAAKM,UAAU,oBAAoBF,IAAG,kBAAaoF,EAAOxF,MAApB,QACtC8F,OAAM,kBAAaN,EAAOxF,MAApB,cAAuCtB,MAAM,KAAKC,OAAO,MAAM0B,IAAG,4GAAuBmF,EAAO3J,cAG1G,uBAAKyE,UAAU,iBAAf,UACE,sBAAIA,UAAU,kBAAd,UAAiCmJ,EAAO,uCAAcjE,EAAOhN,KAA7D,IAAoEgN,EAAO3J,SAC3E,oBAAGyE,UAAU,iBAAb,+DAA2CkF,EAAOvF,QAClD,oBAAGK,UAAU,iBAAb,oB5BE8BkJ,E4BF0BhE,EAAOhN,K5BG5DgR,EAAO,GAAGxI,cAAgBwI,EAAOE,UAAU,I4BH9C,aAAyElE,EAAO5M,QAAhF,uDACC6Q,GAAW,oBAAGnJ,UAAU,gBAAb,6CAAuCzK,EAA0B2P,EAAOnN,OAAxE,YAAkFoH,aCmGvFkK,GA3GM,SAAC,GAA2B,IAA1BnE,EAAyB,EAAzBA,OAAQoE,EAAiB,EAAjBA,YAEvB/G,EAAWC,cAEXM,EAAoBC,uBACxB,SAACC,GACGA,EAAIC,iBAEC9M,EAAc6M,EAAIG,OAAO3N,OAK9B+M,EAASrI,EAAY,CAACH,GAAImL,EAAOnL,GAAID,MAAOrE,OAAOuN,EAAIG,OAAO3N,UAJ5D+M,EAASrI,EAAY,CAACH,GAAImL,EAAOnL,GAAID,MAX7B,OAgBX,CAACyI,EAAU2C,IAGV7B,EAAkBN,uBACtB,SAACC,GACC,GAAIvN,OAAOuN,EAAIG,OAAO3N,OArBV,EAwBV,OAFA+M,EAASnJ,EAAU,CAACF,KAAMyD,EAAUL,OAAOpE,KAAKwI,cAAe6E,QAASL,EAAOnL,WAC/EwI,EAASrI,EAAY,CAACH,GAAImL,EAAOnL,GAAID,MAvB3B,OA6BX,CAACyI,EAAU2C,IAGRqE,EAAqBxG,uBAC3B,SAACC,GAGC,OAFAA,EAAIC,iBAEID,EAAIG,OAAOpJ,IACjB,KAAKiC,EACH,IAAMwN,EAAiBtE,EAAOpL,MAAQ,EAEtC,GAAI0P,EAxCI,EA2CN,OAFAjH,EAASnJ,EAAU,CAACF,KAAMyD,EAAUL,OAAOpE,KAAKwI,cAAe6E,QAASL,EAAOnL,WAC/EwI,EAASrI,EAAY,CAACH,GAAImL,EAAOnL,GAAID,MA1C/B,KA8CRyI,EAASrI,EAAY,CAACH,GAAImL,EAAOnL,GAAID,MAAO0P,KAE5C,MACF,KAAKxN,EACHuG,EAASrI,EAAY,CAACH,GAAImL,EAAOnL,GAAID,MAAOoL,EAAOpL,MAAQ,KAE3D,MACF,QACE,UAGH,CAACyI,EAAU2C,IAGVuE,EAA0B1G,uBAC9B,SAACC,GACCA,EAAIC,iBACJV,EAASnJ,EAAU,CAACF,KAAMyD,EAAUL,OAAOpE,KAAKwI,cAAe6E,QAASL,EAAOnL,QAE9E,CAACwI,EAAU2C,IAGhB,OACE,sBAAIlF,UAAS,8BAAyBsJ,EAAW,sBAAjD,UACKA,GAAe,uCACd,sBAAItJ,UAAU,kBAAd,UACE,eAAC,GAAD,CAAM7C,KAAMe,GAASN,OADvB,wGAIA,eAAC,GAAD,CAAQrC,MAAOW,EAAWK,SAAShB,MAAOyE,UAAS,iBAAoB9H,KAAMgE,EAAWK,SAASrE,KAAM5B,KAAMiH,QAE9G2H,GACD,uCACE,yBAAQhN,KAAK,SAAS8H,UAAU,mBAAmBS,aAAW,4EAAgBJ,QAASoJ,IACvF,eAAC,GAAD,CAAiBvE,OAAQA,IACzB,oBAAGlF,UAAU,kBAAb,mBAAmCzK,EAA0B2P,EAAOnN,OAApE,YAA8EoH,MAC9E,uBAAKa,UAAU,qBAAf,UACE,yBAAQjG,GAAG,WAAWiG,UAAU,0DAAgD9H,KAAK,SAASuI,aAAW,yDAAYJ,QAASkJ,IAC9H,wBAAOvJ,UAAU,kBAAkBiC,QAAQ,WAA3C,qHACA,wBAAOjC,UAAU,kBAAkB9H,KAAK,SAAS6B,GAAG,WAAWb,KAAK,WAAW1D,MAAO0P,EAAOpL,MAC3FoI,SAAUY,EAAmBX,OAAQkB,IACvC,yBAAQtJ,GAAG,WAAWiG,UAAU,0DAAgD9H,KAAK,SAASuI,aAAW,yDAAYJ,QAASkJ,OAEhI,oBAAGvJ,UAAU,gBAAb,mBAAiCzK,EAA0B2P,EAAOnN,MAAQmN,EAAOpL,OAAjF,YAA2FqF,aC7DtFuK,GAhCG,WAEhB,IAAMjS,EAAWoJ,aAAY,SAACxH,GAAD,OAAWA,EAAM5B,YACxCD,EAAaqJ,aAAY,SAACxH,GAAD,OAAWA,EAAM7B,cAC1CoB,EAAYiI,aAAY,SAACxH,GAAD,OAAWA,EAAMT,aAEzC2J,EAAWC,cAGXmH,EADc7T,OAAOC,OAAOyB,GAAYM,QAAO,SAAC5B,GAAD,OAAUJ,OAAOsE,KAAK3C,GAAUyM,SAAShO,EAAK6D,OACrE0F,KAAI,SAACvJ,GAAU,OAAO,2BAAIA,GAAX,IAAiB4D,MAAOrC,EAASvB,EAAK6D,IAAID,WACjF8P,EAA+B,IAArBD,EAAUtP,OAY1B,OAVAuJ,qBAAU,WACR,GAAIgG,EACFrH,EAAShI,EAAY,QAChB,CACL,IAAMsP,E9BWe,SAACpO,EAAOqO,GAEjC,IAAID,EAAQpO,EAAMzF,QAAO,SAAC6T,EAAD,OAAS9R,EAAT,EAASA,MAAO+B,EAAhB,EAAgBA,MAAhB,OAA2B+P,EAASpU,OAAOsC,GAAS+B,IAAQ,GAErF,GAAIgQ,EAAW,CAEb,IAAIC,EAEJ,OAAOD,GACL,IAAI,YACFC,EAAmB,GAARF,EACb,MACA,IAAI,cACFE,EAAW,IACb,MACA,IAAI,aACFA,EAAmB,GAARF,EAAc,KAAO,KAAe,GAARA,EACzC,MACA,QACE,OAAOE,EAGXF,GAAgBE,EAGlB,OAAOF,E8BpCWG,CAAYL,EAAW/Q,GACrC2J,EAAShI,EAAYsP,IACrBtP,EAAYsP,MAEb,CAACtH,EAAUqH,EAAShR,EAAW+Q,IAGhC,sBAAI3J,UAAU,aAAd,UACG4J,GAAW,eAAC,GAAD,CAAcN,aAAa,KACrCM,GAAWD,EAAUlK,KAAI,SAACvJ,GAAD,OACzB,eAAC,GAAD,CAA4BgP,OAAQhP,GAAjBA,EAAK6D,WCgCjBkQ,GAxDD,WAEZ,IAAMJ,EAAQhJ,aAAY,SAACxH,GAAD,OAAWA,EAAMR,YACrCD,EAAYiI,aAAY,SAACxH,GAAD,OAAWA,EAAMT,aACzC2J,EAAWC,cAEjB,EAAoCuE,mBAAS,IAA7C,oBAAOmD,EAAP,KAAmBC,EAAnB,KACA,EAA8BpD,oBAAS,GAAvC,oBAAOqD,EAAP,KAAgBC,EAAhB,KAEMvH,EAAoBC,uBACxB,SAACC,GACGA,EAAIC,iBACJoH,GAAW,GACXF,EAAcnH,EAAIG,OAAO3N,SAC1B,IAGC8U,EAAyBvH,uBAC7B,SAACC,GACGA,EAAIC,iBAECnH,EAAWoI,SAASgG,EAAWxJ,eAKhC9H,EACFyR,EAAW/M,IAIfiF,EAAS/H,EAAa0P,EAAWxJ,gBAT7B2J,EAAW/M,MAYd,CAACiF,EAAU3J,EAAWsR,IAG3B,OACE,wBAAM5Q,OAAO,IAAI0G,UAAU,oBAA3B,UACE,uBAAKA,UAAU,eAAf,UACE,oBAAGA,UAAU,qBAAb,gHACA,oBAAGA,UAAU,wBAAb,6NACA,uBAAKA,UAAU,uBAAf,UACE,eAAC,GAAD,CAAOA,UAAS,6BAAwBoK,EAAO,gCAAuClR,KAAI,QAAWkC,MAAK,8FAAsB5F,MAAO0U,EAAYnI,cAAee,IAC/JsH,GAAW,uBAAMpK,UAAU,qBAAhB,mBAAyCoK,IAAY9M,GAAZ,wSACvD,eAAC,GAAD,CAAQ/B,MAAOW,EAAWO,MAAMlB,MAAOyE,UAAS,qCAAwC9H,KAAMgE,EAAWO,MAAMvE,KAAMmI,QAASiK,UAGlI,uBAAKtK,UAAU,kBAAf,UACE,oBAAGA,UAAU,wBAAb,mDAAgDzK,EAA0BsU,GAA1E,YAAoF1K,MACpF,eAAC,GAAD,CAAQ5D,MAAOW,EAAWQ,SAASnB,MAAOyE,UAAS,wCAA2C9H,KAAMgE,EAAWQ,SAASxE,cC5CjHqS,GAVF,WAEX,OACE,uBAAKvK,UAAU,gBAAf,UACE,eAAC,GAAD,IACA,eAAC,GAAD,QCwBSwK,GA3BA,SAAC,GAA6B,IAA5B3K,EAA2B,EAA3BA,OAAQwB,EAAmB,EAAnBA,cAEvB,OACE,yBAAQrB,UAAU,SAAlB,SACE,uBAAKA,UAAS,0BAAqBqB,EAAa,mDAAlC,cAAd,UACE,eAAC,GAAD,CAAMnJ,KAAM+D,EAAiB4D,OAAQA,IACrC,eAAC,GAAD,CAAM3H,KAAI,SAAYuD,MAAOJ,EAAmB4F,aAAa,IAC7D,qBAAIjB,UAAU,qBAAd,SACG1E,EAAkBmE,KAAI,SAACvJ,GAAD,OACrB,sBAAqB8J,UAAU,0BAA/B,UACE,qBAAIA,UAAU,2BAAd,SAA0C9J,EAAKqF,QAC9CrF,EAAKsF,KACN,eAAC,GAAD,CAAMtD,KAAMhC,EAAKgC,KAAMuD,MAAOvF,EAAKsF,KAAMwF,QAAQ,IACjD,eAAC,GAAD,CAAM9I,KAAMhC,EAAKgC,KAAMuD,MAAOvF,EAAKuF,UAJ3BvF,EAAKgC,iBC8DZuS,GApED,SAAC,GAAuC,IAAtCvS,EAAqC,EAArCA,KAAMqD,EAA+B,EAA/BA,MAAOmP,EAAwB,EAAxBA,UAAW9N,EAAa,EAAbA,QAEhC2I,EAAU1E,aAAY,SAACxH,GAAD,OAAWA,EAAM7B,WAAWkT,OAAe,KACjEnI,EAAWC,cACXmI,EAAUC,eAEVC,EAAyB9H,uBAC7B,SAACC,GACGA,EAAIC,iBACJV,EAAS/I,OACV,CAAC+I,IAGAuI,EAAyB/H,uBAC7B,SAACC,GAGC,OAFAA,EAAIC,iBAEGD,EAAIG,OAAOyB,WAChB,KAAK1I,EAAWG,IAAId,MAClBgH,EAAS1I,EAAU6Q,IACnBnI,EAAS/I,KACT+I,EAASnJ,EAAU,CAACF,KAAMyD,EAAUE,QAAQ3E,KAAKwI,iBACnD,MACA,KAAKxE,EAAWK,SAAShB,MACvBgH,EAAS/I,KACX,MACA,KAAK0C,EAAWM,aAAajB,MAC3BgH,EAAS/I,KACTmR,EAAQI,KAAKxN,IACb,MACF,KAAKrB,EAAWI,OAAOf,MACrBgH,EAASpI,EAAeuQ,IACxBnI,EAAS/I,QAKZ,CAAC+I,EAAUoI,EAASD,IAGzB,OACE,2BAAS1K,UAAU,SAASK,QAASwK,EAArC,UACE,qBAAI7K,UAAU,kBAAd,yJACA,uBAAKA,UAAS,yCAAoC9H,GAAQmI,QAAS,SAAC2C,GAAD,OAASA,EAAIgI,mBAAhF,UACE,yBAAQ9S,KAAK,SAAS8H,UAAU,gBAAgBS,aAAW,6EAAiBJ,QAASwK,IACrF,qBAAI7K,UAAU,gBAAd,SAA+BzE,IAC/B,uBAAKyE,UAAU,kBAAf,UACGuF,GAAW,sBAAKvF,UAAU,eAAf,SACV,eAAC,GAAD,CAAiBkF,OAAQK,EAAS4D,SAAS,MAE7C,sBAAKnJ,UAAU,kBAAf,SACGpD,EAAQ6C,KAAI,SAACwL,EAAQ9J,GAAT,OACX,eAAC,GAAD,CAAoB5F,MAAO0P,EAAO1P,MAAOyE,UAAS,iBAAoB9H,KAAM+S,EAAO/S,KAAMmI,QAASyK,GAArF3J,EAAI,kBCJhB+J,GA5CF,SAAC,GAAY,IAAXhT,EAAU,EAAVA,KAEPmJ,EAAgB8J,iCAChBtL,EAAS3H,IAASuF,GAClB3E,EAAQ+H,aAAY,SAACxH,GAAD,OAAWA,EAAMP,SACrCyJ,EAAWC,cAEjBoB,qBAAU,WACJ9K,GACFsS,SAASC,KAAKC,MAAMC,SAApB,SACAH,SAASI,iBAAT,UAAqCC,KAErCL,SAASC,KAAKC,MAAMC,SAApB,OACAH,SAASM,oBAAT,UAAwCD,OAI5C,IAAMA,EAAmB1I,uBACvB,SAACC,GACKA,EAAInN,MAAQ2H,IAAcwF,EAAInN,MAAQ2H,KACxCwF,EAAIC,iBACJV,EAAS/I,QAEV,CAAC+I,IAGN,OACE,uCACE,eAAC,GAAD,CAAQ1C,OAAQA,EAAQwB,cAAeA,IACvC,eAAC,GAAD,CAAMnJ,KAAMA,EAAM2H,OAAQA,EAA1B,SACGA,EAAS,eAAC,GAAD,IAAgB,eAAC,GAAD,MAE5B,eAAC,GAAD,CAAQA,OAAQA,EAAQwB,cAAeA,IACtCvI,GACC,eAAC,GAAD,CAAOZ,KAAMyE,EAAU7D,EAAMI,MAAMhB,KAAMqD,MAAOoB,EAAU7D,EAAMI,MAAMqC,MACtEqB,QAASD,EAAU7D,EAAMI,MAAM0D,QAAS8N,UAAW5R,EAAMyM,cC3C1DoG,GAAcpO,GAARK,GAAQL,GACdqO,GAAenO,GAAToO,GAASpO,GAkBPqO,GAhBH,WAEV,OACE,eAAC,KAAD,UACE,gBAAC,KAAD,WACE,eAAC,KAAD,CAAOC,OAAK,EAACzV,KAAMqV,GAAnB,SACE,eAAC,GAAD,CAAMzT,KAAM0T,OAEd,eAAC,KAAD,CAAOG,OAAK,EAACzV,KAAMsH,GAAnB,SACE,eAAC,GAAD,CAAM1F,KAAM2T,aCRhBG,GAAQC,YAAe,CAC3BlR,QAASD,EACToR,WAAY,SAACC,GAAD,OACVA,EAAqB,CACnBC,mBAAmB,IAClBC,OAAO/M,OAGd9I,QAAQ8V,IAAI,CACVN,GAAMzJ,SAASrL,OAEhBqV,MAAK,WACNC,IAASC,OACP,eAAC,IAAD,CAAUT,MAAOA,GAAjB,SACE,eAAC,GAAD,MAEFZ,SAASsB,eAAe,YAGzBC,OAAM,SAACC,GACNtV,QAAQL,MAAM2V,Q","file":"static/js/main.ce9e1ab9.chunk.js","sourcesContent":["export const parseStringToLocaleString = (value) => {\n  return Number(value).toLocaleString('ru-RU');\n};\n\nexport const formatString = (string) => {\n  return string.replace(/\\s/g, '');\n};\n\nexport const normalizeData = (data) => {\n  return data.reduce((result, item, index) => {\n    result[index + 1] = item;\n    return result;\n  }, {});\n}\n\nexport const parseDataToArrayOfValues = (obj, key) => {\n  return Object.values(obj).reduce((acc, item) => {\n    return [...acc, item[key]];\n  }, []);\n};\n\nexport const capitalizeFirstLetter = (string) => {\n    return string[0].toUpperCase() + string.substring(1)\n  };\n\nexport const isNumbersOnly = (value) => {\n  return (/^[0-9 ]*$/.test(value));\n};\n\nexport const getStarsCount = (reviewsCount) => {\n  return Math.round((reviewsCount / 10) * 1.7);\n}\n\nexport const getTotalSum = (items, promocode) => {\n\n  let total = items.reduce((total, {price, count}) => total + (Number(price) * count), 0);\n\n  if (promocode) {\n\n    let discount;\n\n    switch(promocode) {\n      case `GITARAHIT`:\n        discount = total * 0.1;\n      break;\n      case `SUPERGITARA`:\n        discount = 700;\n      break;\n      case `GITARA2020`:\n        discount = total * 0.3 > 3500 ? 3500 : total * 0.3;\n      break;\n      default:\n        return discount;\n    }\n\n    total = total - discount;\n  }\n\n  return total;\n}\n\nexport const sortItems = (items, type, order) => {\n\n    switch(order) {\n      case `ascending`:\n        return items.sort((a, b) => {\n          return a[type] - b[type];\n        });\n      case `descending`:\n        return items.sort((a, b) => {\n          return b[type] - a[type];\n        });\n      default:\n        return items;\n    }\n};\n\nexport const filterByPrice = (data, min, max) => {\n\n  return data.filter(item => (min <= Number(item.price) && Number(item.price) <= max));\n}\n\nexport const filterByType = (data, types) => {\n\n  return data.filter(item => (types.includes(item.type)));\n}\n\nexport const filterByStrings = (data, strings) => {\n\n  return data.filter(item => (strings.includes(item.strings)));\n}\n","import {createSlice,  createAsyncThunk} from '@reduxjs/toolkit';\nimport Papa from 'papaparse';\nimport {normalizeData} from '../utils';\n\nconst csvFilePath = `https://docs.google.com/spreadsheets/d/1E6XeNhetKyCRYK68ArXQNAHj41UAClgZqEhjf7thrC0/gviz/tq?tqx=out:csv`;\n\nconst parseCsv = async (path) => {\n  return new Promise((resolve, reject) => {\n    Papa.parse(path, {\n      download: true,\n      header: true,\n      complete: (results) => {\n        return resolve(results);\n      },\n      error: (error) => {\n        return reject(error);\n      },\n    });\n  });\n}\n\nexport const getData = createAsyncThunk('guitar-shop/getData',  async () => {\n\n  try {\n    const response = await parseCsv(csvFilePath);\n    return response.data\n  } catch (error) {\n    console.error(error);\n  }\n});\n\nconst cartData = localStorage.getItem('cart') ? JSON.parse(localStorage.getItem('cart')) : {};\nconst index = localStorage.getItem('index') ? Number(localStorage.getItem('index')) : 0;\n\nconst initialState = {\n  guitarData: {},\n  cartData: cartData,\n  sorting: {},\n  filter: {\n    price: {min: ``, max: ``},\n    type: {electric: false, acoustic: false, ukulele: false},\n    strings: {4: false, 6: false, 7: false, 12: false}\n  },\n  availableStrings: [4, 6, 7, 12],\n  promoCode: ``,\n  orderSum: 0,\n  popUp: null,\n  index: index,\n};\n\nconst guitarShopSlice = createSlice({\n  name: 'guitar-shop',\n  initialState,\n  reducers: {\n    openPopUp(state, action) {\n      state.popUp = action.payload;\n    },\n    closePopUp(state, _action) {\n      state.popUp = null;\n    },\n    setSorting(state, action) {\n      state.sorting = action.payload;\n    },\n    setFilter(state, action) {\n      state.filter = action.payload;\n    },\n    setAvailableStrings(state, action) {\n      state.availableStrings = action.payload;\n    },\n    addToCart(state, action) {\n      if (!state.cartData[action.payload]) {\n        state.cartData[action.payload] = {id: action.payload, count: 1};\n        state.index += 1;\n      } else {\n        state.cartData[action.payload] = {...state.cartData[action.payload], count: state.cartData[action.payload].count + 1};\n      }\n      localStorage.setItem('cart', JSON.stringify(state.cartData));\n      localStorage.setItem('index', state.index);\n    },\n    changeCount(state, action) {\n      state.cartData[action.payload.id] = {...state.cartData[action.payload.id], count: action.payload.count};\n      localStorage.setItem('cart', JSON.stringify(state.cartData));\n    },\n    deleteFromCart(state, action) {\n      delete state.cartData[action.payload];\n      state.index -= 1;\n\n      if (Object.keys(state.cartData).length === 0) {\n        localStorage.removeItem('cart');\n        localStorage.removeItem('index');\n      } else {\n        localStorage.setItem('cart', JSON.stringify(state.cartData));\n        localStorage.setItem('index', state.index);\n      }\n    },\n    setOrderSum(state, action) {\n      state.orderSum = action.payload;\n    },\n    setPromoCode(state, action) {\n      state.promoCode = action.payload;\n    },\n  },\n  extraReducers: {\n    [getData.fulfilled]: (state, action) => {\n      const normalizedData = normalizeData(action.payload);\n\n      state.guitarData = normalizedData;\n      state.catalogueData = normalizedData;\n    },\n  },\n});\n\nconst Reducer = guitarShopSlice.reducer;\n\nexport const {\n    setCatalogueData,\n    openPopUp,\n    closePopUp,\n    setSorting,\n    setFilter,\n    setAvailableStrings,\n    addToCart,\n    changeCount,\n    deleteFromCart,\n    setOrderSum,\n    setPromoCode\n  } = guitarShopSlice.actions;\n\nexport default Reducer;\n","export const HEADER_MENU_ITEMS = [`Каталог`, `Где купить?`, `О компании`, `Cервис-центры`];\n\nexport const USER_MENU_ITEMS = [\n  {\n    type: `map`,\n    label: `Как проехать`,\n  },\n  {\n    type: `search`,\n    label: `Поиск по сайту`,\n  },\n  {\n    type: `basket`,\n    label: `Корзина`,\n  }\n];\n\nexport const SOCIAL_MENU_ITEMS = [\n  {\n    type: `facebook`,\n    label: `Фейсбук`,\n  },\n  {\n    type: `instagram`,\n    label: `Инстаграм`,\n  },\n  {\n    type: `twitter`,\n    label: `Твиттер`,\n  }\n];\n\nexport const FOOTER_MENU_ITEMS = [\n  {\n    type: `about`,\n    title: `О нас`,\n    text: [`Магазин гитар, музыкальных инструментов и гитарная мастерская в Санкт-Петербурге.`, `Все инструменты проверены, отстроены и доведены до идеала!`],\n  },\n  {\n    type: `catalogue`,\n    title: `Каталог`,\n    items: [`Акустические гитары`, `Классические гитары`, `Электрогитары`, `Бас-гитары`, `Укулеле`],\n  },\n  {\n    type: `information`,\n    title: `Информация`,\n    items: [`Где купить?`, `Блог`, `Вопрос - ответ`, `Возврат`, `Сервис-центры`],\n  },\n  {\n    type: `contacts`,\n    title: `Контакты`,\n    text: [`г. Санкт-Петербург, м. Невский проспект, ул. Казанская 6.`, {type: `phone`, content: `8-812-500-50-50`}, `Режим работы:`, {type: `clock`, content: `с 11:00 до 20:00,`}, `без выходных.`],\n  },\n];\n\nexport const BREADCRUMBS = [`Главная`, `Каталог`, `Оформляем`];\n\nexport const STARS = [`1`, `2`, `3`, `4`, `5`];\n\nexport const CARDS_PER_PAGE = 9;\n\nexport const FIRST_PAGE_NUMBER = 1;\n\nexport const PAGER_SIZE = 3;\n\nexport const ALL_STRINGS = [4, 6, 7, 12];\n\nexport const PROMOCODES = [`GITARAHIT`, `SUPERGITARA`, `GITARA2020`];\n\nexport const NavigationButton = {\n  PREVIOUS: `Назад`,\n  NEXT: `Далее`,\n  DOTS: `...`\n};\n\nexport const ControlButton = {\n  DECREASE: `decrease`,\n  INCREASE: `increase`,\n};\n\nexport const LogoType = {\n  HEADER: `header`,\n  FOOTER: `footer`\n};\n\nexport const ButtonType = {\n  MORE: {\n    type: `mono`,\n    title: `Подробнее`\n  },\n  BUY: {\n    type: `color`,\n    title: `Купить`\n  },\n  ADD: {\n    type: `color`,\n    title: `Добавить в корзину`\n  },\n  DELETE: {\n    type: `color`,\n    title: `Удалить товар`\n  },\n  CONTINUE: {\n    type: `transparent`,\n    title: `Продолжить покупки`\n  },\n  GO_TO_BASKET: {\n    type: `color`,\n    title: `Перейти в корзину`\n  },\n  PROMO: {\n    type: `mono`,\n    title: `Применить купон`\n  },\n  CHECKOUT: {\n    type: `color`,\n    title: `Оформить заказ`\n  },\n};\n\nexport const PopUpType = {\n  ADD: {\n    type: `add`,\n    title: `Добавить товар в корзину`,\n    buttons: [ButtonType.ADD]\n  },\n  DELETE: {\n    type: `delete`,\n    title: `Удалить этот товар?`,\n    buttons: [ButtonType.DELETE, ButtonType.CONTINUE]\n  },\n  SUCCESS: {\n    type: `success`,\n    title: `Товар успешно добавлен в корзину`,\n    buttons: [ButtonType.GO_TO_BASKET, ButtonType.CONTINUE]\n  },\n};\n\nexport const SortingType = {\n  PRICE: {\n    title: `по цене`,\n    type: `price`\n  } ,\n  RATING: {\n    title: `по популярности`,\n    type: `rating`\n  }\n};\n\nexport const SortingOrder = {\n  ASCENDING: {\n    title: `По возрастанию`,\n    type: `ascending`,\n    icon: `toggle_up`\n  } ,\n  DESCENDING: {\n    title: `По убыванию`,\n    type: `descending`,\n    icon: `toggle_down`,\n  }\n};\n\nexport const GuitarImage = {\n  \"SO757575\": `guitar1`,\n  \"TK129049\": `guitar2`,\n  \"RO111111\": `guitar3`,\n  \"TK436457\": `guitar4`,\n  \"DI192138\": `guitar5`,\n  \"SO934345\": `guitar1`,\n  \"DI082347\": `guitar3`,\n  \"SO135646\": `guitar6`,\n  \"VO154751\": `guitar5`,\n  \"укулеле\": `guitar3`,\n  \"акустическая гитара\": `guitar5`,\n  \"электрогитара\": `guitar1`,\n};\n\nexport const BadCode = {\n  INVALID: `invalid`,\n  ALREADY_APPLIED: `applied`\n}\n\nexport const AppRoute = {\n  ROOT: `/`,\n  CART: `/cart`,\n};\n\nexport const Key = {\n  ESC: `Esc`,\n  ESCAPE: `Escape`\n};\n\nexport const PageType = {\n  MAIN: `catalogue`,\n  INNER: `cart`,\n};\n\nexport const PageTitle = {\n  CATALOGUE: `Каталог гитар`,\n  CART: `Корзина`,\n};\n\nexport const FilterField = {\n  PRICE: {\n    legend: `Цена,`,\n    name: `price`,\n    inputs: [\n      {\n        name: `min`,\n        label: `Минимальная цена`,\n      },\n      {\n        name: `max`,\n        label: `Максимальная цена`,\n      },\n    ],\n  },\n  GUITAR_TYPE: {\n    legend: `Тип гитар`,\n    name: `guitar-type`,\n    checkboxes: [\n      {\n        name: `acoustic`,\n        label: `Акустические гитары`,\n      },\n      {\n        name: `electric`,\n        label: `Электрогитары`,\n      },\n      {\n        name: `ukulele`,\n        label: `Укулеле`,\n      },\n    ]\n  },\n  STRINGS: {\n    legend: `Количество струн`,\n    name: `strings`,\n    checkboxes: [\n      {\n        name: 4,\n        label: `4`,\n      },\n      {\n        name: 6,\n        label: `6`,\n      },\n      {\n        name: 7,\n        label: `7`,\n      },\n      {\n        name: 12,\n        label: `12`,\n      },\n    ]\n  },\n};\n\nexport const GuitarType = {\n  electric: {\n    name: `электрогитара`,\n    strings: [4, 6, 7]\n  },\n  acoustic: {\n    name: `акустическая гитара`,\n    strings: [6, 7, 12]\n  },\n  ukulele: {\n    name: `укулеле`,\n    strings: [4]\n  },\n};\n\nexport const IconType = {\n  ARROW: {\n    name: `arrow`,\n    width: 16,\n    height: 16,\n  },\n  BASKET: {\n    name: `basket`,\n    width: 16,\n    height: 18,\n  },\n  CART: {\n    name: `cart`,\n    width: 12,\n    height: 13,\n  },\n  CHECKBOX: {\n    name: `checkbox`,\n    width: 14,\n    height: 14,\n  },\n  CLOCK: {\n    name: `clock`,\n    width: 10,\n    height: 10,\n  },\n  FACEBOOK: {\n    name: `facebook`,\n    width: 24,\n    height: 24,\n  },\n  INSTAGRAM: {\n    name: `instagram`,\n    width: 24,\n    height: 24,\n  },\n  MAP: {\n    name: `map`,\n    width: 40,\n    height: 40,\n  },\n  PHONE: {\n    name: `phone`,\n    width: 10,\n    height: 10,\n  },\n  SEARCH: {\n    name: `search`,\n    width: 40,\n    height: 40,\n  },\n  STAR: {\n    name: `star`,\n    width: 12,\n    height: 12,\n  },\n  STAR_EMPTY: {\n    name: `star-empty`,\n    width: 12,\n    height: 12,\n  },\n  TOGGLE_DOWN: {\n    name: `toggle-down`,\n    width: 22,\n    height: 22,\n  },\n  TOGGLE_UP: {\n    name: `toggle-up`,\n    width: 22,\n    height: 22,\n  },\n  TWITTER: {\n    name: `twitter`,\n    width: 24,\n    height: 24,\n  }\n};\n\nexport const RUB_SYMBOL = String.fromCharCode(0x20BD);","import {GuitarImage} from '../../const';\n\nexport const addPhotos = (_store) => (next) => (action) => {\n\n  if (action.type === `guitar-shop/getData/fulfilled`) {\n\n    action.payload.map((item) => {\n      return item.image = GuitarImage[item.code] ? GuitarImage[item.code] : GuitarImage[item.type];\n    })\n  }\n\n  return next(action);\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Link} from 'react-router-dom';\nimport {AppRoute} from '../../const';\n\nconst Logo = ({type, isMain}) => {\n\n  const image = <><img src={`svg/${type}_logo.svg`} width=\"67\" height=\"70\" alt=\"Логотип Guitar Shop\"/></>;\n\n  return (\n    <div className={`${type}__logo`}>\n      {/* eslint-disable-next-line */}\n      {isMain ? <a className={`${type}__logo-link`} href=\"#\">{image}</a> : <Link to={AppRoute.ROOT}>{image}</Link>}\n    </div>\n  );\n};\n\nLogo.propTypes = {\n  type: PropTypes.string.isRequired,\n  isMain: PropTypes.bool,\n};\n\nexport default Logo;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst MenuItem = ({title, isActive, onClick}) => {\n\n    return (\n      <li className=\"menu__item\">\n        {/* eslint-disable-next-line */}\n        <a className={`menu__link ${isActive ? `menu__link--active` : ``}`} href=\"#\" onClick={onClick}>{title}</a>\n      </li>\n    )\n}\n\nMenuItem.propTypes = {\n  title: PropTypes.string.isRequired,\n  isActive: PropTypes.bool,\n  onClick: PropTypes.func,\n};\n\nexport default MenuItem;\n","import React from 'react';\nimport PropTypes from \"prop-types\";\n\nconst Icon = ({icon}) => {\n\n  return(\n    <svg className={`icon icon--${icon.name}`} width={icon.width} height={icon.height}>\n      <use xlinkHref={`svg/sprite.svg#icon-${icon.name}`} />\n    </svg>\n  )\n}\n\nIcon.propTypes = {\n  icon: PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    width: PropTypes.number.isRequired,\n    height: PropTypes.number.isRequired,\n  }).isRequired,\n};\n\nexport default Icon;\n","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport Icon from '../icon/icon';\nimport {IconType} from '../../const';\n\nconst MenuIconItem = ({icon, label}) => {\n\n    return (\n      <li className=\"menu__item\">\n        {/* eslint-disable-next-line */}\n        <a className=\"menu__link\" href=\"#\" aria-label={label}>\n          <Icon icon={IconType[`${icon.toUpperCase()}`]} />\n        </a>\n      </li>\n    )\n}\n\nMenuIconItem.propTypes = {\n  icon: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n};\n\nexport default MenuIconItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from '../icon/icon';\nimport {IconType} from '../../const';\n\nconst MenuTextItem = ({text}) => {\n\n  return (\n    <li className={`menu__item ${typeof text === `object` ? `menu__item--icon` : ``}`}>\n      {typeof text === `object` ?\n      <>\n        <Icon icon={IconType[`${text.type.toUpperCase()}`]} />\n        {text.type === `phone` ?\n        <a className=\"menu__text menu__text--link\" href={`tel:${text.content}`}>{text.content}</a> :\n        <p className=\"menu__text\">{text.content}</p>}\n      </> :\n      <p className=\"menu__text\">{text}</p>}\n    </li>\n  )\n}\n\nMenuTextItem.propTypes = {\n  text: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.shape({\n        type: PropTypes.string.isRequired,\n        content: PropTypes.string.isRequired,\n      }),\n  ]),\n};\n\nexport default MenuTextItem;\n","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport {Link} from 'react-router-dom';\nimport {useSelector} from 'react-redux';\nimport Icon from '../icon/icon';\nimport {IconType, AppRoute} from '../../const';\n\nconst MenuBasketItem = ({icon, label}) => {\n\n    const index = useSelector((state) => state.index);\n\n    return (\n      <li className=\"menu__item\">\n        <Link className=\"menu__link\" to={AppRoute.CART} aria-label={label}>\n          <Icon icon={IconType[`${icon.toUpperCase()}`]} />\n          <sup className=\"menu__index\">{index}</sup>\n        </Link>\n      </li>\n    )\n}\n\nMenuBasketItem.propTypes = {\n  icon: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n};\n\nexport default MenuBasketItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport MenuItem from '../menu-item/menu-item';\nimport MenuIconItem from '../menu-icon-item/menu-icon-item';\nimport MenuTextItem from '../menu-text-item/menu-text-item';\nimport MenuBasketItem from '../menu-basket-item/menu-basket-item';\n\nconst Menu = ({type, items, activeItem, isText, isIconsOnly, onItemClick}) => {\n\n  return (\n    <ul className={`menu menu--${type}`}>\n      {items.map((item, i) => (\n        isText ? <MenuTextItem key ={i + 1} text={item} /> :\n        item.type === `basket` ? <MenuBasketItem key ={i + 1} icon={item.type} label={item.label} /> :\n        isIconsOnly ? <MenuIconItem key ={i + 1} icon={item.type} label={item.label} onClick={onItemClick} /> :\n        <MenuItem key ={i + 1} title={item} onClick={onItemClick} isActive={item === activeItem} />\n      ))}\n    </ul>\n  );\n};\n\nMenu.propTypes = {\n  type: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  activeItem: PropTypes.string,\n  isText: PropTypes.bool,\n  isIconsOnly: PropTypes.bool,\n  onItemClick: PropTypes.func,\n};\n\nexport default Menu;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Logo from '../logo/logo';\nimport Menu from '../menu/menu';\nimport {HEADER_MENU_ITEMS, USER_MENU_ITEMS, LogoType} from '../../const';\n\nconst Header = ({isMain, isWebPSupport}) => {\n\n  return (\n    <header className=\"header\">\n      <div className={`header__wrapper ${isWebPSupport ? `header__wrapper--webp` : `header__wrapper--no-webp`} container`}>\n        <Logo type={LogoType.HEADER} isMain={isMain} />\n        <nav className=\"header__navigation\">\n          <Menu type={`main`} items={HEADER_MENU_ITEMS} />\n          <Menu type={`user`} items={USER_MENU_ITEMS} isIconsOnly={true} />\n        </nav>\n      </div>\n    </header>\n  );\n};\n\nHeader.propTypes = {\n  isMain: PropTypes.bool,\n  isWebPSupport: PropTypes.bool,\n};\n\nexport default Header;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Link} from 'react-router-dom';\nimport Icon from '../icon/icon';\nimport {AppRoute, IconType} from '../../const';\n\nconst Breadcrumbs = ({items}) => {\n\n  return (\n      <ul className=\"breadcrumbs\">\n        {items.map((item, i) => (\n          <li key ={i + 1} className=\"breadcrumbs__item\">\n            {i === (items.length - 1) ?\n            // eslint-disable-next-line jsx-a11y/anchor-is-valid\n            <a className=\"breadcrumbs__link\" href=\"#\">{item}</a> :\n            <>\n              <Link className=\"breadcrumbs__link\" to={AppRoute.ROOT}>{item}</Link>\n              <Icon icon={IconType.ARROW} />\n            </>\n          }\n          </li>\n        ))}\n      </ul>\n  );\n};\n\nBreadcrumbs.propTypes = {\n  items: PropTypes.arrayOf(PropTypes.string).isRequired,\n};\n\nexport default Breadcrumbs;\n","\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Breadcrumbs from '../breadcrumbs/breadcrumbs';\nimport {PageTitle, BREADCRUMBS} from '../../const';\n\nconst Main = ({type, children, isMain}) => {\n\n  const breadcrumbs = isMain ? BREADCRUMBS.slice(0, BREADCRUMBS.length - 1) : BREADCRUMBS;\n\n  return (\n    <main className=\"main\">\n      <h1 className=\"visually-hidden\">Guitar Shop: магазин гитар, музыкальных инструментов и гитарная мастерская в Санкт-Петербурге.</h1>\n      <section className={type}>\n        <div className={`${type}__wrapper container`}>\n          <h2 className={`${type}__title`}>{PageTitle[`${type.toUpperCase()}`]}</h2>\n          <Breadcrumbs items={breadcrumbs} />\n          {children}\n        </div>\n      </section>\n    </main>\n  );\n};\n\nMain.propTypes = {\n type: PropTypes.string.isRequired,\n children: PropTypes.element.isRequired,\n isMain: PropTypes.bool,\n};\n\nexport default Main;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst FilterItem = ({name, legend, symbol, children}) => {\n\n  return (\n    <fieldset className={`filter__item filter__item--${name}`}>\n      <h3 className=\"filter__title filter__title--subtitle\">{legend} {symbol && <span>{symbol}</span>}</h3>\n      <div className={`filter__wrapper filter__wrapper--${name}`}>\n        {children}\n      </div>\n    </fieldset>\n  );\n};\n\nFilterItem.propTypes = {\n  name: PropTypes.string.isRequired,\n  legend: PropTypes.string.isRequired,\n  children: PropTypes.oneOfType([\n      PropTypes.arrayOf(PropTypes.node),\n      PropTypes.node\n    ]).isRequired\n}\n\nexport default FilterItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Input = ({className, name, label, value, placeholder, onChangeInput, onBlurInput}) => {\n\n  return (\n    <>\n      <label className=\"visually-hidden\" htmlFor={name}>{label}</label>\n      <input className={className} type=\"text\" id={name} name={name} value={value}\n        onChange={onChangeInput} onBlur={onBlurInput} placeholder={placeholder} />\n    </>\n  );\n};\n\nInput.propTypes = {\n  className: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  placeholder: PropTypes.string,\n  onChangeInput: PropTypes.func.isRequired,\n  onBlurInput: PropTypes.func,\n};\n\nexport default Input;\n","import React, {useCallback} from 'react';\nimport PropTypes from 'prop-types';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {setFilter} from '../../store/slice';\nimport Input from '../input/input';\nimport {parseStringToLocaleString, formatString, isNumbersOnly} from '../../utils';\n\nconst FilterPrice = ({inputs, minCataloguePrice, maxCataloguePrice}) => {\n\n  const filter = useSelector((state) => state.filter);\n  const dispatch = useDispatch();\n\n  const minPlaceholder = parseStringToLocaleString(minCataloguePrice);\n  const maxPlaceholder = parseStringToLocaleString(maxCataloguePrice);\n\n  const isMinPriceMoreThanMaxPrice = filter.price.min && filter.price.max && filter.price.min > filter.price.max;\n  const isMinPriceLessThanMinCataloguePrice = filter.price.min && filter.price.min < minCataloguePrice;\n  const isMaxPriceMoreThanMaxCataloguePrice = filter.price.max && filter.price.max > maxCataloguePrice;\n\n  const handleInputChange = useCallback(\n    (evt) => {\n        evt.preventDefault();\n\n        const newValue = formatString(evt.target.value);\n\n        if (!isNumbersOnly(newValue)) {\n          return;\n        }\n\n        dispatch(setFilter({...filter, price: {...filter.price, [evt.target.id]: Number(newValue)}}));\n\n    }, [dispatch, filter]\n  );\n\n  const handleInputBlur = useCallback(\n    (evt) => {\n      const currentInput = evt.target.id;\n\n      let correctPrice;\n\n      if (isMinPriceMoreThanMaxPrice) {\n        correctPrice = currentInput === `min` ? {max: filter.price.max, min: filter.price.max} : {max: filter.price.min, min: filter.price.min}\n      }\n\n      if (isMinPriceLessThanMinCataloguePrice) {\n        correctPrice = {max: filter.price.max, min: minCataloguePrice};\n      }\n\n      if (isMaxPriceMoreThanMaxCataloguePrice) {\n        correctPrice = {max: maxCataloguePrice, min: filter.price.min};\n      }\n\n      if (correctPrice) {\n        dispatch(setFilter({...filter, price: {min: correctPrice.min, max: correctPrice.max}}));\n      }\n\n      return;\n\n    }, [dispatch, filter, isMaxPriceMoreThanMaxCataloguePrice, isMinPriceLessThanMinCataloguePrice, isMinPriceMoreThanMaxPrice, maxCataloguePrice, minCataloguePrice]\n  );\n\n  return (\n      <>\n        {inputs.map((input) => (\n          <Input key={input.name} className={`filter__input`} name={input.name} label={input.label}\n            value={filter.price[input.name] > 0 ? parseStringToLocaleString(filter.price[input.name]) : filter.price[input.name] === 0 ? `0` : ``}\n            placeholder={input.name === `min` ? minPlaceholder : maxPlaceholder} onChangeInput={handleInputChange} onBlurInput={handleInputBlur} />\n        ))}\n      </>\n  );\n};\n\nFilterPrice.propTypes = {\n  inputs: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    label: PropTypes.string.isRequired,\n  })).isRequired,\n  minCataloguePrice: PropTypes.number.isRequired,\n  maxCataloguePrice: PropTypes.number.isRequired,\n};\n\nexport default FilterPrice;\n","import React, {useEffect} from 'react';\nimport PropTypes from 'prop-types';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {setFilter} from '../../store/slice';\nimport Icon from '../icon/icon';\nimport {IconType} from '../../const';\n\nconst Checkbox = ({name, label, value, disabled, onChangeCheckbox}) => {\n\n  const filter = useSelector((state) => state.filter);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (disabled && value) {\n      dispatch(setFilter({...filter, strings: {...filter.strings, [name]: false}}))\n    }\n  }, [disabled, dispatch, filter, name, value]);\n\n  return (\n    <div className=\"filter__checkbox-wrapper\">\n      <input type=\"checkbox\" className=\"filter__checkbox visually-hidden\" id={name} name={name}\n      checked={value} disabled={disabled} onChange={onChangeCheckbox}/>\n      <label className=\"filter__label\" htmlFor={name}>\n        {label}\n        <Icon icon={IconType.CHECKBOX} />\n      </label>\n    </div>\n  );\n}\n\nCheckbox.propTypes = {\n  name: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number\n    ]).isRequired,\n  label: PropTypes.string.isRequired,\n  value: PropTypes.bool.isRequired,\n  disabled: PropTypes.bool,\n  onChangeCheckbox: PropTypes.func.isRequired,\n}\n\nexport default Checkbox;\n","import React, {useCallback} from 'react';\nimport PropTypes from 'prop-types';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {setFilter} from '../../store/slice';\nimport Checkbox from '../checkbox/checkbox';\n\nconst FilterType = ({checkboxes}) => {\n\n  const filter = useSelector((state) => state.filter);\n  const dispatch = useDispatch();\n\n  const handleCheckboxChange = useCallback(\n    (evt) => {\n       dispatch(setFilter({...filter, type: {...filter.type, [evt.target.id]: evt.target.checked ? true : false}}));\n\n    }, [dispatch, filter]\n  );\n\n  return (\n      <>\n        {checkboxes.map((checkbox) => (\n          <Checkbox key={checkbox.name} name={checkbox.name} label={checkbox.label}\n            value={filter.type[checkbox.name]} onChangeCheckbox={handleCheckboxChange} />\n        ))}\n      </>\n  );\n};\n\nFilterType.propTypes = {\n  checkboxes: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    label: PropTypes.string.isRequired,\n  })).isRequired,\n};\n\nexport default FilterType;\n","import React, {useCallback} from 'react';\nimport PropTypes from 'prop-types';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {setFilter} from '../../store/slice';\nimport Checkbox from '../checkbox/checkbox';\n\nconst FilterStrings = ({checkboxes}) => {\n\n  const filter = useSelector((state) => state.filter);\n  const availableStrings = useSelector((state) => state.availableStrings);\n  const dispatch = useDispatch();\n\n  const handleCheckboxChange = useCallback(\n    (evt) => {\n       dispatch(setFilter({...filter, strings: {...filter.strings, [evt.target.id]: evt.target.checked ? true : false}}));\n\n    }, [dispatch, filter]\n  );\n\n  return (\n      <>\n        {checkboxes.map((checkbox) => (\n          <Checkbox key={checkbox.name} name={checkbox.name} label={checkbox.label}\n          value={filter.strings[checkbox.name]} onChangeCheckbox={handleCheckboxChange} disabled={!availableStrings.includes(checkbox.name)} />\n        ))}\n      </>\n  );\n};\n\nFilterStrings.propTypes = {\n  checkboxes: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.number.isRequired,\n    label: PropTypes.string.isRequired,\n  })).isRequired,\n};\n\nexport default FilterStrings;\n","import React from 'react';\nimport FilterItem from '../filter-item/filter-item';\nimport FilterPrice from '../filter-price/filter-price';\nimport FilterType from '../filter-type/filter-type';\nimport FilterStrings from '../filter-strings/filter-strings';\nimport {FilterField, RUB_SYMBOL} from '../../const';\n\nconst {PRICE, GUITAR_TYPE, STRINGS} = FilterField;\n\nconst Filter = ({minPrice, maxPrice}) => {\n\n  return (\n      <form action=\"#\" className=\"catalogue__filter filter\">\n        <h3 className=\"filter__title\">Фильтр</h3>\n        <FilterItem name={PRICE.name} legend={PRICE.legend} symbol={RUB_SYMBOL}>\n          <FilterPrice inputs={PRICE.inputs} minCataloguePrice={minPrice} maxCataloguePrice={maxPrice} />\n        </FilterItem>\n        <FilterItem name={GUITAR_TYPE.name} legend={GUITAR_TYPE.legend}>\n          <FilterType checkboxes={GUITAR_TYPE.checkboxes} />\n        </FilterItem>\n        <FilterItem name={STRINGS.name} legend={STRINGS.legend}>\n          <FilterStrings checkboxes={STRINGS.checkboxes} />\n        </FilterItem>\n      </form>\n  );\n};\n\nexport default Filter;\n","import React, {useCallback} from 'react';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {setSorting} from '../../store/slice';\nimport Menu from '../menu/menu';\nimport Icon from '../icon/icon';\nimport {parseDataToArrayOfValues} from '../../utils';\nimport {SortingType, SortingOrder, IconType} from '../../const';\n\nconst Sorting = () => {\n\n  const dispatch = useDispatch();\n  const sorting = useSelector((state) => state.sorting);\n\n  const SORTING_ITEMS = parseDataToArrayOfValues(SortingType, `title`);\n\n  const SORTING_TOGGLE_ITEMS = Object.values(SortingOrder);\n\n  const handleSortingMenuItem = useCallback(\n    (evt) => {\n      evt.preventDefault();\n\n      switch(evt.target.innerText) {\n        case SortingType.PRICE.title:\n          dispatch(setSorting({order: sorting.order ? sorting.order : SortingOrder.ASCENDING.type, type: SortingType.PRICE.type}))\n        break;\n        case SortingType.RATING.title:\n          dispatch(setSorting({order: sorting.order ? sorting.order : SortingOrder.ASCENDING.type, type: SortingType.RATING.type}))\n        break;\n        default:\n        break;\n      }\n    }, [dispatch, sorting]\n  );\n\n  const handleSortingToggleItem = useCallback(\n    (evt) => {\n      evt.preventDefault();\n\n      switch(evt.target.id) {\n        case SortingOrder.DESCENDING.type:\n          dispatch(setSorting({type: sorting.type ? sorting.type : SortingType.PRICE.type, order: SortingOrder.DESCENDING.type}))\n        break;\n        case SortingOrder.ASCENDING.type:\n          dispatch(setSorting({type: sorting.type ? sorting.type : SortingType.PRICE.type, order: SortingOrder.ASCENDING.type}))\n        break;\n        default:\n        break;\n      }\n    }, [dispatch, sorting]\n  );\n\n  return (\n      <div className=\"catalogue__sorting\">\n        <p className=\"catalogue__sorting-title\">Сортировать:</p>\n        <Menu type={`sorting`} items={SORTING_ITEMS} activeItem={sorting.type && SortingType[sorting.type.toUpperCase()].title} \n          onItemClick={handleSortingMenuItem} />\n        <div className=\"catalogue__sorting-toggles\">\n          {SORTING_TOGGLE_ITEMS.map((item) => (\n        <button key ={item.type} id={item.type} className={`catalogue__sorting-toggle ${sorting.order && sorting.order === item.type ? `catalogue__sorting-toggle--active` : ``}`} \n          type=\"button\" aria-label={item.title} onClick={handleSortingToggleItem}>\n          <Icon icon={IconType[`${item.icon.toUpperCase()}`]} />\n        </button>\n          ))}\n        </div>\n      </div>\n  );\n};\n\nexport default Sorting;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Link} from 'react-router-dom';\nimport Icon from '../icon/icon';\n\nconst Button = ({title, className, type, icon, path, onClick}) => {\n\n    return (\n      path ?\n      <Link to={path} className={`${className} button ${type ? `button--${type}` : ``}`} >\n        {icon && <Icon icon={icon} />}\n        {title}\n      </Link> :\n      // eslint-disable-next-line jsx-a11y/anchor-is-valid\n      <a href=\"#\" className={`${className} button ${type ? `button--${type}` : ``}`} onClick={onClick}>\n        {icon && <Icon icon={icon} />}\n        {title}\n      </a>\n    )\n}\n\nButton.propTypes = {\n  title: PropTypes.string.isRequired,\n  className: PropTypes.string.isRequired,\n  type: PropTypes.string,\n  icon: PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    width: PropTypes.number.isRequired,\n    height: PropTypes.number.isRequired,\n  }),\n  path: PropTypes.string,\n  onClick: PropTypes.func,\n};\n\nexport default Button;\n","import React, {useCallback} from 'react';\nimport PropTypes from 'prop-types';\nimport {useDispatch} from 'react-redux';\nimport {openPopUp} from '../../store/slice';\nimport Icon from '../icon/icon';\nimport Button from '../button/button';\nimport {parseStringToLocaleString, getStarsCount} from '../../utils';\nimport {IconType, PopUpType, ButtonType, STARS, RUB_SYMBOL} from '../../const';\n\nconst GuitarCard = ({guitar}) => {\n\n  const dispatch = useDispatch();\n\n  const rating = getStarsCount(guitar.rating);\n\n  const handleBasketButtonClick = useCallback(\n    (evt) => {\n      evt.preventDefault();\n      dispatch(openPopUp({name: PopUpType.ADD.type.toUpperCase(), product: guitar.id}))\n    }, [dispatch, guitar]\n  );\n\n  return (\n    <li className=\"catalogue__item guitar\">\n      <div className=\"guitar__wrapper guitar__image\">\n        <picture>\n          <source type=\"image/webp\" srcSet={`guitars/${guitar.image}.webp 1x, guitars/${guitar.image}@2x.webp 2x`} />\n          <img className=\"guitar__picture\" src={`guitars/${guitar.image}.png`}\n          srcSet={`guitars/${guitar.image}@2x.png 2x`} width=\"68\" height=\"190\" alt={`Фотография гитары ${guitar.title}`}/>\n        </picture>\n      </div>\n      <div className=\"guitar__wrapper guitar__rating\">\n        <ul className=\"guitar__star-list\">\n          {STARS.map((star, i) => (\n            <li key={star} className=\"guitar__star\">\n              {i < rating ? <Icon icon={IconType.STAR} /> : <Icon icon={IconType.STAR_EMPTY} /> }\n            </li>\n          ))}\n        </ul>\n        <span className=\"guitar__wrapper guitar__reviews\">{guitar.rating}</span>\n      </div>\n      <div className=\"guitar__wrapper guitar__info\">\n        <p className=\"guitar__text\">{guitar.title}</p>\n        <p className=\"guitar__text\">{`${parseStringToLocaleString(guitar.price)} ${RUB_SYMBOL}`}</p>\n      </div>\n      <div className=\"guitar__wrapper guitar__buttons\">\n        <Button title={ButtonType.MORE.title} className={`guitar__button`} type={ButtonType.MORE.type} />\n        <Button title={ButtonType.BUY.title} className={`guitar__button guitar__button--basket`} type={ButtonType.BUY.type}\n        icon={IconType.CART} onClick={handleBasketButtonClick} />\n      </div>\n    </li>\n  );\n};\n\nGuitarCard.propTypes = {\n  guitar: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    code: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    type: PropTypes.string.isRequired,\n    rating: PropTypes.string.isRequired,\n    strings: PropTypes.string.isRequired,\n    price: PropTypes.string.isRequired,\n    image: PropTypes.string.isRequired,\n  }),\n};\n\nexport default GuitarCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport GuitarCard from '../guitar-card/guitar-card';\n\nconst Guitars = ({items}) => {\n\n  return (\n    items.length > 0 ?\n    <ul className=\"catalogue__list\">\n      {items.map((item, i) => (\n        <GuitarCard key ={item.id} guitar={item} />\n      ))}\n      </ul> :\n    <p className=\"catalogue__empty-message\">Ничего не найдено</p>\n  );\n};\n\nGuitars.propTypes = {\n  items: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    code: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    type: PropTypes.string.isRequired,\n    rating: PropTypes.string.isRequired,\n    strings: PropTypes.string.isRequired,\n    price: PropTypes.string.isRequired,\n    image: PropTypes.string.isRequired,\n  })),\n};\n\nexport default Guitars;\n","import React, {useCallback} from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '../button/button';\nimport {FIRST_PAGE_NUMBER, PAGER_SIZE, NavigationButton} from '../../const';\n\nconst {PREVIOUS, NEXT, DOTS} = NavigationButton;\n\nconst Pagination = ({currentPage, totalPages, onButtonClick}) => {\n\n  const pages = {\n    previous: currentPage > FIRST_PAGE_NUMBER ? PREVIOUS : false,\n    first: FIRST_PAGE_NUMBER,\n    prevDots: currentPage > FIRST_PAGE_NUMBER + 1 && totalPages > PAGER_SIZE ? DOTS : false,\n    currentPage: currentPage === FIRST_PAGE_NUMBER && totalPages >= PAGER_SIZE ? currentPage + 1 : currentPage === totalPages && totalPages >= PAGER_SIZE ? currentPage - 1 : totalPages >= PAGER_SIZE ? currentPage : false,\n    nextDots: currentPage < totalPages - 1 && totalPages > PAGER_SIZE ? DOTS : false,\n    last: totalPages > FIRST_PAGE_NUMBER ? totalPages : false,\n    next: currentPage < totalPages ? NEXT : false,\n  };\n\n  const handleButtonClick = useCallback(\n    (evt) => {\n      evt.preventDefault();\n\n      if (evt.target.innerText === DOTS) {\n        return;\n      };\n\n      const newPage = evt.target.innerText === PREVIOUS ?\n      currentPage - 1 : evt.target.innerText === NEXT ?\n      currentPage + 1 :\n      Number(evt.target.innerText);\n\n      onButtonClick(newPage);\n\n    }, [currentPage, onButtonClick]\n  );\n\n  return (\n      totalPages > 0 &&\n      <ul className=\"catalogue__pagination pagination\">\n        {Object.values(pages).map((page, i) => (\n          page ? <li key={i + 1} className={`pagination__item ${page === PREVIOUS || page === NEXT ? `pagination__item--nav` : ``}`}>\n            <Button title={page.toString()} className={`pagination__button ${page === currentPage ? `pagination__button--active` : page === PREVIOUS || page === NEXT ? `pagination__button--nav` : page === DOTS ? `pagination__button--dots` : ``}`} \n              type={`pagination`} onClick={handleButtonClick} />\n         </li> : ``\n        ))}\n      </ul>\n  );\n};\n\nPagination.propTypes = {\n  currentPage: PropTypes.number.isRequired,\n  totalPages: PropTypes.number.isRequired,\n  onButtonClick: PropTypes.func.isRequired,\n};\n\nexport default Pagination;\n","import React, {useState, useEffect, useCallback} from 'react';\nimport PropTypes from 'prop-types';\nimport Sorting from '../sorting/sorting';\nimport Guitars from '../guitars/guitars';\nimport Pagination from '../pagination/pagination';\nimport {CARDS_PER_PAGE, FIRST_PAGE_NUMBER} from '../../const';\n\nconst Showcase = ({guitars}) => {\n\n  const [currentPage, setCurrentPage] = useState(FIRST_PAGE_NUMBER);\n  const [currentRange, setCurrentRange] = useState({start: 0, end: CARDS_PER_PAGE});\n  const [totalPages, setTotalPages] = useState(0);\n  const [guitarsToShow, setGuitarsToShow] = useState([]);\n\n  useEffect(() => {\n    const pages = Math.ceil(guitars.length / CARDS_PER_PAGE);\n    setTotalPages(pages);\n    setGuitarsToShow(guitars.slice(currentRange.start, currentRange.end));\n  }, [currentRange, guitars]);\n\n  useEffect(() => {\n    setCurrentPage(FIRST_PAGE_NUMBER);\n    setCurrentRange({start: 0, end: CARDS_PER_PAGE});\n\n  }, [totalPages]);\n\n  const handlePaginationClick = useCallback(\n    (newPage) => {\n      setCurrentPage(newPage);\n      const cardsRangeStart = CARDS_PER_PAGE * (newPage - 1);\n      const cardsRandeEnd = (cardsRangeStart + CARDS_PER_PAGE) > guitars.length ? guitars.length : cardsRangeStart + CARDS_PER_PAGE;\n      setCurrentRange({start: cardsRangeStart, end: cardsRandeEnd});\n    }, [guitars]\n  );\n\n  return (\n      <div className=\"catalogue__showcase\">\n        <Sorting />\n        <Guitars items={guitarsToShow} />\n        <Pagination currentPage={currentPage} totalPages={totalPages} onButtonClick={handlePaginationClick} />\n      </div>\n  );\n};\n\nShowcase.propTypes = {\n  guitars: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    code: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    type: PropTypes.string.isRequired,\n    rating: PropTypes.string.isRequired,\n    strings: PropTypes.string.isRequired,\n    price: PropTypes.string.isRequired,\n    image: PropTypes.string.isRequired,\n  })),\n};\n\nexport default Showcase;\n","import React, {useEffect, useState} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {setAvailableStrings} from '../../store/slice';\nimport Filter from '../filter/filter';\nimport Showcase from '../showcase/showcase';\nimport {sortItems, parseDataToArrayOfValues, filterByPrice, filterByType, filterByStrings} from '../../utils';\nimport {GuitarType, ALL_STRINGS} from '../../const';\n\nconst Catalogue = () => {\n\n  const guitarData = useSelector((state) => state.guitarData);\n  const filter = useSelector((state) => state.filter);\n  const sorting = useSelector((state) => state.sorting);\n  const dispatch = useDispatch();\n\n  const [catalogueData, setCatalogueData] = useState(Object.values(guitarData));\n  const [cataloguePrice, setCataloguePrice] = useState({min: 0, max: 0});\n\n  useEffect(() => {\n    const allPrices = parseDataToArrayOfValues(guitarData, `price`);\n    const max = Math.max.apply(null, allPrices);\n    const min = Math.min.apply(null, allPrices);\n    setCataloguePrice({min, max})\n  }, [guitarData]);\n\n  useEffect(() => {\n\n    const isFilterByPrice = (filter.price.min || filter.price.min === 0) || (filter.price.max || filter.price.min === 0);\n    const isFilterByType = Object.values(filter.type).some((item) => item === true);\n    const isFilterByStrings = Object.values(filter.strings).some((item) => item === true);\n    dispatch(setAvailableStrings(ALL_STRINGS));\n\n      let filtered = Object.values(guitarData);\n\n      if (isFilterByPrice) {\n\n        const minPrice = !filter.price.min ? 0 : filter.price.min;\n        const maxPrice = !filter.price.max ? cataloguePrice.max : filter.price.max;\n        filtered = filterByPrice(filtered, minPrice, maxPrice);\n      }\n\n      if (isFilterByType) {\n        const checkedTypes = Object.entries(filter.type).reduce((acc, [type, value]) => value === true ? [...acc, GuitarType[type].name] : acc, []);\n        const availableStrings = [...new Set(Object.entries(filter.type).reduce((acc, [type, value]) => value === true ? [...acc, GuitarType[type].strings] : acc, []).flat())];\n        dispatch(setAvailableStrings(availableStrings))\n        filtered = filterByType(filtered, checkedTypes);\n      }\n\n      if (isFilterByStrings) {\n        const checkedStrings = Object.entries(filter.strings).reduce((acc, [strings, value]) => value === true ? [...acc, strings] : acc, []);\n        filtered = filterByStrings(filtered, checkedStrings);\n      }\n\n      const sortedData = sortItems(filtered, sorting.type, sorting.order);\n\n      setCatalogueData(sortedData);\n\n  }, [guitarData, cataloguePrice, dispatch, filter, sorting]);\n\n\n  return (\n      <div className=\"catalogue__content\">\n        <Filter minPrice={cataloguePrice.min} maxPrice={cataloguePrice.max} />\n        <Showcase guitars={catalogueData} />\n      </div>\n  );\n};\n\nexport default Catalogue;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {parseStringToLocaleString, capitalizeFirstLetter} from '../../utils';\nimport {RUB_SYMBOL} from '../../const';\n\nconst PurchaseProduct = ({guitar, isPopUp}) => {\n\n  return (\n    <>\n      <div className=\"purchase__image\">\n        <picture>\n          <source type=\"image/webp\" srcSet={`guitars/${guitar.image}.webp 1x, guitars/${guitar.image}@2x.webp 2x`} />\n          <img className=\"purchase__picture\" src={`guitars/${guitar.image}.png`}\n          srcSet={`guitars/${guitar.image}@2x.png 2x`} width=\"48\" height=\"124\" alt={`Фотография гитары ${guitar.title}`}/>\n        </picture>\n      </div>\n      <div className=\"purchase__info\">\n        <h3 className=\"purchase__title\">{isPopUp ? `Гитара` : guitar.type} {guitar.title}</h3>\n        <p className=\"purchase__text\">{`Артикул: ${guitar.code}`}</p>\n        <p className=\"purchase__text\">{`${capitalizeFirstLetter(guitar.type)}, ${guitar.strings} струнная`}</p>\n        {isPopUp && <p className=\"purchase__sum\">{`Цена: ${parseStringToLocaleString(guitar.price)} ${RUB_SYMBOL}`}</p>}\n      </div>\n    </>\n  );\n};\n\nPurchaseProduct.propTypes = {\n  guitar: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    code: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    type: PropTypes.string.isRequired,\n    rating: PropTypes.string.isRequired,\n    strings: PropTypes.string.isRequired,\n    price: PropTypes.string.isRequired,\n    image: PropTypes.string.isRequired,\n  }),\n  isPopUp: PropTypes.bool,\n};\n\nexport default PurchaseProduct;\n","import React, {useCallback} from 'react';\nimport PropTypes from 'prop-types';\nimport {useDispatch} from 'react-redux';\nimport {changeCount, openPopUp} from '../../store/slice';\nimport PurchaseProduct from '../purchase-product/purchase-product';\nimport Icon from '../icon/icon';\nimport Button from '../button/button';\nimport {parseStringToLocaleString, isNumbersOnly} from '../../utils';\nimport {IconType, ButtonType, ControlButton, AppRoute, RUB_SYMBOL, PopUpType} from '../../const';\n\nconst MIN_COUNT = 1;\n\nconst PurchaseCard = ({guitar, isEmptyCard}) => {\n\n  const dispatch = useDispatch();\n\n  const handleInputChange = useCallback(\n    (evt) => {\n        evt.preventDefault();\n\n        if (!isNumbersOnly(evt.target.value)) {\n          dispatch(changeCount({id: guitar.id, count: MIN_COUNT}));\n          return;\n        }\n\n        dispatch(changeCount({id: guitar.id, count: Number(evt.target.value)}));\n    }, [dispatch, guitar]\n  );\n\n  const handleInputBlur = useCallback(\n    (evt) => {\n      if (Number(evt.target.value) < MIN_COUNT) {\n        dispatch(openPopUp({name: PopUpType.DELETE.type.toUpperCase(), product: guitar.id}))\n        dispatch(changeCount({id: guitar.id, count: MIN_COUNT}));\n        return;\n      }\n\n      return;\n\n    }, [dispatch, guitar]\n  );\n\n    const handleControlClick = useCallback(\n    (evt) => {\n      evt.preventDefault();\n\n      switch (evt.target.id) {\n        case ControlButton.DECREASE:\n          const decreasedCount = guitar.count - 1;\n\n          if (decreasedCount < MIN_COUNT) {\n            dispatch(openPopUp({name: PopUpType.DELETE.type.toUpperCase(), product: guitar.id}));\n            dispatch(changeCount({id: guitar.id, count: MIN_COUNT}));\n            return;\n          }\n\n          dispatch(changeCount({id: guitar.id, count: decreasedCount}));\n\n          break;\n        case ControlButton.INCREASE:\n          dispatch(changeCount({id: guitar.id, count: guitar.count + 1}));\n\n          break;\n        default:\n          return;\n      }\n\n    }, [dispatch, guitar]\n  );\n\n  const handleDeleteButtonClick = useCallback(\n    (evt) => {\n      evt.preventDefault();\n      dispatch(openPopUp({name: PopUpType.DELETE.type.toUpperCase(), product: guitar.id}))\n\n    }, [dispatch, guitar]\n  );\n\n  return (\n    <li className={`cart__item purchase ${isEmptyCard ? `purchase--empty` : ``}`}>\n        {isEmptyCard && <>\n          <h3 className=\"purchase__title\">\n            <Icon icon={IconType.CART} />\n            Ваша корзина пуста\n          </h3>\n          <Button title={ButtonType.CONTINUE.title} className={`pop-up__button`} type={ButtonType.CONTINUE.type} path={AppRoute.ROOT} />\n        </>}\n        {guitar &&\n        <>\n          <button type=\"button\" className=\"purchase__delete\" aria-label=\"Удалить товар\" onClick={handleDeleteButtonClick} />\n          <PurchaseProduct guitar={guitar} />\n          <p className=\"purchase__price\">{`${parseStringToLocaleString(guitar.price)} ${RUB_SYMBOL}`}</p>\n          <div className=\"purchase__quantity\">\n            <button id=\"decrease\" className=\"purchase__сontrol purchase__сontrol--decrease\" type=\"button\" aria-label=\"Уменьшить\" onClick={handleControlClick} />\n            <label className=\"visually-hidden\" htmlFor=\"quantity\">Введите количество</label>\n            <input className=\"purchase__input\" type=\"number\" id=\"quantity\" name=\"quantity\" value={guitar.count}\n              onChange={handleInputChange} onBlur={handleInputBlur} />\n            <button id=\"increase\" className=\"purchase__сontrol purchase__сontrol--increase\" type=\"button\" aria-label=\"Увеличить\" onClick={handleControlClick} />\n          </div>\n          <p className=\"purchase__sum\">{`${parseStringToLocaleString(guitar.price * guitar.count)} ${RUB_SYMBOL}`}</p>\n        </>}\n    </li>\n  );\n};\n\nPurchaseCard.propTypes = {\n  guitar: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    code: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    type: PropTypes.string.isRequired,\n    rating: PropTypes.string.isRequired,\n    strings: PropTypes.string.isRequired,\n    price: PropTypes.string.isRequired,\n    image: PropTypes.string.isRequired,\n  }),\n  isEmptyCard: PropTypes.bool,\n};\n\nexport default PurchaseCard;\n","import React, {useEffect} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {setOrderSum} from '../../store/slice';\nimport PurchaseCard from '../purchase-card/purchase-card';\nimport {getTotalSum} from '../../utils';\n\nconst Purchases = () => {\n\n  const cartData = useSelector((state) => state.cartData);\n  const guitarData = useSelector((state) => state.guitarData);\n  const promoCode = useSelector((state) => state.promoCode);\n\n  const dispatch = useDispatch();\n\n  const itemsInCart = Object.values(guitarData).filter((item) => Object.keys(cartData).includes(item.id));\n  const purchases = itemsInCart.map((item) => {return {...item, count: cartData[item.id].count}})\n  const isEmpty = purchases.length === 0;\n\n  useEffect(() => {\n    if (isEmpty) {\n      dispatch(setOrderSum(0))\n    } else {\n      const total = getTotalSum(purchases, promoCode);\n      dispatch(setOrderSum(total))\n      setOrderSum(total);\n    }\n  }, [dispatch, isEmpty, promoCode, purchases]);\n\n  return (\n    <ul className=\"cart__list\">\n      {isEmpty && <PurchaseCard isEmptyCard={true} />}\n      {!isEmpty && purchases.map((item) => (\n        <PurchaseCard key={item.id} guitar={item} />\n      ))}\n    </ul>\n  );\n};\n\nexport default Purchases;\n","import React, {useState, useCallback} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {setPromoCode} from '../../store/slice';\nimport Input from '../input/input';\nimport Button from '../button/button';\nimport {parseStringToLocaleString} from '../../utils';\nimport {RUB_SYMBOL, PROMOCODES, ButtonType, BadCode} from '../../const';\n\nconst Order = () => {\n\n  const total = useSelector((state) => state.orderSum);\n  const promoCode = useSelector((state) => state.promoCode);\n  const dispatch = useDispatch();\n\n  const [promoValue, setPromoValue] = useState(``);\n  const [badCode, setBadCode] = useState(false);\n\n  const handleInputChange = useCallback(\n    (evt) => {\n        evt.preventDefault();\n        setBadCode(false);\n        setPromoValue(evt.target.value)\n    }, []\n  );\n\n  const handlePromoButtonClick = useCallback(\n    (evt) => {\n        evt.preventDefault();\n\n        if (!PROMOCODES.includes(promoValue.toUpperCase())) {\n          setBadCode(BadCode.INVALID);\n          return;\n        }\n\n        if (promoCode) {\n          setBadCode(BadCode.ALREADY_APPLIED);\n          return;\n        }\n\n      dispatch(setPromoCode(promoValue.toUpperCase()));\n\n\n    }, [dispatch, promoCode, promoValue]\n  );\n\n  return (\n    <form action=\"#\" className=\"cart__order order\">\n      <div className=\"order__promo\">\n        <p className=\"order__promo-title\">Промокод на скидку</p>\n        <p className=\"order__promo-subtitle\">Введите свой промокод, если он у вас есть.</p>\n        <div className=\"order__promo-wrapper\">\n          <Input className={`order__promo-input ${badCode ? `order__promo-input--error` : ``}`} name={`promo`} label={`Введите промокод`} value={promoValue} onChangeInput={handleInputChange} />\n            {badCode && <span className=\"order__promo-error\">{`${badCode === BadCode.INVALID ? `Промокод не действителен` : `Вы уже активировали промокод`}`}</span>}\n          <Button title={ButtonType.PROMO.title} className={`order__button order__button--promo`} type={ButtonType.PROMO.type} onClick={handlePromoButtonClick} />\n        </div>\n      </div>\n      <div className=\"order__checkout\">\n        <p className=\"order__checkout-total\">{`Всего: ${parseStringToLocaleString(total)} ${RUB_SYMBOL}`}</p>\n        <Button title={ButtonType.CHECKOUT.title} className={`order__button order__button--checkout`} type={ButtonType.CHECKOUT.type} />\n      </div>\n    </form>\n  );\n};\n\nexport default Order;\n","import React from 'react';\nimport Purchases from '../purchases/purchases';\nimport Order from '../order/order';\n\nconst Cart = () => {\n\n  return (\n    <div className=\"cart__content\">\n      <Purchases />\n      <Order />\n    </div>\n  );\n};\n\nexport default Cart;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Logo from '../logo/logo';\nimport Menu from '../menu/menu';\nimport {SOCIAL_MENU_ITEMS, FOOTER_MENU_ITEMS, LogoType} from '../../const';\n\nconst Footer = ({isMain, isWebPSupport}) => {\n\n  return (\n    <footer className=\"footer\">\n      <div className={`footer__wrapper ${isWebPSupport ? `footer__wrapper--webp` : `footer__wrapper--no-webp`} container`}>\n        <Logo type={LogoType.FOOTER} isMain={isMain} />\n        <Menu type={`social`} items={SOCIAL_MENU_ITEMS} isIconsOnly={true} />\n        <ul className=\"footer__navigation\">\n          {FOOTER_MENU_ITEMS.map((item) => (\n            <li key ={item.type} className=\"footer__navigation-item\">\n              <h3 className=\"footer__navigation-title\">{item.title}</h3>\n              {item.text ?\n              <Menu type={item.type} items={item.text} isText={true} /> :\n              <Menu type={item.type} items={item.items} />}\n            </li>\n          ))}\n        </ul>\n      </div>\n    </footer>\n  );\n};\n\nFooter.propTypes = {\n  isMain: PropTypes.bool,\n  isWebPSupport: PropTypes.bool,\n};\n\nexport default Footer;\n","import React, {useCallback} from 'react';\nimport PropTypes from 'prop-types';\nimport {useHistory} from 'react-router-dom';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {openPopUp, closePopUp, addToCart, deleteFromCart} from '../../store/slice';\nimport PurchaseProduct from '../purchase-product/purchase-product';\nimport Button from '../button/button';\nimport {PopUpType, ButtonType, AppRoute} from '../../const';\n\nconst PopUp = ({type, title, productId, buttons}) => {\n\n  const product = useSelector((state) => state.guitarData[productId]) || null;\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const handleCloseButtonClick = useCallback(\n    (evt) => {\n        evt.preventDefault();\n        dispatch(closePopUp());\n    }, [dispatch]\n  );\n\n  const handlePopUpButtonClick = useCallback(\n    (evt) => {\n      evt.preventDefault();\n\n      switch(evt.target.innerText) {\n        case ButtonType.ADD.title:\n          dispatch(addToCart(productId))\n          dispatch(closePopUp());\n          dispatch(openPopUp({name: PopUpType.SUCCESS.type.toUpperCase()}))\n        break;\n        case ButtonType.CONTINUE.title:\n          dispatch(closePopUp());\n        break;\n        case ButtonType.GO_TO_BASKET.title:\n          dispatch(closePopUp());\n          history.push(AppRoute.CART);\n          break;\n        case ButtonType.DELETE.title:\n          dispatch(deleteFromCart(productId))\n          dispatch(closePopUp());\n        break;\n        default:\n        break;\n      }\n    }, [dispatch, history, productId]\n  );\n\n  return (\n    <section className=\"pop-up\" onClick={handleCloseButtonClick}>\n      <h2 className=\"visually-hidden\">Информационное сообщение</h2>\n      <div className={`pop-up__window pop-up__window--${type}`} onClick={(evt) => evt.stopPropagation()}>\n        <button type=\"button\" className=\"pop-up__close\" aria-label=\"Закрыть поп-ап\" onClick={handleCloseButtonClick} />\n        <h3 className=\"pop-up__title\">{title}</h3>\n        <div className=\"pop-up__content\">\n          {product && <div className=\"pop-up__item\">\n            <PurchaseProduct guitar={product} isPopUp={true} />\n          </div>}\n          <div className=\"pop-up__buttons\">\n            {buttons.map((button, i) => (\n              <Button key={i + 1} title={button.title} className={`pop-up__button`} type={button.type} onClick={handlePopUpButtonClick} />\n            ))}\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n};\n\nPopUp.propTypes = {\n  type: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  productId: PropTypes.string,\n  buttons: PropTypes.array.isRequired,\n};\n\nexport default PopUp;\n","import React, {useCallback, useEffect} from 'react';\nimport PropTypes from 'prop-types';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {useWebPSupportCheck} from \"react-use-webp-support-check\";\nimport {closePopUp} from '../../store/slice';\nimport Header from '../header/header';\nimport Main from '../main/main';\nimport Catalogue from '../catalogue/catalogue';\nimport Cart from '../cart/cart';\nimport Footer from '../footer/footer';\nimport PopUp from '../pop-up/pop-up';\nimport {PageType, PopUpType, Key} from '../../const';\n\nconst Page = ({type}) => {\n\n  const isWebPSupport = useWebPSupportCheck();\n  const isMain = type === PageType.MAIN;\n  const popUp = useSelector((state) => state.popUp);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (popUp) {\n      document.body.style.overflow = `hidden`;\n      document.addEventListener(`keydown`, handleEscKeyDown);\n    } else {\n      document.body.style.overflow = `auto`;\n      document.removeEventListener(`keydown`, handleEscKeyDown);\n    }\n  });\n\n  const handleEscKeyDown = useCallback(\n    (evt) => {\n      if (evt.key === Key.ESCAPE || evt.key === Key.ESC) {\n        evt.preventDefault();\n        dispatch(closePopUp());\n      }\n    }, [dispatch]\n  );\n\n  return (\n    <>\n      <Header isMain={isMain} isWebPSupport={isWebPSupport} />\n      <Main type={type} isMain={isMain}>\n        {isMain ? <Catalogue /> : <Cart />}\n      </Main>\n      <Footer isMain={isMain} isWebPSupport={isWebPSupport} />\n      {popUp &&\n        <PopUp type={PopUpType[popUp.name].type} title={PopUpType[popUp.name].title}\n        buttons={PopUpType[popUp.name].buttons} productId={popUp.product} />}\n    </>\n  );\n};\n\nPage.propTypes = {\n type: PropTypes.string.isRequired,\n};\n\nexport default Page;\n","import React from 'react';\nimport {Switch, Route, BrowserRouter as Router} from 'react-router-dom';\nimport Page from '../page/page';\nimport {AppRoute, PageType} from '../../const';\n\nconst {ROOT, CART} = AppRoute;\nconst {MAIN, INNER} = PageType;\n\nconst App = () => {\n\n  return (\n    <Router>\n      <Switch>\n        <Route exact path={ROOT}>\n          <Page type={MAIN} />\n        </Route>\n        <Route exact path={CART}>\n          <Page type={INNER} />\n        </Route>\n      </Switch>\n    </Router>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from 'react-redux';\nimport {configureStore} from '@reduxjs/toolkit';\nimport Reducer, {getData} from './store/slice';\nimport {addPhotos} from'./store/middlewares/add-photos';\nimport './sass/style.scss';\nimport App from './components/app/app';\n\nconst store = configureStore({\n  reducer: Reducer,\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware({\n      serializableCheck: false,\n    }).concat(addPhotos),\n});\n\nPromise.all([\n  store.dispatch(getData()),\n])\n.then(() => {\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n})\n.catch((err) => {\n  console.error(err);\n});\n"],"sourceRoot":""}