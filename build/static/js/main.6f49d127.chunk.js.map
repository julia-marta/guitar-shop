{"version":3,"sources":["utils.js","store/slice.js","const.js","store/middlewares/add-photos.js","components/logo/logo.jsx","components/menu-item/menu-item.jsx","components/icon/icon.jsx","components/menu-icon-item/menu-icon-item.jsx","components/menu-text-item/menu-text-item.jsx","components/menu-basket-item/menu-basket-item.jsx","components/menu/menu.jsx","components/header/header.jsx","components/breadcrumbs/breadcrumbs.jsx","components/main/main.jsx","components/filter-item/filter-item.jsx","components/input/input.jsx","components/filter-price/filter-price.jsx","components/checkbox/checkbox.jsx","components/filter-type/filter-type.jsx","components/filter-strings/filter-strings.jsx","components/filter/filter.jsx","components/sorting/sorting.jsx","components/button/button.jsx","components/guitar-card/guitar-card.jsx","components/guitars/guitars.jsx","components/pagination/pagination.jsx","components/showcase/showcase.jsx","components/catalogue/catalogue.jsx","components/purchase-product/purchase-product.jsx","components/purchase-card/purchase-card.jsx","components/purchases/purchases.jsx","components/order/order.jsx","components/cart/cart.jsx","components/footer/footer.jsx","components/pop-up/pop-up.jsx","components/page/page.jsx","components/app/app.jsx","index.js"],"names":["parseStringToLocaleString","value","Number","toLocaleString","normalizeData","data","reduce","result","item","index","parseDataToArrayOfValues","obj","key","Object","values","acc","isNumbersOnly","test","getData","createAsyncThunk","a","axios","get","response","console","error","guitarShopSlice","createSlice","name","initialState","guitarData","catalogueData","cartData","sorting","filter","price","min","max","type","electric","acoustic","ukulele","strings","4","6","7","12","availableStrings","promoCode","orderSum","popUp","reducers","setCatalogueData","state","action","payload","openPopUp","closePopUp","_action","setSorting","setFilter","setAvailableStrings","addToCart","count","changeCount","id","deleteFromCart","setOrderSum","setPromoCode","extraReducers","fulfilled","normalizedData","Reducer","reducer","actions","HEADER_MENU_ITEMS","USER_MENU_ITEMS","label","SOCIAL_MENU_ITEMS","FOOTER_MENU_ITEMS","title","text","items","content","BREADCRUMBS","STARS","ALL_STRINGS","PROMOCODES","NavigationButton","ControlButton","LogoType","ButtonType","MORE","BUY","ADD","DELETE","CONTINUE","GO_TO_BASKET","PROMO","CHECKOUT","PopUpType","buttons","SUCCESS","SortingType","PRICE","RATING","SortingOrder","ASCENDING","icon","DESCENDING","GuitarImage","BadCode","AppRoute","Key","PageType","PageTitle","CATALOGUE","CART","FilterField","legend","inputs","checkboxes","GuitarType","IconType","ARROW","width","height","BASKET","CHECKBOX","CLOCK","FACEBOOK","INSTAGRAM","MAP","PHONE","SEARCH","STAR","STAR_EMPTY","TOGGLE_DOWN","TOGGLE_UP","TWITTER","RUB_SYMBOL","String","fromCharCode","addPhotos","_store","next","map","image","code","Logo","isMain","src","alt","className","href","to","MenuItem","isActive","onClick","Icon","xlinkHref","MenuIconItem","aria-label","toUpperCase","MenuTextItem","MenuBasketItem","useSelector","Menu","activeItem","isText","isIconsOnly","onItemClick","i","Header","Breadcrumbs","length","Main","children","breadcrumbs","slice","FilterItem","symbol","Input","placeholder","onChangeInput","onBlurInput","htmlFor","onChange","onBlur","FilterPrice","minCataloguePrice","maxCataloguePrice","dispatch","useDispatch","minPlaceholder","maxPlaceholder","isMinPriceMoreThanMaxPrice","isMinPriceLessThanMinCataloguePrice","isMaxPriceMoreThanMaxCataloguePrice","handleInputChange","useCallback","evt","preventDefault","newValue","target","replace","handleInputBlur","correctPrice","currentInput","input","Checkbox","disabled","onChangeCheckbox","useEffect","checked","FilterType","handleCheckboxChange","checkbox","FilterStrings","includes","GUITAR_TYPE","STRINGS","Filter","useState","filterData","setFilterData","cataloguePrice","setCataloguePrice","allPrices","Math","apply","isFilterByPrice","isFilterByType","some","isFilterByStrings","filtered","filterByPrice","checkedTypes","entries","Set","flat","types","filterByType","filterByStrings","Sorting","SORTING_ITEMS","SORTING_TOGGLE_ITEMS","handleSortingMenuItem","innerText","order","handleSortingToggleItem","Button","path","GuitarCard","reviewsCount","guitar","rating","round","handleBasketButtonClick","product","srcSet","_star","Guitars","PREVIOUS","NEXT","DOTS","Pagination","currentPage","totalPages","onButtonClick","pages","previous","first","prevDots","FIRST_PAGE_NUMBER","nextDots","last","handleButtonClick","newPage","page","toString","Showcase","guitars","setCurrentPage","setTotalPages","guitarsToShow","setGuitarsToShow","ceil","handlePaginationClick","cardsRangeStart","cardsRandeEnd","Catalogue","setGuitars","sortedData","sort","b","sortItems","PurchaseProduct","string","isPopUp","substring","PurchaseCard","isEmptyCard","handleControlClick","decreasedCount","handleDeleteButtonClick","Purchases","isEmpty","Order","total","promoValue","setPromoValue","badCode","setBadCode","handlePromoButtonClick","Cart","promocode","discount","getTotalSum","Footer","PopUp","productId","history","useHistory","handleCloseButtonClick","handlePopUpButtonClick","push","stopPropagation","button","Page","document","body","style","overflow","addEventListener","handleEscKeyDown","removeEventListener","ROOT","MAIN","INNER","App","exact","store","configureStore","middleware","getDefaultMiddleware","serializableCheck","concat","Promise","all","then","ReactDOM","render","getElementById","catch","err"],"mappings":"yPAAaA,EAA4B,SAACC,GACxC,OAAOC,OAAOD,GAAOE,eAAe,UAOzBC,EAAgB,SAACC,GAC5B,OAAOA,EAAKC,QAAO,SAACC,EAAQC,EAAMC,GAEhC,OADAF,EAAOE,EAAQ,GAAKD,EACbD,IACN,KAGQG,EAA2B,SAACC,EAAKC,GAC5C,OAAOC,OAAOC,OAAOH,GAAKL,QAAO,SAACS,EAAKP,GACrC,MAAM,GAAN,mBAAWO,GAAX,CAAgBP,EAAKI,OACpB,KAOQI,EAAgB,SAACf,GAC5B,MAAQ,YAAYgB,KAAKhB,ICpBdiB,EAAUC,YAAiB,sBAAD,sBAAyB,4BAAAC,EAAA,+EAErCC,IAAMC,IAJnB,sEAEkD,cAEtDC,EAFsD,yBAGrDA,EAASlB,MAH4C,gCAK5DmB,QAAQC,MAAR,MAL4D,0DA0B1DC,EAAkBC,YAAY,CAClCC,KAAM,cACNC,aAnBmB,CACnBC,WAAY,GACZC,cAAe,GACfC,SAAU,GACVC,QAAS,GACTC,OAAQ,CACNC,MAAO,CAACC,IAAI,GAAKC,IAAI,IACrBC,KAAM,CAACC,UAAU,EAAOC,UAAU,EAAOC,SAAS,GAClDC,QAAS,CAACC,GAAG,EAAOC,GAAG,EAAOC,GAAG,EAAOC,IAAI,IAE9CC,iBAAkB,CAAC,EAAG,EAAG,EAAG,IAC5BC,UAAU,GACVC,SAAU,EACVC,MAAO,KACPzC,MAAO,GAMP0C,SAAU,CACRC,iBADQ,SACSC,EAAOC,GACtBD,EAAMtB,cAAgBuB,EAAOC,SAE/BC,UAJQ,SAIEH,EAAOC,GACfD,EAAMH,MAAQI,EAAOC,SAEvBE,WAPQ,SAOGJ,EAAOK,GAChBL,EAAMH,MAAQ,MAEhBS,WAVQ,SAUGN,EAAOC,GAChBD,EAAMpB,QAAUqB,EAAOC,SAEzBK,UAbQ,SAaEP,EAAOC,GACfD,EAAMnB,OAASoB,EAAOC,SAExBM,oBAhBQ,SAgBYR,EAAOC,GACzBD,EAAMN,iBAAmBO,EAAOC,SAElCO,UAnBQ,SAmBET,EAAOC,GACVD,EAAMrB,SAASsB,EAAOC,SAIzBF,EAAMrB,SAASsB,EAAOC,SAAtB,2BAAqCF,EAAMrB,SAASsB,EAAOC,UAA3D,IAAqEQ,MAAOV,EAAMrB,SAASsB,EAAOC,SAASQ,MAAQ,KAHnHV,EAAMrB,SAASsB,EAAOC,SAAtB,2BAAqCF,EAAMvB,WAAWwB,EAAOC,UAA7D,IAAuEQ,MAAO,IAC9EV,EAAM5C,OAAS,IAKnBuD,YA3BQ,SA2BIX,EAAOC,GACjBD,EAAMrB,SAASsB,EAAOC,QAAQU,IAA9B,2BAAwCZ,EAAMrB,SAASsB,EAAOC,QAAQU,KAAtE,IAA2EF,MAAOT,EAAOC,QAAQQ,SAEnGG,eA9BQ,SA8BOb,EAAOC,UACbD,EAAMrB,SAASsB,EAAOC,SAC7BF,EAAM5C,OAAS,GAEjB0D,YAlCQ,SAkCId,EAAOC,GACjBD,EAAMJ,SAAWK,EAAOC,SAE1Ba,aArCQ,SAqCKf,EAAOC,GAClBD,EAAML,UAAYM,EAAOC,UAG7Bc,cAAc,eACXnD,EAAQoD,WAAY,SAACjB,EAAOC,GAC3B,IAAMiB,EAAiBnE,EAAckD,EAAOC,SAE5CF,EAAMvB,WAAayC,EACnBlB,EAAMtB,cAAgBwC,OAKtBC,EAAU9C,EAAgB+C,QAEzB,EAYD/C,EAAgBgD,QAXlBtB,EADG,EACHA,iBACAI,EAFG,EAEHA,UACAC,EAHG,EAGHA,WACAE,EAJG,EAIHA,WACAC,EALG,EAKHA,UACAC,EANG,EAMHA,oBACAC,EAPG,EAOHA,UACAE,EARG,EAQHA,YACAE,EATG,EASHA,eACAC,EAVG,EAUHA,YACAC,EAXG,EAWHA,aAGWI,ICtGFG,EAAoB,CAAC,6CAAD,6LAEpBC,EAAkB,CAC7B,CACEtC,KAAK,MACLuC,MAAM,uEAER,CACEvC,KAAK,SACLuC,MAAM,8EAER,CACEvC,KAAK,SACLuC,MAAM,+CAIGC,EAAoB,CAC/B,CACExC,KAAK,WACLuC,MAAM,8CAER,CACEvC,KAAK,YACLuC,MAAM,0DAER,CACEvC,KAAK,UACLuC,MAAM,+CAIGE,EAAoB,CAC/B,CACEzC,KAAK,QACL0C,MAAM,4BACNC,KAAM,CAAC,kbAAD,oTAER,CACE3C,KAAK,YACL0C,MAAM,6CACNE,MAAO,CAAC,gHAAD,0SAET,CACE5C,KAAK,cACL0C,MAAM,+DACNE,MAAO,CAAC,2DAAD,8NAET,CACE5C,KAAK,WACL0C,MAAM,mDACNC,KAAM,CAAC,8QAA6D,CAAC3C,KAAK,QAAU6C,QAAQ,mBAAtF,uEAA4H,CAAC7C,KAAK,QAAU6C,QAAQ,oCAApJ,0EAIGC,EAAc,CAAC,6CAAD,uGAEdC,EAAQ,CAAC,IAAD,iBAQRC,EAAc,CAAC,EAAG,EAAG,EAAG,IAExBC,EAAa,CAAC,YAAD,4BAEbC,EACF,iCADEA,EAEN,iCAFMA,EAGN,MAGMC,EACF,WADEA,EAEF,WAGEC,EACJ,SADIA,EAEJ,SAGIC,EAAa,CACxBC,KAAM,CACJtD,KAAK,OACL0C,MAAM,0DAERa,IAAK,CACHvD,KAAK,QACL0C,MAAM,wCAERc,IAAK,CACHxD,KAAK,QACL0C,MAAM,sGAERe,OAAQ,CACNzD,KAAK,QACL0C,MAAM,6EAERgB,SAAU,CACR1D,KAAK,cACL0C,MAAM,2GAERiB,aAAc,CACZ3D,KAAK,QACL0C,MAAM,gGAERkB,MAAO,CACL5D,KAAK,OACL0C,MAAM,yFAERmB,SAAU,CACR7D,KAAK,QACL0C,MAAM,oFAIGoB,EAAY,CACvBN,IAAK,CACHxD,KAAK,MACL0C,MAAM,oIACNqB,QAAS,CAACV,EAAWG,MAEvBC,OAAQ,CACNzD,KAAK,SACL0C,MAAM,sGACNqB,QAAS,CAACV,EAAWI,OAAQJ,EAAWK,WAE1CM,QAAS,CACPhE,KAAK,UACL0C,MAAM,+KACNqB,QAAS,CAACV,EAAWM,aAAcN,EAAWK,YAIrCO,EAAc,CACzBC,MAAO,CACLxB,MAAM,wCACN1C,KAAK,SAEPmE,OAAQ,CACNzB,MAAM,wFACN1C,KAAK,WAIIoE,GAAe,CAC1BC,UAAW,CACT3B,MAAM,kFACN1C,KAAK,YACLsE,KAAK,aAEPC,WAAY,CACV7B,MAAM,gEACN1C,KAAK,aACLsE,KAAK,gBAIIE,GAAc,CACzB,SAAW,UACX,SAAW,UACX,SAAW,UACX,SAAW,UACX,SAAW,UACX,SAAW,UACX,SAAW,UACX,SAAW,UACX,SAAW,UACX,6CAAU,UACV,gHAAsB,UACtB,iFAAgB,WAGLC,GACH,UADGA,GAEK,UAGLC,GACN,IADMA,GAEN,QAGMC,GACP,MADOA,GAEJ,SAGIC,GACN,YADMA,GAEL,OAGKC,GAAY,CACvBC,UAAU,4EACVC,KAAK,8CAGMC,GACJ,CACLC,OAAO,4BACP3F,KAAK,QACL4F,OAAQ,CACN,CACE5F,KAAK,MACLiD,MAAM,+FAER,CACEjD,KAAK,MACLiD,MAAM,uGAXDyC,GAeE,CACXC,OAAO,oDACP3F,KAAK,cACL6F,WAAY,CACV,CACE7F,KAAK,WACLiD,MAAM,iHAER,CACEjD,KAAK,WACLiD,MAAM,kFAER,CACEjD,KAAK,UACLiD,MAAM,gDA7BDyC,GAiCF,CACPC,OAAO,8FACP3F,KAAK,UACL6F,WAAY,CACV,CACE7F,KAAM,EACNiD,MAAM,KAER,CACEjD,KAAM,EACNiD,MAAM,KAER,CACEjD,KAAM,EACNiD,MAAM,KAER,CACEjD,KAAM,GACNiD,MAAM,QAMD6C,GAAa,CACxBnF,SAAU,CACRX,KAAK,iFACLc,QAAS,CAAC,EAAG,EAAG,IAElBF,SAAU,CACRZ,KAAK,gHACLc,QAAS,CAAC,EAAG,EAAG,KAElBD,QAAS,CACPb,KAAK,6CACLc,QAAS,CAAC,KAIDiF,GAAW,CACtBC,MAAO,CACLhG,KAAK,QACLiG,MAAO,GACPC,OAAQ,IAEVC,OAAQ,CACNnG,KAAK,SACLiG,MAAO,GACPC,OAAQ,IAEVT,KAAM,CACJzF,KAAK,OACLiG,MAAO,GACPC,OAAQ,IAEVE,SAAU,CACRpG,KAAK,WACLiG,MAAO,GACPC,OAAQ,IAEVG,MAAO,CACLrG,KAAK,QACLiG,MAAO,GACPC,OAAQ,IAEVI,SAAU,CACRtG,KAAK,WACLiG,MAAO,GACPC,OAAQ,IAEVK,UAAW,CACTvG,KAAK,YACLiG,MAAO,GACPC,OAAQ,IAEVM,IAAK,CACHxG,KAAK,MACLiG,MAAO,GACPC,OAAQ,IAEVO,MAAO,CACLzG,KAAK,QACLiG,MAAO,GACPC,OAAQ,IAEVQ,OAAQ,CACN1G,KAAK,SACLiG,MAAO,GACPC,OAAQ,IAEVS,KAAM,CACJ3G,KAAK,OACLiG,MAAO,GACPC,OAAQ,IAEVU,WAAY,CACV5G,KAAK,aACLiG,MAAO,GACPC,OAAQ,IAEVW,YAAa,CACX7G,KAAK,cACLiG,MAAO,GACPC,OAAQ,IAEVY,UAAW,CACT9G,KAAK,YACLiG,MAAO,GACPC,OAAQ,IAEVa,QAAS,CACP/G,KAAK,UACLiG,MAAO,GACPC,OAAQ,KAICc,GAAaC,OAAOC,aAAa,MC9VjCC,GAAY,SAACC,GAAD,OAAY,SAACC,GAAD,OAAU,SAAC3F,GAS9C,MAPI,kCAAAA,EAAOhB,MAETgB,EAAOC,QAAQ2F,KAAI,SAAC1I,GAClB,OAAOA,EAAK2I,MAAQrC,GAAYtG,EAAK4I,MAAQtC,GAAYtG,EAAK4I,MAAQtC,GAAYtG,EAAK8B,SAIpF2G,EAAK3F,M,iCCWC+F,GAjBF,SAAC,GAAoB,IAAnB/G,EAAkB,EAAlBA,KAAMgH,EAAY,EAAZA,OAEbH,EAAQ,qCAAE,sBAAKI,IAAG,cAASjH,EAAT,aAA0BuF,MAAM,KAAKC,OAAO,KAAK0B,IAAI,6DAE7E,OACE,sBAAKC,UAAS,UAAKnH,EAAL,UAAd,SAEGgH,EAAS,oBAAGG,UAAS,UAAKnH,EAAL,eAAwBoH,KAAK,IAAzC,SAA8CP,IAAa,eAAC,KAAD,CAAMQ,GAAI3C,GAAV,SAA0BmC,OCOtFS,GAhBE,SAAC,GAAgC,IAA/B5E,EAA8B,EAA9BA,MAAO6E,EAAuB,EAAvBA,SAAUC,EAAa,EAAbA,QAEhC,OACE,qBAAIL,UAAU,aAAd,SAEE,oBAAGA,UAAS,qBAAgBI,EAAQ,yBAAgCH,KAAK,IAAII,QAASA,EAAtF,SAAgG9E,OCYzF+E,GAjBF,SAAC,GAAY,IAAXnD,EAAU,EAAVA,KAEb,OACE,sBAAK6C,UAAS,qBAAgB7C,EAAKhF,MAAQiG,MAAOjB,EAAKiB,MAAOC,OAAQlB,EAAKkB,OAA3E,SACE,sBAAKkC,UAAS,8BAAyBpD,EAAKhF,WCenCqI,GAjBM,SAAC,GAAmB,IAAlBrD,EAAiB,EAAjBA,KAAM/B,EAAW,EAAXA,MAEzB,OACE,qBAAI4E,UAAU,aAAd,SAEE,oBAAGA,UAAU,aAAaC,KAAK,IAAIQ,aAAYrF,EAA/C,SACE,eAAC,GAAD,CAAM+B,KAAMe,GAAS,GAAD,OAAIf,EAAKuD,uBCoBxBC,GA1BM,SAAC,GAAY,IAAXnF,EAAU,EAAVA,KAErB,OACE,qBAAIwE,UAAS,qBAAgB,kBAAOxE,EAAP,uBAA7B,SACG,kBAAOA,EACR,uCACE,eAAC,GAAD,CAAM2B,KAAMe,GAAS,GAAD,OAAI1C,EAAK3C,KAAK6H,kBACjC,UAAAlF,EAAK3C,KACN,oBAAGmH,UAAU,8BAA8BC,KAAI,cAASzE,EAAKE,SAA7D,SAAyEF,EAAKE,UAC9E,oBAAGsE,UAAU,aAAb,SAA2BxE,EAAKE,aAElC,oBAAGsE,UAAU,aAAb,SAA2BxE,OCUlBoF,GAnBQ,SAAC,GAAmB,IAAlBzD,EAAiB,EAAjBA,KAAM/B,EAAW,EAAXA,MAErBpE,EAAQ6J,aAAY,SAACjH,GAAD,OAAWA,EAAM5C,SAE3C,OACE,qBAAIgJ,UAAU,aAAd,SACE,gBAAC,KAAD,CAAMA,UAAU,aAAaE,GAAI3C,GAAekD,aAAYrF,EAA5D,UACE,eAAC,GAAD,CAAM+B,KAAMe,GAAS,GAAD,OAAIf,EAAKuD,kBAC7B,sBAAKV,UAAU,cAAf,SAA8BhJ,UCezB8J,GAvBF,SAAC,GAAiE,IAAhEjI,EAA+D,EAA/DA,KAAM4C,EAAyD,EAAzDA,MAAOsF,EAAkD,EAAlDA,WAAYC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,YAAaC,EAAiB,EAAjBA,YAE3D,OACE,qBAAIlB,UAAS,qBAAgBnH,GAA7B,SACG4C,EAAMgE,KAAI,SAAC1I,EAAMoK,GAAP,OACTH,EAAS,eAAC,GAAD,CAA2BxF,KAAMzE,GAAboK,EAAI,GACjC,WAAApK,EAAK8B,KAAoB,eAAC,GAAD,CAA6BsE,KAAMpG,EAAK8B,KAAMuC,MAAOrE,EAAKqE,OAApC+F,EAAI,GACnDF,EAAc,eAAC,GAAD,CAA2B9D,KAAMpG,EAAK8B,KAAMuC,MAAOrE,EAAKqE,MAAOiF,QAASa,GAApDC,EAAI,GACtC,eAAC,GAAD,CAAuB5F,MAAOxE,EAAMsJ,QAASa,EAAad,SAAUrJ,IAASgK,GAA7DI,EAAI,SCUbC,GAnBA,SAAC,GAAc,IAAbvB,EAAY,EAAZA,OAEf,OACE,yBAAQG,UAAU,SAAlB,SACE,uBAAKA,UAAU,4BAAf,UACE,eAAC,GAAD,CAAMnH,KAAMoD,EAAiB4D,OAAQA,IACrC,uBAAKG,UAAU,qBAAf,UACE,eAAC,GAAD,CAAMnH,KAAI,OAAU4C,MAAOP,IAC3B,eAAC,GAAD,CAAMrC,KAAI,OAAU4C,MAAON,EAAiB8F,aAAa,aCgBpDI,GAxBK,SAAC,GAAa,IAAZ5F,EAAW,EAAXA,MAEpB,OACI,qBAAIuE,UAAU,cAAd,SACGvE,EAAMgE,KAAI,SAAC1I,EAAMoK,GAAP,OACT,qBAAiBnB,UAAU,oBAA3B,SACGmB,IAAO1F,EAAM6F,OAAS,EAEvB,oBAAGtB,UAAU,oBAAoBC,KAAK,IAAtC,SAA2ClJ,IAC3C,uCACE,eAAC,KAAD,CAAMiJ,UAAU,oBAAoBE,GAAI3C,GAAxC,SAAwDxG,IACxD,eAAC,GAAD,CAAMoG,KAAMe,GAASC,YANfgD,EAAI,SCmBTI,GAxBF,SAAC,GAA8B,IAA7B1I,EAA4B,EAA5BA,KAAM2I,EAAsB,EAAtBA,SAEbC,EAFmC,EAAZ5B,OAEAlE,EAAY+F,MAAM,EAAG/F,EAAY2F,OAAS,GAAK3F,EAE5E,OACE,wBAAMqE,UAAU,OAAhB,UACE,qBAAIA,UAAU,kBAAd,0cACA,0BAASA,UAAWnH,EAApB,SACE,uBAAKmH,UAAS,UAAKnH,EAAL,uBAAd,UACE,qBAAImH,UAAS,UAAKnH,EAAL,WAAb,SAAkC6E,GAAU,GAAD,OAAI7E,EAAK6H,kBACpD,eAAC,GAAD,CAAajF,MAAOgG,IACnBD,W,QCOIG,GArBI,SAAC,GAAsC,IAArCxJ,EAAoC,EAApCA,KAAM2F,EAA8B,EAA9BA,OAAQ8D,EAAsB,EAAtBA,OAAQJ,EAAc,EAAdA,SAEzC,OACE,4BAAUxB,UAAS,qCAAgC7H,GAAnD,UACE,sBAAI6H,UAAU,wCAAd,UAAuDlC,EAAvD,IAAgE8D,GAAU,gCAAOA,OACjF,sBAAK5B,UAAS,2CAAsC7H,GAApD,SACGqJ,QCeMK,GArBD,SAAC,GAA8E,IAA7E7B,EAA4E,EAA5EA,UAAW7H,EAAiE,EAAjEA,KAAMiD,EAA2D,EAA3DA,MAAO5E,EAAoD,EAApDA,MAAOsL,EAA6C,EAA7CA,YAAaC,EAAgC,EAAhCA,cAAeC,EAAiB,EAAjBA,YAEzE,OACE,uCACE,wBAAOhC,UAAU,kBAAkBiC,QAAS9J,EAA5C,SAAmDiD,IACnD,wBAAO4E,UAAWA,EAAWnH,KAAK,OAAO2B,GAAIrC,EAAMA,KAAMA,EAAM3B,MAAOA,EACpE0L,SAAUH,EAAeI,OAAQH,EAAaF,YAAaA,QCwEpDM,GA1EK,SAAC,GAAoD,IAAnDrE,EAAkD,EAAlDA,OAAQsE,EAA0C,EAA1CA,kBAAmBC,EAAuB,EAAvBA,kBAEzC7J,EAASoI,aAAY,SAACjH,GAAD,OAAWA,EAAMnB,UACtC8J,EAAWC,cAEXC,EAAiBlM,EAA0B8L,GAC3CK,EAAiBnM,EAA0B+L,GAE3CK,EAA6BlK,EAAOC,MAAMC,MAAQF,EAAOC,MAAME,KAA4B,IAArBH,EAAOC,MAAME,MAAcH,EAAOC,MAAMC,IAAMF,EAAOC,MAAME,IACjIgK,GAAuCnK,EAAOC,MAAMC,KAA4B,IAArBF,EAAOC,MAAMC,MAAcF,EAAOC,MAAMC,IAAM0J,EACzGQ,EAAsCpK,EAAOC,MAAME,KAAOH,EAAOC,MAAME,IAAM0J,EAE7EQ,EAAoBC,uBACxB,SAACC,GACGA,EAAIC,iBAEJ,IAAMC,EAAwBF,EAAIG,OAAO3M,MhBlBjC4M,QAAQ,MAAO,IgBoBlB7L,EAAc2L,IAInBX,EAASpI,EAAU,2BAAI1B,GAAL,IAAaC,MAAM,2BAAKD,EAAOC,OAAb,kBAAqBsK,EAAIG,OAAO3I,GAAK/D,OAAOyM,WAEjF,CAACX,EAAU9J,IAGV4K,EAAkBN,uBACtB,SAACC,GACC,IAEIM,EAFEC,EAAeP,EAAIG,OAAO3I,GAI5BmI,IACFW,EAA2B,QAAZC,EAAyB,CAAC3K,IAAKH,EAAOC,MAAME,IAAKD,IAAKF,EAAOC,MAAME,KAAO,CAACA,IAAKH,EAAOC,MAAMC,IAAKA,IAAKF,EAAOC,MAAMC,MAGjIiK,IACFU,EAAe,CAAC1K,IAAKH,EAAOC,MAAME,IAAKD,IAAK0J,IAG1CQ,IACFS,EAAe,CAAC1K,IAAK0J,EAAmB3J,IAAKF,EAAOC,MAAMC,MAGxD2K,GACFf,EAASpI,EAAU,2BAAI1B,GAAL,IAAaC,MAAO,CAACC,IAAK2K,EAAa3K,IAAKC,IAAK0K,EAAa1K,WAKjF,CAAC2J,EAAU9J,EAAQoK,EAAqCD,EAAqCD,EAA4BL,EAAmBD,IAGjJ,OACI,qCACGtE,EAAO0B,KAAI,SAAC+D,EAAOrC,GAAR,OACV,eAAC,GAAD,CAAmBnB,UAAS,gBAAmB7H,KAAMqL,EAAMrL,KAAMiD,MAAOoI,EAAMpI,MAC5E5E,MAAOiC,EAAOC,MAAM8K,EAAMrL,MAAQ,EAAI5B,EAA0BkC,EAAOC,MAAM8K,EAAMrL,OAAsC,IAA7BM,EAAOC,MAAM8K,EAAMrL,MAAnB,OAC5F2J,YAAa,QAAA0B,EAAMrL,KAAiBsK,EAAiBC,EAAgBX,cAAee,EAAmBd,YAAaqB,GAF1GlC,EAAI,SCvBXsC,GAlCE,SAAC,GAAsD,IAArDtL,EAAoD,EAApDA,KAAMiD,EAA8C,EAA9CA,MAAO5E,EAAuC,EAAvCA,MAAOkN,EAAgC,EAAhCA,SAAUC,EAAsB,EAAtBA,iBAEzClL,EAASoI,aAAY,SAACjH,GAAD,OAAWA,EAAMnB,UACtC8J,EAAWC,cAQjB,OANAoB,qBAAU,WACJF,GAAYlN,GACd+L,EAASpI,EAAU,2BAAI1B,GAAL,IAAaQ,QAAQ,2BAAKR,EAAOQ,SAAb,kBAAuBd,GAAO,UAErE,CAACuL,EAAUnB,EAAU9J,EAAQN,EAAM3B,IAGpC,uBAAKwJ,UAAU,2BAAf,UACE,wBAAOnH,KAAK,WAAWmH,UAAU,mCAAmCxF,GAAIrC,EAAMA,KAAMA,EACpF0L,QAASrN,EAAOkN,SAAUA,EAAUxB,SAAUyB,IAC9C,yBAAO3D,UAAU,gBAAgBiC,QAAS9J,EAA1C,UACGiD,EACD,eAAC,GAAD,CAAM+B,KAAMe,GAASK,kBCWduF,GA7BI,SAAC,GAAkB,IAAjB9F,EAAgB,EAAhBA,WAEbvF,EAASoI,aAAY,SAACjH,GAAD,OAAWA,EAAMnB,UACtC8J,EAAWC,cAEXuB,EAAuBhB,uBAC3B,SAACC,GACET,EAASpI,EAAU,2BAAI1B,GAAL,IAAaI,KAAK,2BAAKJ,EAAOI,MAAb,kBAAoBmK,EAAIG,OAAO3I,KAAKwI,EAAIG,OAAOU,gBAElF,CAACtB,EAAU9J,IAGhB,OACI,qCACGuF,EAAWyB,KAAI,SAACuE,EAAU7C,GAAX,OACd,eAAC,GAAD,CAAsBhJ,KAAM6L,EAAS7L,KAAMiD,MAAO4I,EAAS5I,MACzD5E,MAAOiC,EAAOI,KAAKmL,EAAS7L,MAAOwL,iBAAkBI,GADxC5C,EAAI,SCed8C,GA9BO,SAAC,GAAkB,IAAjBjG,EAAgB,EAAhBA,WAEhBvF,EAASoI,aAAY,SAACjH,GAAD,OAAWA,EAAMnB,UACtCa,EAAmBuH,aAAY,SAACjH,GAAD,OAAWA,EAAMN,oBAChDiJ,EAAWC,cAEXuB,EAAuBhB,uBAC3B,SAACC,GACET,EAASpI,EAAU,2BAAI1B,GAAL,IAAaQ,QAAQ,2BAAKR,EAAOQ,SAAb,kBAAuB+J,EAAIG,OAAO3I,KAAKwI,EAAIG,OAAOU,gBAExF,CAACtB,EAAU9J,IAGhB,OACI,qCACGuF,EAAWyB,KAAI,SAACuE,EAAU7C,GAAX,OACd,eAAC,GAAD,CAAsBhJ,KAAM6L,EAAS7L,KAAMiD,MAAO4I,EAAS5I,MAC3D5E,MAAOiC,EAAOQ,QAAQ+K,EAAS7L,MAAOwL,iBAAkBI,EAAsBL,UAAWpK,EAAiB4K,SAASF,EAAS7L,OAD7GgJ,EAAI,SCZtBpE,GAA+Bc,GAAxBsG,GAAwBtG,GAAXuG,GAAWvG,GAiEvBwG,GA/DA,WAEb,IAAMzN,EAAOiK,aAAY,SAACjH,GAAD,OAAWA,EAAMvB,cACpCI,EAASoI,aAAY,SAACjH,GAAD,OAAWA,EAAMnB,UACtC8J,EAAWC,cAEjB,EAAoC8B,mBAAS,IAA7C,oBAAOC,EAAP,KAAmBC,EAAnB,KACA,EAA4CF,mBAAS,CAAC3L,IAAK,EAAGC,IAAK,IAAnE,oBAAO6L,EAAP,KAAuBC,EAAvB,KAwCA,OAtCAd,qBAAU,WACR,IAAMe,EAAY1N,EAAyBL,EAAD,SACpCgC,EAAMgM,KAAKhM,IAAIiM,MAAM,KAAMF,GAC3BhM,EAAMiM,KAAKjM,IAAIkM,MAAM,KAAMF,GACjCH,EAAcpN,OAAOC,OAAOT,IAC5B8N,EAAkB,CAAC/L,MAAKC,UACvB,CAAChC,IAEJgN,qBAAU,WAER,IAAMkB,EAAkBrM,EAAOC,MAAMC,KAAOF,EAAOC,MAAME,IACnDmM,EAAiB3N,OAAOC,OAAOoB,EAAOI,MAAMmM,MAAK,SAACjO,GAAD,OAAmB,IAATA,KAC3DkO,EAAoB7N,OAAOC,OAAOoB,EAAOQ,SAAS+L,MAAK,SAACjO,GAAD,OAAmB,IAATA,KACvEwL,EAASnI,EAAoByB,IAE7B,IAAIqJ,EAAWX,EAMf,GAJIO,IACFI,EpBsCuB,SAACtO,EAAM+B,EAAKC,GAEvC,OAAOhC,EAAK6B,QAAO,SAAA1B,GAAI,OAAK4B,GAAOlC,OAAOM,EAAK2B,QAAUjC,OAAOM,EAAK2B,QAAUE,KoBxChEuM,CAAcZ,EAAY9L,EAAOC,MAAMC,IAAKF,EAAOC,MAAME,MAGlEmM,EAAgB,CAClB,IAAMK,EAAehO,OAAOiO,QAAQ5M,EAAOI,MAAMhC,QAAO,SAACS,EAAD,2BAAOuB,EAAP,YAAkC,IAAlC,KAAwB,sBAAqBvB,GAArB,CAA0B2G,GAAWpF,GAAMV,OAAQb,IAAK,IAClIgC,EAAgB,YAAO,IAAIgM,IAAIlO,OAAOiO,QAAQ5M,EAAOI,MAAMhC,QAAO,SAACS,EAAD,2BAAOuB,EAAP,YAAkC,IAAlC,KAAwB,sBAAqBvB,GAArB,CAA0B2G,GAAWpF,GAAMI,UAAW3B,IAAK,IAAIiO,SAC/JhD,EAASnI,EAAoBd,IAC7B4L,EpBoCsB,SAACtO,EAAM4O,GAEjC,OAAO5O,EAAK6B,QAAO,SAAA1B,GAAI,OAAKyO,EAAMtB,SAASnN,EAAK8B,SoBtCjC4M,CAAaP,EAAUE,GAGhCH,IAEFC,EpBoCyB,SAACtO,EAAMqC,GAEpC,OAAOrC,EAAK6B,QAAO,SAAA1B,GAAI,OAAKkC,EAAQiL,SAASnN,EAAKkC,YoBtCnCyM,CAAgBR,EADJ9N,OAAOiO,QAAQ5M,EAAOQ,SAASpC,QAAO,SAACS,EAAD,2BAAO2B,EAAP,YAAqC,IAArC,KAA2B,sBAAqB3B,GAArB,CAA0B2B,IAAW3B,IAAK,MAIpI,IAAMwD,EAAiBnE,EAAcuO,GACrC3C,EAAS5I,EAAiBmB,MAEzB,CAACyH,EAAU9J,EAAQ8L,IAGlB,wBAAM1K,OAAO,IAAImG,UAAU,2BAA3B,UACE,qBAAIA,UAAU,gBAAd,kDACA,eAAC,GAAD,CAAY7H,KAAM4E,GAAM5E,KAAM2F,OAAQf,GAAMe,OAAQ8D,OAAQzC,GAA5D,SACE,eAAC,GAAD,CAAapB,OAAQhB,GAAMgB,OAAQsE,kBAAmBoC,EAAe9L,IAAK2J,kBAAmBmC,EAAe7L,QAE9G,eAAC,GAAD,CAAYT,KAAMgM,GAAYhM,KAAM2F,OAAQqG,GAAYrG,OAAxD,SACE,eAAC,GAAD,CAAYE,WAAYmG,GAAYnG,eAEtC,eAAC,GAAD,CAAY7F,KAAMiM,GAAQjM,KAAM2F,OAAQsG,GAAQtG,OAAhD,SACE,eAAC,GAAD,CAAeE,WAAYoG,GAAQpG,mBCD9B2H,GA5DC,WAEd,IAAMpD,EAAWC,cACXhK,EAAUqI,aAAY,SAACjH,GAAD,OAAWA,EAAMpB,WAEvCoN,EAAgB3O,EAAyB6F,EAAD,SAExC+I,EAAuBzO,OAAOC,OAAO4F,IAErC6I,EAAwB/C,uBAC5B,SAACC,GAGC,OAFAA,EAAIC,iBAEGD,EAAIG,OAAO4C,WAChB,KAAKjJ,EAAYC,MAAMxB,MACrBgH,EAASrI,EAAW,CAAC8L,MAAOxN,EAAQwN,MAAQxN,EAAQwN,MAAQ/I,GAAaC,UAAUrE,KAAMA,KAAMiE,EAAYC,MAAMlE,QACnH,MACA,KAAKiE,EAAYE,OAAOzB,MACtBgH,EAASrI,EAAW,CAAC8L,MAAOxN,EAAQwN,MAAQxN,EAAQwN,MAAQ/I,GAAaC,UAAUrE,KAAMA,KAAMiE,EAAYE,OAAOnE,WAKrH,CAAC0J,EAAU/J,IAGVyN,EAA0BlD,uBAC9B,SAACC,GAGC,OAFAA,EAAIC,iBAEGD,EAAIG,OAAO3I,IAChB,KAAKyC,GAAaG,WAAWvE,KAC3B0J,EAASrI,EAAW,CAACrB,KAAML,EAAQK,KAAOL,EAAQK,KAAOiE,EAAYC,MAAMlE,KAAMmN,MAAO/I,GAAaG,WAAWvE,QAClH,MACA,KAAKoE,GAAaC,UAAUrE,KAC1B0J,EAASrI,EAAW,CAACrB,KAAML,EAAQK,KAAOL,EAAQK,KAAOiE,EAAYC,MAAMlE,KAAMmN,MAAO/I,GAAaC,UAAUrE,WAKlH,CAAC0J,EAAU/J,IAGhB,OACI,uBAAKwH,UAAU,qBAAf,UACE,oBAAGA,UAAU,2BAAb,iFACA,eAAC,GAAD,CAAMnH,KAAI,UAAa4C,MAAOmK,EAAe7E,WAAYvI,EAAQK,MAAQiE,EAAYtE,EAAQK,KAAK6H,eAAenF,MAC/G2F,YAAa4E,IACf,sBAAK9F,UAAU,6BAAf,SACG6F,EAAqBpG,KAAI,SAAC1I,EAAMoK,GAAP,OAC5B,yBAAqB3G,GAAIzD,EAAK8B,KAAMmH,UAAS,oCAA+BxH,EAAQwN,OAASxN,EAAQwN,QAAUjP,EAAK8B,KAAxC,wCAC1EA,KAAK,SAAS4H,aAAY1J,EAAKwE,MAAO8E,QAAS4F,EADjD,SAEE,eAAC,GAAD,CAAM9I,KAAMe,GAAS,GAAD,OAAInH,EAAKoG,KAAKuD,mBAFtBS,EAAI,YCxBX+E,GA7BA,SAAC,GAAmD,IAAlD3K,EAAiD,EAAjDA,MAAOyE,EAA0C,EAA1CA,UAAWnH,EAA+B,EAA/BA,KAAMsE,EAAyB,EAAzBA,KAAMgJ,EAAmB,EAAnBA,KAAM9F,EAAa,EAAbA,QAEjD,OACE8F,EACA,gBAAC,KAAD,CAAMjG,GAAIiG,EAAMnG,UAAS,UAAKA,EAAL,mBAAyBnH,EAAI,kBAAcA,GAAd,IAAtD,UACGsE,GAAQ,eAAC,GAAD,CAAMA,KAAMA,IACpB5B,KAGH,qBAAG0E,KAAK,IAAID,UAAS,UAAKA,EAAL,mBAAyBnH,EAAI,kBAAcA,GAAd,IAA6BwH,QAASA,EAAxF,UACGlD,GAAQ,eAAC,GAAD,CAAMA,KAAMA,IACpB5B,MCkDM6K,GAzDI,SAAC,GAAc,IvBoBJC,EuBpBTC,EAAY,EAAZA,OAEb/D,EAAWC,cAEX+D,GvBgBsBF,EuBhBCC,EAAOC,OvBiB7B3B,KAAK4B,MAAOH,EAAe,GAAM,MuBflCI,EAA0B1D,uBAC9B,SAACC,GACCA,EAAIC,iBACJV,EAASxI,EAAU,CAAC5B,KAAMwE,EAAUN,IAAIxD,KAAK6H,cAAegG,QAASJ,EAAO9L,QAC3E,CAAC+H,EAAU+D,IAGhB,OACE,sBAAItG,UAAU,yBAAd,UACE,sBAAKA,UAAU,gCAAf,SACE,mCACE,sBAAKA,UAAU,kBAAkBF,IAAG,kBAAawG,EAAO5G,MAApB,QACpCiH,OAAM,kBAAaL,EAAO5G,MAApB,cAAuCtB,MAAM,KAAKC,OAAO,MAAM0B,IAAG,4GAAuBuG,EAAO/K,aAG1G,uBAAKyE,UAAU,iCAAf,UACE,qBAAIA,UAAU,oBAAd,SACGpE,EAAM6D,KAAI,SAACmH,EAAOzF,GAAR,OACT,qBAAgBnB,UAAU,eAA1B,SACGmB,EAAIoF,EAAS,eAAC,GAAD,CAAMpJ,KAAMe,GAASY,OAAW,eAAC,GAAD,CAAM3B,KAAMe,GAASa,cAD5DoC,EAAI,QAKjB,uBAAMnB,UAAU,kCAAhB,SAAmDsG,EAAOC,YAE5D,uBAAKvG,UAAU,+BAAf,UACE,oBAAGA,UAAU,eAAb,SAA6BsG,EAAO/K,QACpC,oBAAGyE,UAAU,eAAb,mBAAgCzJ,EAA0B+P,EAAO5N,OAAjE,YAA2EyG,SAE7E,uBAAKa,UAAU,kCAAf,UACE,eAAC,GAAD,CAAQzE,MAAOW,EAAWC,KAAKZ,MAAOyE,UAAS,iBAAoBnH,KAAMqD,EAAWC,KAAKtD,OACzF,eAAC,GAAD,CAAQ0C,MAAOW,EAAWE,IAAIb,MAAOyE,UAAS,wCAA2CnH,KAAMqD,EAAWE,IAAIvD,KAC9GsE,KAAMe,GAASN,KAAMyC,QAASoG,WCjBvBI,GA1BC,SAAC,GAAa,IAAZpL,EAAW,EAAXA,MAEhB,OACEA,EAAM6F,OAAS,EACf,qBAAItB,UAAU,kBAAd,SACGvE,EAAMgE,KAAI,SAAC1I,EAAMoK,GAAP,OACT,eAAC,GAAD,CAAyBmF,OAAQvP,GAAfoK,EAAI,QAG1B,oBAAGnB,UAAU,2BAAb,2GCRG8G,GAAwB/K,EAAdgL,GAAchL,EAARiL,GAAQjL,EAmDhBkL,GAjDI,SAAC,GAA8C,IAA7CC,EAA4C,EAA5CA,YAAaC,EAA+B,EAA/BA,WAAYC,EAAmB,EAAnBA,cAEtCC,EAAQ,CACZC,SAAUJ,EvBmDmB,GuBnDeJ,GAC5CS,MvBkD6B,EuBjD7BC,SAAUN,EAAcO,GAAyBN,EvBmD3B,GuBnDqDH,GAC3EE,YvBgD6B,IuBhDhBA,GAAqCC,GvBkD5B,EuBlDuDD,EAAc,EAAIA,IAAgBC,GAAcA,GvBkDvG,EuBlDkID,EAAc,EAAIC,GvBkDpJ,GuBlD+KD,EACrMQ,SAAUR,EAAcC,EAAa,GAAKA,EvBiDpB,GuBjD8CH,GACpEW,KAAMR,EvB8CuB,GuB9CUA,EACvC3H,KAAM0H,EAAcC,GAAaJ,IAG7Ba,EAAoB7E,uBACxB,SAACC,GAGC,GAFAA,EAAIC,iBAEAD,EAAIG,OAAO4C,YAAciB,GAA7B,CAIA,IAAMa,EAAU7E,EAAIG,OAAO4C,YAAce,GACzCI,EAAc,EAAIlE,EAAIG,OAAO4C,YAAcgB,GAC3CG,EAAc,EACdzQ,OAAOuM,EAAIG,OAAO4C,WAElBqB,EAAcS,MAEb,CAACX,EAAaE,IAGnB,OACID,EAAa,GACb,qBAAInH,UAAU,mCAAd,SACG5I,OAAOC,OAAOgQ,GAAO5H,KAAI,SAACqI,EAAM3G,GAAP,OACxB2G,EAAO,qBAAgB9H,UAAS,2BAAsB8H,IAAShB,IAAYgB,IAASf,GAA9B,4BAA/C,SACL,eAAC,GAAD,CAAQxL,MAAOuM,EAAKC,WAAY/H,UAAS,6BAAwB8H,IAASZ,EAAT,6BAAsDY,IAAShB,IAAYgB,IAASf,GAA9B,0BAAiEe,IAASd,GAAT,+BACtLnO,KAAI,aAAgBwH,QAASuH,KAFjBzG,EAAI,GAAhB,SCUC6G,GA5CE,SAAC,GAAe,IAAdC,EAAa,EAAbA,QAEjB,EAAsC3D,mBxBoDP,GwBpD/B,oBAAO4C,EAAP,KAAoBgB,EAApB,KACA,EAAoC5D,mBAAS,GAA7C,oBAAO6C,EAAP,KAAmBgB,EAAnB,KACA,EAA0C7D,mBAAS,IAAnD,oBAAO8D,EAAP,KAAsBC,EAAtB,KAEAzE,qBAAU,WACR,IAAMyD,EAAQzC,KAAK0D,KAAKL,EAAQ3G,OxB6CN,GwB5C1B6G,EAAcd,GACda,ExB6C6B,GwB5C7BG,EAAiBJ,EAAQvG,MAAM,ExB0CL,MwBzCzB,CAACuG,IAEJ,IAAMM,EAAwBxF,uBAC5B,SAAC8E,GACCK,EAAeL,GACf,IAAMW,ExBoCkB,GwBpCkBX,EAAU,GAC9CY,EAAiBD,ExBmCC,EwBnCmCP,EAAQ3G,OAAS2G,EAAQ3G,OAASkH,ExBmCrE,EwBlCxBH,EAAiBJ,EAAQvG,MAAM8G,EAAiBC,MAC/C,CAACR,IAGN,OACI,uBAAKjI,UAAU,sBAAf,UACE,eAAC,GAAD,IACA,eAAC,GAAD,CAASvE,MAAO2M,IAChB,eAAC,GAAD,CAAYlB,YAAaA,EAAaC,WAAYA,EAAYC,cAAemB,QCNtEG,GArBG,WAEhB,MAA8BpE,mBAAS,IAAvC,oBAAO2D,EAAP,KAAgBU,EAAhB,KACMrQ,EAAgBuI,aAAY,SAACjH,GAAD,OAAWA,EAAMtB,iBAC7CE,EAAUqI,aAAY,SAACjH,GAAD,OAAWA,EAAMpB,WAS7C,OAPAoL,qBAAU,WACR,IAAMgF,E3BgDe,SAACnN,EAAO5C,EAAMmN,GAEnC,OAAOA,GACL,IAAI,YACF,OAAOvK,EAAMoN,MAAK,SAAClR,EAAGmR,GACpB,OAAOnR,EAAEkB,GAAQiQ,EAAEjQ,MAEvB,IAAI,aACF,OAAO4C,EAAMoN,MAAK,SAAClR,EAAGmR,GACpB,OAAOA,EAAEjQ,GAAQlB,EAAEkB,MAEvB,QACE,OAAO4C,G2B5DQsN,CAAU3R,OAAOC,OAAOiB,GAAgBE,EAAQK,KAAML,EAAQwN,OACjF2C,EAAWC,KAEV,CAACtQ,EAAeE,IAIf,uBAAKwH,UAAU,qBAAf,UACE,eAAC,GAAD,IACA,eAAC,GAAD,CAAUiI,QAASA,QCiBZe,GAlCS,SAAC,GAAuB,I5BgBVC,E4BhBZ3C,EAAqB,EAArBA,OAAQ4C,EAAa,EAAbA,QAEhC,OACE,uCACE,sBAAKlJ,UAAU,kBAAf,SACE,mCACE,sBAAKA,UAAU,oBAAoBF,IAAG,kBAAawG,EAAO5G,MAApB,QACtCiH,OAAM,kBAAaL,EAAO5G,MAApB,cAAuCtB,MAAM,KAAKC,OAAO,MAAM0B,IAAG,4GAAuBuG,EAAO/K,aAG1G,uBAAKyE,UAAU,iBAAf,UACE,sBAAIA,UAAU,kBAAd,UAAiCkJ,EAAO,uCAAc5C,EAAOzN,KAA7D,IAAoEyN,EAAO/K,SAC3E,oBAAGyE,UAAU,iBAAb,+DAA2CsG,EAAO3G,QAClD,oBAAGK,UAAU,iBAAb,oB5BG8BiJ,E4BH0B3C,EAAOzN,K5BI5DoQ,EAAO,GAAGvI,cAAgBuI,EAAOE,UAAU,I4BJ9C,aAAyE7C,EAAOrN,QAAhF,uDACCiQ,GAAW,oBAAGlJ,UAAU,gBAAb,6CAAuCzJ,EAA0B+P,EAAO5N,OAAxE,YAAkFyG,aCoGvFiK,GA3GM,SAAC,GAA2B,IAA1B9C,EAAyB,EAAzBA,OAAQ+C,EAAiB,EAAjBA,YAEvB9G,EAAWC,cAEXM,EAAoBC,uBACxB,SAACC,GACGA,EAAIC,iBAEC1L,EAAcyL,EAAIG,OAAO3M,OAK9B+L,EAAShI,EAAY,CAACC,GAAI8L,EAAO9L,GAAIF,MAAO7D,OAAOuM,EAAIG,OAAO3M,UAJ5D+L,EAAShI,EAAY,CAACC,GAAI8L,EAAO9L,GAAIF,MAX7B,OAgBX,CAACiI,EAAU+D,IAGVjD,EAAkBN,uBACtB,SAACC,GACC,GAAIvM,OAAOuM,EAAIG,OAAO3M,OArBV,EAwBV,OAFA+L,EAASxI,EAAU,CAAC5B,KAAMwE,EAAUL,OAAOzD,KAAK6H,cAAegG,QAASJ,EAAO9L,WAC/E+H,EAAShI,EAAY,CAACC,GAAI8L,EAAO9L,GAAIF,MAvB3B,OA6BX,CAACiI,EAAU+D,IAGRgD,EAAqBvG,uBAC3B,SAACC,GAGC,OAFAA,EAAIC,iBAEID,EAAIG,OAAO3I,IACjB,KAAKwB,EACH,IAAMuN,EAAiBjD,EAAOhM,MAAQ,EAEtC,GAAIiP,EAxCI,EA2CN,OAFAhH,EAASxI,EAAU,CAAC5B,KAAMwE,EAAUL,OAAOzD,KAAK6H,cAAegG,QAASJ,EAAO9L,WAC/E+H,EAAShI,EAAY,CAACC,GAAI8L,EAAO9L,GAAIF,MA1C/B,KA8CRiI,EAAShI,EAAY,CAACC,GAAI8L,EAAO9L,GAAIF,MAAOiP,KAE5C,MACF,KAAKvN,EACHuG,EAAShI,EAAY,CAACC,GAAI8L,EAAO9L,GAAIF,MAAOgM,EAAOhM,MAAQ,KAE3D,MACF,QACE,UAGH,CAACiI,EAAU+D,IAGVkD,EAA0BzG,uBAC9B,SAACC,GACCA,EAAIC,iBACJV,EAASxI,EAAU,CAAC5B,KAAMwE,EAAUL,OAAOzD,KAAK6H,cAAegG,QAASJ,EAAO9L,QAE9E,CAAC+H,EAAU+D,IAGhB,OACE,sBAAItG,UAAS,8BAAyBqJ,EAAW,sBAAjD,UACKA,GAAe,uCACd,sBAAIrJ,UAAU,kBAAd,UACE,eAAC,GAAD,CAAM7C,KAAMe,GAASN,OADvB,wGAIA,eAAC,GAAD,CAAQrC,MAAOW,EAAWK,SAAShB,MAAOyE,UAAS,iBAAoBnH,KAAMqD,EAAWK,SAAS1D,KAAMsN,KAAM5I,QAE9G+I,GACD,uCACE,yBAAQzN,KAAK,SAASmH,UAAU,mBAAmBS,aAAW,4EAAgBJ,QAASmJ,IACvF,eAAC,GAAD,CAAiBlD,OAAQA,IACzB,oBAAGtG,UAAU,kBAAb,mBAAmCzJ,EAA0B+P,EAAO5N,OAApE,YAA8EyG,MAC9E,uBAAKa,UAAU,qBAAf,UACE,yBAAQxF,GAAG,WAAWwF,UAAU,0DAAgDnH,KAAK,SAAS4H,aAAW,yDAAYJ,QAASiJ,IAC9H,wBAAOtJ,UAAU,kBAAkBiC,QAAQ,WAA3C,qHACA,wBAAOjC,UAAU,kBAAkBnH,KAAK,SAAS2B,GAAG,WAAWrC,KAAK,WAAW3B,MAAO8P,EAAOhM,MAC3F4H,SAAUY,EAAmBX,OAAQkB,IACvC,yBAAQ7I,GAAG,WAAWwF,UAAU,0DAAgDnH,KAAK,SAAS4H,aAAW,yDAAYJ,QAASiJ,OAEhI,oBAAGtJ,UAAU,gBAAb,mBAAiCzJ,EAA0B+P,EAAO5N,MAAQ4N,EAAOhM,OAAjF,YAA2F6E,aCpEtFsK,GA3BG,SAAC,GAAa,IAAZhO,EAAW,EAAXA,MAEZiO,EAA0C,IAAhCtS,OAAOC,OAAOoE,GAAO6F,OAErC,OACE,sBAAItB,UAAU,aAAd,UACG0J,GAAW,eAAC,GAAD,CAAcL,aAAa,KACrCK,GAAWjO,EAAMgE,KAAI,SAAC1I,EAAMoK,GAAP,OACrB,eAAC,GAAD,CAA2BmF,OAAQvP,GAAfoK,EAAI,UCoDjBwI,GAxDD,WAEZ,IAAMC,EAAQ/I,aAAY,SAACjH,GAAD,OAAWA,EAAMJ,YACrCD,EAAYsH,aAAY,SAACjH,GAAD,OAAWA,EAAML,aACzCgJ,EAAWC,cAEjB,EAAoC8B,mBAAS,IAA7C,oBAAOuF,EAAP,KAAmBC,EAAnB,KACA,EAA8BxF,oBAAS,GAAvC,oBAAOyF,EAAP,KAAgBC,EAAhB,KAEMlH,EAAoBC,uBACxB,SAACC,GACGA,EAAIC,iBACJ+G,GAAW,GACXF,EAAc9G,EAAIG,OAAO3M,SAC1B,IAGCyT,EAAyBlH,uBAC7B,SAACC,GACGA,EAAIC,iBAECnH,EAAWoI,SAAS2F,EAAWnJ,eAKhCnH,EACFyQ,EAAW1M,IAIfiF,EAAS5H,EAAakP,EAAWnJ,gBAT7BsJ,EAAW1M,MAYd,CAACiF,EAAUhJ,EAAWsQ,IAG3B,OACE,wBAAMhQ,OAAO,IAAImG,UAAU,oBAA3B,UACE,uBAAKA,UAAU,eAAf,UACE,oBAAGA,UAAU,qBAAb,gHACA,oBAAGA,UAAU,wBAAb,6NACA,uBAAKA,UAAU,uBAAf,UACE,eAAC,GAAD,CAAOA,UAAS,6BAAwB+J,EAAO,gCAAuC5R,KAAI,QAAWiD,MAAK,8FAAsB5E,MAAOqT,EAAY9H,cAAee,IAC/JiH,GAAW,uBAAM/J,UAAU,qBAAhB,mBAAyC+J,IAAYzM,GAAZ,wSACvD,eAAC,GAAD,CAAQ/B,MAAOW,EAAWO,MAAMlB,MAAOyE,UAAS,qCAAwCnH,KAAMqD,EAAWO,MAAM5D,KAAMwH,QAAS4J,UAGlI,uBAAKjK,UAAU,kBAAf,UACE,oBAAGA,UAAU,wBAAb,mDAAgDzJ,EAA0BqT,GAA1E,YAAoFzK,MACpF,eAAC,GAAD,CAAQ5D,MAAOW,EAAWQ,SAASnB,MAAOyE,UAAS,wCAA2CnH,KAAMqD,EAAWQ,SAAS7D,cCpBjHqR,GA/BF,WAEX,IAAM3R,EAAWsI,aAAY,SAACjH,GAAD,OAAWA,EAAMrB,YACxCgB,EAAYsH,aAAY,SAACjH,GAAD,OAAWA,EAAML,aAEzCgJ,EAAWC,cAEjB,EAA8B8B,mBAAS,IAAvC,oBAAO2D,EAAP,KAAgBU,EAAhB,KAgBA,OAdA/E,qBAAU,WACR+E,EAAWvR,OAAOC,OAAOkB,MACxB,CAACA,IAEJqL,qBAAU,WACR,GAAuB,IAAnBqE,EAAQ3G,OACViB,EAAS7H,EAAY,QAChB,CACL,IAAMkP,EhCSe,SAACnO,EAAO0O,GAEjC,IAAIP,EAAQnO,EAAM5E,QAAO,SAAC+S,EAAD,OAASlR,EAAT,EAASA,MAAO4B,EAAhB,EAAgBA,MAAhB,OAA2BsP,EAASnT,OAAOiC,GAAS4B,IAAQ,GAErF,GAAI6P,EAAW,CAEb,IAAIC,EAEJ,OAAOD,GACL,IAAI,YACFC,EAAmB,GAARR,EACb,MACA,IAAI,cACFQ,EAAW,IACb,MACA,IAAI,aACFA,EAAmB,GAARR,EAAc,KAAO,KAAe,GAARA,EACzC,MACA,QACE,OAAOQ,EAGXR,GAAgBQ,EAGlB,OAAOR,EgClCWS,CAAYpC,EAAS1O,GACnCgJ,EAAS7H,EAAYkP,IACrBlP,EAAYkP,MAEb,CAACrH,EAAU0F,EAAS1O,IAGrB,uBAAKyG,UAAU,gBAAf,UACE,eAAC,GAAD,CAAWvE,MAAOwM,IAClB,eAAC,GAAD,QCDSqC,GA1BA,SAAC,GAAc,IAAbzK,EAAY,EAAZA,OAEf,OACE,yBAAQG,UAAU,SAAlB,SACE,uBAAKA,UAAU,4BAAf,UACE,eAAC,GAAD,CAAMnH,KAAMoD,EAAiB4D,OAAQA,IACrC,eAAC,GAAD,CAAMhH,KAAI,SAAY4C,MAAOJ,EAAmB4F,aAAa,IAC7D,qBAAIjB,UAAU,qBAAd,SACG1E,EAAkBmE,KAAI,SAAC1I,EAAMoK,GAAP,OACrB,sBAAiBnB,UAAU,0BAA3B,UACE,qBAAIA,UAAU,2BAAd,SAA0CjJ,EAAKwE,QAC9CxE,EAAKyE,KACN,eAAC,GAAD,CAAM3C,KAAM9B,EAAK8B,KAAM4C,MAAO1E,EAAKyE,KAAMwF,QAAQ,IACjD,eAAC,GAAD,CAAMnI,KAAM9B,EAAK8B,KAAM4C,MAAO1E,EAAK0E,UAJ3B0F,EAAI,cC8DXoJ,GApED,SAAC,GAAuC,IAAtC1R,EAAqC,EAArCA,KAAM0C,EAA+B,EAA/BA,MAAOiP,EAAwB,EAAxBA,UAAW5N,EAAa,EAAbA,QAEhC8J,EAAU7F,aAAY,SAACjH,GAAD,OAAWA,EAAMvB,WAAWmS,OAAe,KACjEjI,EAAWC,cACXiI,EAAUC,eAEVC,EAAyB5H,uBAC7B,SAACC,GACGA,EAAIC,iBACJV,EAASvI,OACV,CAACuI,IAGAqI,EAAyB7H,uBAC7B,SAACC,GAGC,OAFAA,EAAIC,iBAEGD,EAAIG,OAAO4C,WAChB,KAAK7J,EAAWG,IAAId,MAClBgH,EAASlI,EAAUmQ,IACnBjI,EAASvI,KACTuI,EAASxI,EAAU,CAAC5B,KAAMwE,EAAUE,QAAQhE,KAAK6H,iBACnD,MACA,KAAKxE,EAAWK,SAAShB,MACvBgH,EAASvI,KACX,MACA,KAAKkC,EAAWM,aAAajB,MAC3BgH,EAASvI,KACTyQ,EAAQI,KAAKtN,IACb,MACF,KAAKrB,EAAWI,OAAOf,MACrBgH,EAAS9H,EAAe+P,IACxBjI,EAASvI,QAKZ,CAACuI,EAAUkI,EAASD,IAGzB,OACE,2BAASxK,UAAU,SAASK,QAASsK,EAArC,UACE,qBAAI3K,UAAU,kBAAd,yJACA,uBAAKA,UAAS,yCAAoCnH,GAAQwH,QAAS,SAAC2C,GAAD,OAASA,EAAI8H,mBAAhF,UACE,yBAAQjS,KAAK,SAASmH,UAAU,gBAAgBS,aAAW,6EAAiBJ,QAASsK,IACrF,qBAAI3K,UAAU,gBAAd,SAA+BzE,IAC/B,uBAAKyE,UAAU,kBAAf,UACG0G,GAAW,sBAAK1G,UAAU,eAAf,SACV,eAAC,GAAD,CAAiBsG,OAAQI,EAASwC,SAAS,MAE7C,sBAAKlJ,UAAU,kBAAf,SACGpD,EAAQ6C,KAAI,SAACsL,EAAQ5J,GAAT,OACX,eAAC,GAAD,CAAoB5F,MAAOwP,EAAOxP,MAAOyE,UAAS,iBAAoBnH,KAAMkS,EAAOlS,KAAMwH,QAASuK,GAArFzJ,EAAI,kBCNhB6J,GA3CF,SAAC,GAAY,IAAXnS,EAAU,EAAVA,KAEPgH,EAAShH,IAAS4E,GAClBhE,EAAQoH,aAAY,SAACjH,GAAD,OAAWA,EAAMH,SACrC8I,EAAWC,cAEjBoB,qBAAU,WACJnK,GACFwR,SAASC,KAAKC,MAAMC,SAApB,SACAH,SAASI,iBAAT,UAAqCC,KAErCL,SAASC,KAAKC,MAAMC,SAApB,OACAH,SAASM,oBAAT,UAAwCD,OAI5C,IAAMA,EAAmBvI,uBACvB,SAACC,GACKA,EAAI7L,MAAQqG,IAAcwF,EAAI7L,MAAQqG,KACxCwF,EAAIC,iBACJV,EAASvI,QAEV,CAACuI,IAGN,OACE,uCACE,eAAC,GAAD,CAAQ1C,OAAQA,IAChB,eAAC,GAAD,CAAMhH,KAAMA,EAAMgH,OAAQA,EAA1B,SACGA,EAAS,eAAC,GAAD,IAAgB,eAAC,GAAD,MAE5B,eAAC,GAAD,CAAQA,OAAQA,IACfpG,GACC,eAAC,GAAD,CAAOZ,KAAM8D,EAAUlD,EAAMtB,MAAMU,KAAM0C,MAAOoB,EAAUlD,EAAMtB,MAAMoD,MACtEqB,QAASD,EAAUlD,EAAMtB,MAAMyE,QAAS4N,UAAW/Q,EAAMiN,cCzC1D8E,GAAcjO,GAARK,GAAQL,GACdkO,GAAehO,GAATiO,GAASjO,GAkBPkO,GAhBH,WAEV,OACE,eAAC,KAAD,UACE,gBAAC,KAAD,WACE,eAAC,KAAD,CAAOC,OAAK,EAACzF,KAAMqF,GAAnB,SACE,eAAC,GAAD,CAAM3S,KAAM4S,OAEd,eAAC,KAAD,CAAOG,OAAK,EAACzF,KAAMvI,GAAnB,SACE,eAAC,GAAD,CAAM/E,KAAM6S,aCRhBG,GAAQC,YAAe,CAC3B9Q,QAASD,EACTgR,WAAY,SAACC,GAAD,OACVA,EAAqB,CACnBC,mBAAmB,IAClBC,OAAO5M,OAGd6M,QAAQC,IAAI,CACVP,GAAMtJ,SAAS9K,OAEhB4U,MAAK,WACNC,IAASC,OACP,eAAC,IAAD,CAAUV,MAAOA,GAAjB,SACE,eAAC,GAAD,MAEFZ,SAASuB,eAAe,YAGzBC,OAAM,SAACC,GACN3U,QAAQC,MAAM0U,Q","file":"static/js/main.6f49d127.chunk.js","sourcesContent":["export const parseStringToLocaleString = (value) => {\n  return Number(value).toLocaleString('ru-RU');\n};\n\nexport const formatString = (string) => {\n  return string.replace(/\\s/g, '');\n};\n\nexport const normalizeData = (data) => {\n  return data.reduce((result, item, index) => {\n    result[index + 1] = item;\n    return result;\n  }, {});\n}\n\nexport const parseDataToArrayOfValues = (obj, key) => {\n  return Object.values(obj).reduce((acc, item) => {\n    return [...acc, item[key]];\n  }, []);\n};\n\nexport const capitalizeFirstLetter = (string) => {\n    return string[0].toUpperCase() + string.substring(1)\n  };\n\nexport const isNumbersOnly = (value) => {\n  return (/^[0-9 ]*$/.test(value));\n};\n\nexport const getStarsCount = (reviewsCount) => {\n  return Math.round((reviewsCount / 10) * 1.7);\n}\n\nexport const getTotalSum = (items, promocode) => {\n\n  let total = items.reduce((total, {price, count}) => total + (Number(price) * count), 0);\n\n  if (promocode) {\n\n    let discount;\n\n    switch(promocode) {\n      case `GITARAHIT`:\n        discount = total * 0.1;\n      break;\n      case `SUPERGITARA`:\n        discount = 700;\n      break;\n      case `GITARA2020`:\n        discount = total * 0.3 > 3500 ? 3500 : total * 0.3;\n      break;\n      default:\n        return discount;\n    }\n\n    total = total - discount;\n  }\n\n  return total;\n}\n\nexport const sortItems = (items, type, order) => {\n\n    switch(order) {\n      case `ascending`:\n        return items.sort((a, b) => {\n          return a[type] - b[type];\n        });\n      case `descending`:\n        return items.sort((a, b) => {\n          return b[type] - a[type];\n        });\n      default:\n        return items;\n    }\n};\n\nexport const filterByPrice = (data, min, max) => {\n\n  return data.filter(item => (min <= Number(item.price) && Number(item.price) <= max));\n}\n\nexport const filterByType = (data, types) => {\n\n  return data.filter(item => (types.includes(item.type)));\n}\n\nexport const filterByStrings = (data, strings) => {\n\n  return data.filter(item => (strings.includes(item.strings)));\n}\n","import {createSlice,  createAsyncThunk} from '@reduxjs/toolkit';\nimport axios from \"axios\";\nimport {normalizeData} from '../utils';\n\nconst BASE_URL = `https://sheet.best/api/sheets/8abd9b09-fc15-4b7a-83bd-c3f59a75e7f5`;\n\nexport const getData = createAsyncThunk('guitar-shop/getData',  async () => {\n  try {\n    const response = await axios.get(BASE_URL);\n    return response.data\n  } catch (error) {\n    console.error(error);\n  }\n});\n\nconst initialState = {\n  guitarData: {},\n  catalogueData: {},\n  cartData: {},\n  sorting: {},\n  filter: {\n    price: {min: ``, max: ``},\n    type: {electric: false, acoustic: false, ukulele: false},\n    strings: {4: false, 6: false, 7: false, 12: false}\n  },\n  availableStrings: [4, 6, 7, 12],\n  promoCode: ``,\n  orderSum: 0,\n  popUp: null,\n  index: 0,\n};\n\nconst guitarShopSlice = createSlice({\n  name: 'guitar-shop',\n  initialState,\n  reducers: {\n    setCatalogueData(state, action) {\n      state.catalogueData = action.payload;\n    },\n    openPopUp(state, action) {\n      state.popUp = action.payload;\n    },\n    closePopUp(state, _action) {\n      state.popUp = null;\n    },\n    setSorting(state, action) {\n      state.sorting = action.payload;\n    },\n    setFilter(state, action) {\n      state.filter = action.payload;\n    },\n    setAvailableStrings(state, action) {\n      state.availableStrings = action.payload;\n    },\n    addToCart(state, action) {\n      if (!state.cartData[action.payload]) {\n        state.cartData[action.payload] = {...state.guitarData[action.payload], count: 1};\n        state.index += 1;\n      } else {\n        state.cartData[action.payload] = {...state.cartData[action.payload], count: state.cartData[action.payload].count + 1};\n      }\n    },\n    changeCount(state, action) {\n      state.cartData[action.payload.id] = {...state.cartData[action.payload.id], count: action.payload.count};\n    },\n    deleteFromCart(state, action) {\n      delete state.cartData[action.payload];\n      state.index -= 1;\n    },\n    setOrderSum(state, action) {\n      state.orderSum = action.payload;\n    },\n    setPromoCode(state, action) {\n      state.promoCode = action.payload;\n    },\n  },\n  extraReducers: {\n    [getData.fulfilled]: (state, action) => {\n      const normalizedData = normalizeData(action.payload);\n\n      state.guitarData = normalizedData;\n      state.catalogueData = normalizedData;\n    },\n  },\n});\n\nconst Reducer = guitarShopSlice.reducer;\n\nexport const {\n    setCatalogueData,\n    openPopUp,\n    closePopUp,\n    setSorting,\n    setFilter,\n    setAvailableStrings,\n    addToCart,\n    changeCount,\n    deleteFromCart,\n    setOrderSum,\n    setPromoCode\n  } = guitarShopSlice.actions;\n\nexport default Reducer;\n","export const HEADER_MENU_ITEMS = [`Каталог`, `Где купить?`, `О компании`, `Cервис-центры`];\n\nexport const USER_MENU_ITEMS = [\n  {\n    type: `map`,\n    label: `Как проехать`,\n  },\n  {\n    type: `search`,\n    label: `Поиск по сайту`,\n  },\n  {\n    type: `basket`,\n    label: `Корзина`,\n  }\n];\n\nexport const SOCIAL_MENU_ITEMS = [\n  {\n    type: `facebook`,\n    label: `Фейсбук`,\n  },\n  {\n    type: `instagram`,\n    label: `Инстаграм`,\n  },\n  {\n    type: `twitter`,\n    label: `Твиттер`,\n  }\n];\n\nexport const FOOTER_MENU_ITEMS = [\n  {\n    type: `about`,\n    title: `О нас`,\n    text: [`Магазин гитар, музыкальных инструментов и гитарная мастерская в Санкт-Петербурге.`, `Все инструменты проверены, отстроены и доведены до идеала!`],\n  },\n  {\n    type: `catalogue`,\n    title: `Каталог`,\n    items: [`Акустические гитары`, `Классические гитары`, `Электрогитары`, `Бас-гитары`, `Укулеле`],\n  },\n  {\n    type: `information`,\n    title: `Информация`,\n    items: [`Где купить?`, `Блог`, `Вопрос - ответ`, `Возврат`, `Сервис-центры`],\n  },\n  {\n    type: `contacts`,\n    title: `Контакты`,\n    text: [`г. Санкт-Петербург, м. Невский проспект, ул. Казанская 6.`, {type: `phone`, content: `8-812-500-50-50`}, `Режим работы:`, {type: `clock`, content: `с 11:00 до 20:00,`}, `без выходных.`],\n  },\n];\n\nexport const BREADCRUMBS = [`Главная`, `Каталог`, `Оформляем`];\n\nexport const STARS = [`1`, `2`, `3`, `4`, `5`];\n\nexport const CARDS_PER_PAGE = 9;\n\nexport const FIRST_PAGE_NUMBER = 1;\n\nexport const PAGER_SIZE = 3;\n\nexport const ALL_STRINGS = [4, 6, 7, 12];\n\nexport const PROMOCODES = [`GITARAHIT`, `SUPERGITARA`, `GITARA2020`];\n\nexport const NavigationButton = {\n  PREVIOUS: `Назад`,\n  NEXT: `Далее`,\n  DOTS: `...`\n};\n\nexport const ControlButton = {\n  DECREASE: `decrease`,\n  INCREASE: `increase`,\n};\n\nexport const LogoType = {\n  HEADER: `header`,\n  FOOTER: `footer`\n};\n\nexport const ButtonType = {\n  MORE: {\n    type: `mono`,\n    title: `Подробнее`\n  },\n  BUY: {\n    type: `color`,\n    title: `Купить`\n  },\n  ADD: {\n    type: `color`,\n    title: `Добавить в корзину`\n  },\n  DELETE: {\n    type: `color`,\n    title: `Удалить товар`\n  },\n  CONTINUE: {\n    type: `transparent`,\n    title: `Продолжить покупки`\n  },\n  GO_TO_BASKET: {\n    type: `color`,\n    title: `Перейти в корзину`\n  },\n  PROMO: {\n    type: `mono`,\n    title: `Применить купон`\n  },\n  CHECKOUT: {\n    type: `color`,\n    title: `Оформить заказ`\n  },\n};\n\nexport const PopUpType = {\n  ADD: {\n    type: `add`,\n    title: `Добавить товар в корзину`,\n    buttons: [ButtonType.ADD]\n  },\n  DELETE: {\n    type: `delete`,\n    title: `Удалить этот товар?`,\n    buttons: [ButtonType.DELETE, ButtonType.CONTINUE]\n  },\n  SUCCESS: {\n    type: `success`,\n    title: `Товар успешно добавлен в корзину`,\n    buttons: [ButtonType.GO_TO_BASKET, ButtonType.CONTINUE]\n  },\n};\n\nexport const SortingType = {\n  PRICE: {\n    title: `по цене`,\n    type: `price`\n  } ,\n  RATING: {\n    title: `по популярности`,\n    type: `rating`\n  }\n};\n\nexport const SortingOrder = {\n  ASCENDING: {\n    title: `По возрастанию`,\n    type: `ascending`,\n    icon: `toggle_up`\n  } ,\n  DESCENDING: {\n    title: `По убыванию`,\n    type: `descending`,\n    icon: `toggle_down`,\n  }\n};\n\nexport const GuitarImage = {\n  \"SO757575\": `guitar1`,\n  \"TK129049\": `guitar2`,\n  \"RO111111\": `guitar3`,\n  \"TK436457\": `guitar4`,\n  \"DI192138\": `guitar5`,\n  \"SO934345\": `guitar1`,\n  \"DI082347\": `guitar3`,\n  \"SO135646\": `guitar6`,\n  \"VO154751\": `guitar5`,\n  \"укулеле\": `guitar3`,\n  \"акустическая гитара\": `guitar5`,\n  \"электрогитара\": `guitar1`,\n};\n\nexport const BadCode = {\n  INVALID: `invalid`,\n  ALREADY_APPLIED: `applied`\n}\n\nexport const AppRoute = {\n  ROOT: `/`,\n  CART: `/cart`,\n};\n\nexport const Key = {\n  ESC: `Esc`,\n  ESCAPE: `Escape`\n};\n\nexport const PageType = {\n  MAIN: `catalogue`,\n  INNER: `cart`,\n};\n\nexport const PageTitle = {\n  CATALOGUE: `Каталог гитар`,\n  CART: `Корзина`,\n};\n\nexport const FilterField = {\n  PRICE: {\n    legend: `Цена,`,\n    name: `price`,\n    inputs: [\n      {\n        name: `min`,\n        label: `Минимальная цена`,\n      },\n      {\n        name: `max`,\n        label: `Максимальная цена`,\n      },\n    ],\n  },\n  GUITAR_TYPE: {\n    legend: `Тип гитар`,\n    name: `guitar-type`,\n    checkboxes: [\n      {\n        name: `acoustic`,\n        label: `Акустические гитары`,\n      },\n      {\n        name: `electric`,\n        label: `Электрогитары`,\n      },\n      {\n        name: `ukulele`,\n        label: `Укулеле`,\n      },\n    ]\n  },\n  STRINGS: {\n    legend: `Количество струн`,\n    name: `strings`,\n    checkboxes: [\n      {\n        name: 4,\n        label: `4`,\n      },\n      {\n        name: 6,\n        label: `6`,\n      },\n      {\n        name: 7,\n        label: `7`,\n      },\n      {\n        name: 12,\n        label: `12`,\n      },\n    ]\n  },\n};\n\nexport const GuitarType = {\n  electric: {\n    name: `электрогитара`,\n    strings: [4, 6, 7]\n  },\n  acoustic: {\n    name: `акустическая гитара`,\n    strings: [6, 7, 12]\n  },\n  ukulele: {\n    name: `укулеле`,\n    strings: [4]\n  },\n};\n\nexport const IconType = {\n  ARROW: {\n    name: `arrow`,\n    width: 16,\n    height: 16,\n  },\n  BASKET: {\n    name: `basket`,\n    width: 16,\n    height: 18,\n  },\n  CART: {\n    name: `cart`,\n    width: 12,\n    height: 13,\n  },\n  CHECKBOX: {\n    name: `checkbox`,\n    width: 14,\n    height: 14,\n  },\n  CLOCK: {\n    name: `clock`,\n    width: 10,\n    height: 10,\n  },\n  FACEBOOK: {\n    name: `facebook`,\n    width: 24,\n    height: 24,\n  },\n  INSTAGRAM: {\n    name: `instagram`,\n    width: 24,\n    height: 24,\n  },\n  MAP: {\n    name: `map`,\n    width: 40,\n    height: 40,\n  },\n  PHONE: {\n    name: `phone`,\n    width: 10,\n    height: 10,\n  },\n  SEARCH: {\n    name: `search`,\n    width: 40,\n    height: 40,\n  },\n  STAR: {\n    name: `star`,\n    width: 12,\n    height: 12,\n  },\n  STAR_EMPTY: {\n    name: `star-empty`,\n    width: 12,\n    height: 12,\n  },\n  TOGGLE_DOWN: {\n    name: `toggle-down`,\n    width: 22,\n    height: 22,\n  },\n  TOGGLE_UP: {\n    name: `toggle-up`,\n    width: 22,\n    height: 22,\n  },\n  TWITTER: {\n    name: `twitter`,\n    width: 24,\n    height: 24,\n  }\n};\n\nexport const RUB_SYMBOL = String.fromCharCode(0x20BD);","import {GuitarImage} from '../../const';\n\nexport const addPhotos = (_store) => (next) => (action) => {\n\n  if (action.type === `guitar-shop/getData/fulfilled`) {\n\n    action.payload.map((item) => {\n      return item.image = GuitarImage[item.code] ? GuitarImage[item.code] : GuitarImage[item.type];\n    })\n  }\n\n  return next(action);\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Link} from 'react-router-dom';\nimport {AppRoute} from '../../const';\n\nconst Logo = ({type, isMain}) => {\n\n  const image = <><img src={`svg/${type}_logo.svg`} width=\"67\" height=\"70\" alt=\"Логотип Guitar Shop\"/></>;\n\n  return (\n    <div className={`${type}__logo`}>\n      {/* eslint-disable-next-line */}\n      {isMain ? <a className={`${type}__logo-link`} href=\"#\">{image}</a> : <Link to={AppRoute.ROOT}>{image}</Link>}\n    </div>\n  );\n};\n\nLogo.propTypes = {\n  type: PropTypes.string.isRequired,\n  isMain: PropTypes.bool,\n};\n\nexport default Logo;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst MenuItem = ({title, isActive, onClick}) => {\n\n    return (\n      <li className=\"menu__item\">\n        {/* eslint-disable-next-line */}\n        <a className={`menu__link ${isActive ? `menu__link--active` : ``}`} href=\"#\" onClick={onClick}>{title}</a>\n      </li>\n    )\n}\n\nMenuItem.propTypes = {\n  title: PropTypes.string.isRequired,\n  isActive: PropTypes.bool,\n  onClick: PropTypes.func,\n};\n\nexport default MenuItem;\n","import React from 'react';\nimport PropTypes from \"prop-types\";\n\nconst Icon = ({icon}) => {\n\n  return(\n    <svg className={`icon icon--${icon.name}`} width={icon.width} height={icon.height}>\n      <use xlinkHref={`svg/sprite.svg#icon-${icon.name}`} />\n    </svg>\n  )\n}\n\nIcon.propTypes = {\n  icon: PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    width: PropTypes.number.isRequired,\n    height: PropTypes.number.isRequired,\n  }).isRequired,\n};\n\nexport default Icon;\n","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport Icon from '../icon/icon';\nimport {IconType} from '../../const';\n\nconst MenuIconItem = ({icon, label}) => {\n\n    return (\n      <li className=\"menu__item\">\n        {/* eslint-disable-next-line */}\n        <a className=\"menu__link\" href=\"#\" aria-label={label}>\n          <Icon icon={IconType[`${icon.toUpperCase()}`]} />\n        </a>\n      </li>\n    )\n}\n\nMenuIconItem.propTypes = {\n  icon: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n};\n\nexport default MenuIconItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from '../icon/icon';\nimport {IconType} from '../../const';\n\nconst MenuTextItem = ({text}) => {\n\n  return (\n    <li className={`menu__item ${typeof text === `object` ? `menu__item--icon` : ``}`}>\n      {typeof text === `object` ?\n      <>\n        <Icon icon={IconType[`${text.type.toUpperCase()}`]} />\n        {text.type === `phone` ?\n        <a className=\"menu__text menu__text--link\" href={`tel:${text.content}`}>{text.content}</a> :\n        <p className=\"menu__text\">{text.content}</p>}\n      </> :\n      <p className=\"menu__text\">{text}</p>}\n    </li>\n  )\n}\n\nMenuTextItem.propTypes = {\n  text: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.shape({\n        type: PropTypes.string.isRequired,\n        content: PropTypes.string.isRequired,\n      }),\n  ]),\n};\n\nexport default MenuTextItem;\n","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport {Link} from 'react-router-dom';\nimport {useSelector} from 'react-redux';\nimport Icon from '../icon/icon';\nimport {IconType, AppRoute} from '../../const';\n\nconst MenuBasketItem = ({icon, label}) => {\n\n    const index = useSelector((state) => state.index);\n\n    return (\n      <li className=\"menu__item\">\n        <Link className=\"menu__link\" to={AppRoute.CART} aria-label={label}>\n          <Icon icon={IconType[`${icon.toUpperCase()}`]} />\n          <sup className=\"menu__index\">{index}</sup>\n        </Link>\n      </li>\n    )\n}\n\nMenuBasketItem.propTypes = {\n  icon: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n};\n\nexport default MenuBasketItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport MenuItem from '../menu-item/menu-item';\nimport MenuIconItem from '../menu-icon-item/menu-icon-item';\nimport MenuTextItem from '../menu-text-item/menu-text-item';\nimport MenuBasketItem from '../menu-basket-item/menu-basket-item';\n\nconst Menu = ({type, items, activeItem, isText, isIconsOnly, onItemClick}) => {\n\n  return (\n    <ul className={`menu menu--${type}`}>\n      {items.map((item, i) => (\n        isText ? <MenuTextItem key ={i + 1} text={item} /> :\n        item.type === `basket` ? <MenuBasketItem key ={i + 1} icon={item.type} label={item.label} /> :\n        isIconsOnly ? <MenuIconItem key ={i + 1} icon={item.type} label={item.label} onClick={onItemClick} /> :\n        <MenuItem key ={i + 1} title={item} onClick={onItemClick} isActive={item === activeItem} />\n      ))}\n    </ul>\n  );\n};\n\nMenu.propTypes = {\n  type: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  activeItem: PropTypes.string,\n  isText: PropTypes.bool,\n  isIconsOnly: PropTypes.bool,\n  onItemClick: PropTypes.func,\n};\n\nexport default Menu;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Logo from '../logo/logo';\nimport Menu from '../menu/menu';\nimport {HEADER_MENU_ITEMS, USER_MENU_ITEMS, LogoType} from '../../const';\n\nconst Header = ({isMain}) => {\n\n  return (\n    <header className=\"header\">\n      <div className=\"header__wrapper container\">\n        <Logo type={LogoType.HEADER} isMain={isMain} />\n        <nav className=\"header__navigation\">\n          <Menu type={`main`} items={HEADER_MENU_ITEMS} />\n          <Menu type={`user`} items={USER_MENU_ITEMS} isIconsOnly={true} />\n        </nav>\n      </div>\n    </header>\n  );\n};\n\nHeader.propTypes = {\n  isMain: PropTypes.bool,\n};\n\nexport default Header;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Link} from 'react-router-dom';\nimport Icon from '../icon/icon';\nimport {AppRoute, IconType} from '../../const';\n\nconst Breadcrumbs = ({items}) => {\n\n  return (\n      <ul className=\"breadcrumbs\">\n        {items.map((item, i) => (\n          <li key ={i + 1} className=\"breadcrumbs__item\">\n            {i === (items.length - 1) ?\n            // eslint-disable-next-line jsx-a11y/anchor-is-valid\n            <a className=\"breadcrumbs__link\" href=\"#\">{item}</a> :\n            <>\n              <Link className=\"breadcrumbs__link\" to={AppRoute.ROOT}>{item}</Link>\n              <Icon icon={IconType.ARROW} />\n            </>\n          }\n          </li>\n        ))}\n      </ul>\n  );\n};\n\nBreadcrumbs.propTypes = {\n  items: PropTypes.arrayOf(PropTypes.string).isRequired,\n};\n\nexport default Breadcrumbs;\n","\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Breadcrumbs from '../breadcrumbs/breadcrumbs';\nimport {PageTitle, BREADCRUMBS} from '../../const';\n\nconst Main = ({type, children, isMain}) => {\n\n  const breadcrumbs = isMain ? BREADCRUMBS.slice(0, BREADCRUMBS.length - 1) : BREADCRUMBS;\n\n  return (\n    <main className=\"main\">\n      <h1 className=\"visually-hidden\">Guitar Shop: магазин гитар, музыкальных инструментов и гитарная мастерская в Санкт-Петербурге.</h1>\n      <section className={type}>\n        <div className={`${type}__wrapper container`}>\n          <h2 className={`${type}__title`}>{PageTitle[`${type.toUpperCase()}`]}</h2>\n          <Breadcrumbs items={breadcrumbs} />\n          {children}\n        </div>\n      </section>\n    </main>\n  );\n};\n\nMain.propTypes = {\n type: PropTypes.string.isRequired,\n children: PropTypes.element.isRequired,\n isMain: PropTypes.bool,\n};\n\nexport default Main;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst FilterItem = ({name, legend, symbol, children}) => {\n\n  return (\n    <fieldset className={`filter__item filter__item--${name}`}>\n      <h3 className=\"filter__title filter__title--subtitle\">{legend} {symbol && <span>{symbol}</span>}</h3>\n      <div className={`filter__wrapper filter__wrapper--${name}`}>\n        {children}\n      </div>\n    </fieldset>\n  );\n};\n\nFilterItem.propTypes = {\n  name: PropTypes.string.isRequired,\n  legend: PropTypes.string.isRequired,\n  children: PropTypes.oneOfType([\n      PropTypes.arrayOf(PropTypes.node),\n      PropTypes.node\n    ]).isRequired\n}\n\nexport default FilterItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Input = ({className, name, label, value, placeholder, onChangeInput, onBlurInput}) => {\n\n  return (\n    <>\n      <label className=\"visually-hidden\" htmlFor={name}>{label}</label>\n      <input className={className} type=\"text\" id={name} name={name} value={value}\n        onChange={onChangeInput} onBlur={onBlurInput} placeholder={placeholder} />\n    </>\n  );\n};\n\nInput.propTypes = {\n  className: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  placeholder: PropTypes.string,\n  onChangeInput: PropTypes.func.isRequired,\n  onBlurInput: PropTypes.func,\n};\n\nexport default Input;\n","import React, {useCallback} from 'react';\nimport PropTypes from 'prop-types';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {setFilter} from '../../store/slice';\nimport Input from '../input/input';\nimport {parseStringToLocaleString, formatString, isNumbersOnly} from '../../utils';\n\nconst FilterPrice = ({inputs, minCataloguePrice, maxCataloguePrice}) => {\n\n  const filter = useSelector((state) => state.filter);\n  const dispatch = useDispatch();\n\n  const minPlaceholder = parseStringToLocaleString(minCataloguePrice);\n  const maxPlaceholder = parseStringToLocaleString(maxCataloguePrice);\n\n  const isMinPriceMoreThanMaxPrice = filter.price.min && (filter.price.max || filter.price.max === 0) && filter.price.min > filter.price.max;\n  const isMinPriceLessThanMinCataloguePrice = (filter.price.min || filter.price.min === 0) && filter.price.min < minCataloguePrice;\n  const isMaxPriceMoreThanMaxCataloguePrice = filter.price.max && filter.price.max > maxCataloguePrice;\n\n  const handleInputChange = useCallback(\n    (evt) => {\n        evt.preventDefault();\n\n        const newValue = formatString(evt.target.value);\n\n        if (!isNumbersOnly(newValue)) {\n          return;\n        }\n\n        dispatch(setFilter({...filter, price: {...filter.price, [evt.target.id]: Number(newValue)}}));\n\n    }, [dispatch, filter]\n  );\n\n  const handleInputBlur = useCallback(\n    (evt) => {\n      const currentInput = evt.target.id;\n\n      let correctPrice;\n\n      if (isMinPriceMoreThanMaxPrice) {\n        correctPrice = currentInput === `min` ? {max: filter.price.max, min: filter.price.max} : {max: filter.price.min, min: filter.price.min}\n      }\n\n      if (isMinPriceLessThanMinCataloguePrice) {\n        correctPrice = {max: filter.price.max, min: minCataloguePrice};\n      }\n\n      if (isMaxPriceMoreThanMaxCataloguePrice) {\n        correctPrice = {max: maxCataloguePrice, min: filter.price.min};\n      }\n\n      if (correctPrice) {\n        dispatch(setFilter({...filter, price: {min: correctPrice.min, max: correctPrice.max}}));\n      }\n\n      return;\n\n    }, [dispatch, filter, isMaxPriceMoreThanMaxCataloguePrice, isMinPriceLessThanMinCataloguePrice, isMinPriceMoreThanMaxPrice, maxCataloguePrice, minCataloguePrice]\n  );\n\n  return (\n      <>\n        {inputs.map((input, i) => (\n          <Input key={i + 1} className={`filter__input`} name={input.name} label={input.label}\n            value={filter.price[input.name] > 0 ? parseStringToLocaleString(filter.price[input.name]) : filter.price[input.name] === 0 ? `0` : ``}\n            placeholder={input.name === `min` ? minPlaceholder : maxPlaceholder} onChangeInput={handleInputChange} onBlurInput={handleInputBlur} />\n        ))}\n      </>\n  );\n};\n\nFilterPrice.propTypes = {\n  inputs: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    label: PropTypes.string.isRequired,\n  })).isRequired,\n  minCataloguePrice: PropTypes.number.isRequired,\n  maxCataloguePrice: PropTypes.number.isRequired,\n};\n\nexport default FilterPrice;\n","import React, {useEffect} from 'react';\nimport PropTypes from 'prop-types';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {setFilter} from '../../store/slice';\nimport Icon from '../icon/icon';\nimport {IconType} from '../../const';\n\nconst Checkbox = ({name, label, value, disabled, onChangeCheckbox}) => {\n\n  const filter = useSelector((state) => state.filter);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (disabled && value) {\n      dispatch(setFilter({...filter, strings: {...filter.strings, [name]: false}}))\n    }\n  }, [disabled, dispatch, filter, name, value]);\n\n  return (\n    <div className=\"filter__checkbox-wrapper\">\n      <input type=\"checkbox\" className=\"filter__checkbox visually-hidden\" id={name} name={name}\n      checked={value} disabled={disabled} onChange={onChangeCheckbox}/>\n      <label className=\"filter__label\" htmlFor={name}>\n        {label}\n        <Icon icon={IconType.CHECKBOX} />\n      </label>\n    </div>\n  );\n}\n\nCheckbox.propTypes = {\n  name: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number\n    ]).isRequired,\n  label: PropTypes.string.isRequired,\n  value: PropTypes.bool.isRequired,\n  disabled: PropTypes.bool,\n  onChangeCheckbox: PropTypes.func.isRequired,\n}\n\nexport default Checkbox;\n","import React, {useCallback} from 'react';\nimport PropTypes from 'prop-types';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {setFilter} from '../../store/slice';\nimport Checkbox from '../checkbox/checkbox';\n\nconst FilterType = ({checkboxes}) => {\n\n  const filter = useSelector((state) => state.filter);\n  const dispatch = useDispatch();\n\n  const handleCheckboxChange = useCallback(\n    (evt) => {\n       dispatch(setFilter({...filter, type: {...filter.type, [evt.target.id]: evt.target.checked ? true : false}}));\n\n    }, [dispatch, filter]\n  );\n\n  return (\n      <>\n        {checkboxes.map((checkbox, i) => (\n          <Checkbox key={i + 1} name={checkbox.name} label={checkbox.label}\n            value={filter.type[checkbox.name]} onChangeCheckbox={handleCheckboxChange} />\n        ))}\n      </>\n  );\n};\n\nFilterType.propTypes = {\n  checkboxes: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    label: PropTypes.string.isRequired,\n  })).isRequired,\n};\n\nexport default FilterType;\n","import React, {useCallback} from 'react';\nimport PropTypes from 'prop-types';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {setFilter} from '../../store/slice';\nimport Checkbox from '../checkbox/checkbox';\n\nconst FilterStrings = ({checkboxes}) => {\n\n  const filter = useSelector((state) => state.filter);\n  const availableStrings = useSelector((state) => state.availableStrings);\n  const dispatch = useDispatch();\n\n  const handleCheckboxChange = useCallback(\n    (evt) => {\n       dispatch(setFilter({...filter, strings: {...filter.strings, [evt.target.id]: evt.target.checked ? true : false}}));\n\n    }, [dispatch, filter]\n  );\n\n  return (\n      <>\n        {checkboxes.map((checkbox, i) => (\n          <Checkbox key={i + 1} name={checkbox.name} label={checkbox.label}\n          value={filter.strings[checkbox.name]} onChangeCheckbox={handleCheckboxChange} disabled={!availableStrings.includes(checkbox.name)} />\n        ))}\n      </>\n  );\n};\n\nFilterStrings.propTypes = {\n  checkboxes: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.number.isRequired,\n    label: PropTypes.string.isRequired,\n  })).isRequired,\n};\n\nexport default FilterStrings;\n","import React, {useEffect, useState} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {setCatalogueData, setAvailableStrings} from '../../store/slice';\nimport FilterItem from '../filter-item/filter-item';\nimport FilterPrice from '../filter-price/filter-price';\nimport FilterType from '../filter-type/filter-type';\nimport FilterStrings from '../filter-strings/filter-strings';\nimport {parseDataToArrayOfValues, normalizeData, filterByPrice, filterByType, filterByStrings} from '../../utils';\nimport {FilterField, GuitarType, ALL_STRINGS, RUB_SYMBOL} from '../../const';\n\nconst {PRICE, GUITAR_TYPE, STRINGS} = FilterField;\n\nconst Filter = () => {\n\n  const data = useSelector((state) => state.guitarData);\n  const filter = useSelector((state) => state.filter);\n  const dispatch = useDispatch();\n\n  const [filterData, setFilterData] = useState([]);\n  const [cataloguePrice, setCataloguePrice] = useState({min: 0, max: 0});\n\n  useEffect(() => {\n    const allPrices = parseDataToArrayOfValues(data, `price`);\n    const max = Math.max.apply(null, allPrices);\n    const min = Math.min.apply(null, allPrices);\n    setFilterData(Object.values(data));\n    setCataloguePrice({min, max})\n  }, [data]);\n\n  useEffect(() => {\n\n    const isFilterByPrice = filter.price.min && filter.price.max;\n    const isFilterByType = Object.values(filter.type).some((item) => item === true);\n    const isFilterByStrings = Object.values(filter.strings).some((item) => item === true);\n    dispatch(setAvailableStrings(ALL_STRINGS));\n\n    let filtered = filterData;\n\n    if (isFilterByPrice) {\n      filtered = filterByPrice(filterData, filter.price.min, filter.price.max);\n    }\n\n    if (isFilterByType) {\n      const checkedTypes = Object.entries(filter.type).reduce((acc, [type, value]) => value === true ? [...acc, GuitarType[type].name] : acc, []);\n      const availableStrings = [...new Set(Object.entries(filter.type).reduce((acc, [type, value]) => value === true ? [...acc, GuitarType[type].strings] : acc, []).flat())];\n      dispatch(setAvailableStrings(availableStrings))\n      filtered = filterByType(filtered, checkedTypes);\n    }\n\n    if (isFilterByStrings) {\n      const checkedStrings = Object.entries(filter.strings).reduce((acc, [strings, value]) => value === true ? [...acc, strings] : acc, []);\n      filtered = filterByStrings(filtered, checkedStrings);\n    }\n\n    const normalizedData = normalizeData(filtered);\n    dispatch(setCatalogueData(normalizedData))\n\n  }, [dispatch, filter, filterData]);\n\n  return (\n      <form action=\"#\" className=\"catalogue__filter filter\">\n        <h3 className=\"filter__title\">Фильтр</h3>\n        <FilterItem name={PRICE.name} legend={PRICE.legend} symbol={RUB_SYMBOL}>\n          <FilterPrice inputs={PRICE.inputs} minCataloguePrice={cataloguePrice.min} maxCataloguePrice={cataloguePrice.max} />\n        </FilterItem>\n        <FilterItem name={GUITAR_TYPE.name} legend={GUITAR_TYPE.legend}>\n          <FilterType checkboxes={GUITAR_TYPE.checkboxes} />\n        </FilterItem>\n        <FilterItem name={STRINGS.name} legend={STRINGS.legend}>\n          <FilterStrings checkboxes={STRINGS.checkboxes} />\n        </FilterItem>\n      </form>\n  );\n};\n\nexport default Filter;\n","import React, {useCallback} from 'react';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {setSorting} from '../../store/slice';\nimport Menu from '../menu/menu';\nimport Icon from '../icon/icon';\nimport {parseDataToArrayOfValues} from '../../utils';\nimport {SortingType, SortingOrder, IconType} from '../../const';\n\nconst Sorting = () => {\n\n  const dispatch = useDispatch();\n  const sorting = useSelector((state) => state.sorting);\n\n  const SORTING_ITEMS = parseDataToArrayOfValues(SortingType, `title`);\n\n  const SORTING_TOGGLE_ITEMS = Object.values(SortingOrder);\n\n  const handleSortingMenuItem = useCallback(\n    (evt) => {\n      evt.preventDefault();\n\n      switch(evt.target.innerText) {\n        case SortingType.PRICE.title:\n          dispatch(setSorting({order: sorting.order ? sorting.order : SortingOrder.ASCENDING.type, type: SortingType.PRICE.type}))\n        break;\n        case SortingType.RATING.title:\n          dispatch(setSorting({order: sorting.order ? sorting.order : SortingOrder.ASCENDING.type, type: SortingType.RATING.type}))\n        break;\n        default:\n        break;\n      }\n    }, [dispatch, sorting]\n  );\n\n  const handleSortingToggleItem = useCallback(\n    (evt) => {\n      evt.preventDefault();\n\n      switch(evt.target.id) {\n        case SortingOrder.DESCENDING.type:\n          dispatch(setSorting({type: sorting.type ? sorting.type : SortingType.PRICE.type, order: SortingOrder.DESCENDING.type}))\n        break;\n        case SortingOrder.ASCENDING.type:\n          dispatch(setSorting({type: sorting.type ? sorting.type : SortingType.PRICE.type, order: SortingOrder.ASCENDING.type}))\n        break;\n        default:\n        break;\n      }\n    }, [dispatch, sorting]\n  );\n\n  return (\n      <div className=\"catalogue__sorting\">\n        <p className=\"catalogue__sorting-title\">Сортировать:</p>\n        <Menu type={`sorting`} items={SORTING_ITEMS} activeItem={sorting.type && SortingType[sorting.type.toUpperCase()].title} \n          onItemClick={handleSortingMenuItem} />\n        <div className=\"catalogue__sorting-toggles\">\n          {SORTING_TOGGLE_ITEMS.map((item, i) => (\n        <button key ={i + 1} id={item.type} className={`catalogue__sorting-toggle ${sorting.order && sorting.order === item.type ? `catalogue__sorting-toggle--active` : ``}`} \n          type=\"button\" aria-label={item.title} onClick={handleSortingToggleItem}>\n          <Icon icon={IconType[`${item.icon.toUpperCase()}`]} />\n        </button>\n          ))}\n        </div>\n      </div>\n  );\n};\n\nexport default Sorting;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Link} from 'react-router-dom';\nimport Icon from '../icon/icon';\n\nconst Button = ({title, className, type, icon, path, onClick}) => {\n\n    return (\n      path ?\n      <Link to={path} className={`${className} button ${type ? `button--${type}` : ``}`} >\n        {icon && <Icon icon={icon} />}\n        {title}\n      </Link> :\n      // eslint-disable-next-line jsx-a11y/anchor-is-valid\n      <a href=\"#\" className={`${className} button ${type ? `button--${type}` : ``}`} onClick={onClick}>\n        {icon && <Icon icon={icon} />}\n        {title}\n      </a>\n    )\n}\n\nButton.propTypes = {\n  title: PropTypes.string.isRequired,\n  className: PropTypes.string.isRequired,\n  type: PropTypes.string,\n  icon: PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    width: PropTypes.number.isRequired,\n    height: PropTypes.number.isRequired,\n  }),\n  path: PropTypes.string,\n  onClick: PropTypes.func,\n};\n\nexport default Button;\n","import React, {useCallback} from 'react';\nimport PropTypes from 'prop-types';\nimport {useDispatch} from 'react-redux';\nimport {openPopUp} from '../../store/slice';\nimport Icon from '../icon/icon';\nimport Button from '../button/button';\nimport {parseStringToLocaleString, getStarsCount} from '../../utils';\nimport {IconType, PopUpType, ButtonType, STARS, RUB_SYMBOL} from '../../const';\n\nconst GuitarCard = ({guitar}) => {\n\n  const dispatch = useDispatch();\n\n  const rating = getStarsCount(guitar.rating);\n\n  const handleBasketButtonClick = useCallback(\n    (evt) => {\n      evt.preventDefault();\n      dispatch(openPopUp({name: PopUpType.ADD.type.toUpperCase(), product: guitar.id}))\n    }, [dispatch, guitar]\n  );\n\n  return (\n    <li className=\"catalogue__item guitar\">\n      <div className=\"guitar__wrapper guitar__image\">\n        <picture>\n          <img className=\"guitar__picture\" src={`guitars/${guitar.image}.png`}\n          srcSet={`guitars/${guitar.image}@2x.png 2x`} width=\"68\" height=\"190\" alt={`Фотография гитары ${guitar.title}`}/>\n        </picture>\n      </div>\n      <div className=\"guitar__wrapper guitar__rating\">\n        <ul className=\"guitar__star-list\">\n          {STARS.map((_star, i) => (\n            <li key={i + 1} className=\"guitar__star\">\n              {i < rating ? <Icon icon={IconType.STAR} /> : <Icon icon={IconType.STAR_EMPTY} /> }\n            </li>\n          ))}\n        </ul>\n        <span className=\"guitar__wrapper guitar__reviews\">{guitar.rating}</span>\n      </div>\n      <div className=\"guitar__wrapper guitar__info\">\n        <p className=\"guitar__text\">{guitar.title}</p>\n        <p className=\"guitar__text\">{`${parseStringToLocaleString(guitar.price)} ${RUB_SYMBOL}`}</p>\n      </div>\n      <div className=\"guitar__wrapper guitar__buttons\">\n        <Button title={ButtonType.MORE.title} className={`guitar__button`} type={ButtonType.MORE.type} />\n        <Button title={ButtonType.BUY.title} className={`guitar__button guitar__button--basket`} type={ButtonType.BUY.type}\n        icon={IconType.CART} onClick={handleBasketButtonClick} />\n      </div>\n    </li>\n  );\n};\n\nGuitarCard.propTypes = {\n  guitar: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    code: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    type: PropTypes.string.isRequired,\n    rating: PropTypes.string.isRequired,\n    strings: PropTypes.string.isRequired,\n    price: PropTypes.string.isRequired,\n    image: PropTypes.string.isRequired,\n  }),\n};\n\nexport default GuitarCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport GuitarCard from '../guitar-card/guitar-card';\n\nconst Guitars = ({items}) => {\n\n  return (\n    items.length > 0 ?\n    <ul className=\"catalogue__list\">\n      {items.map((item, i) => (\n        <GuitarCard key ={i + 1} guitar={item} />\n      ))}\n      </ul> :\n    <p className=\"catalogue__empty-message\">Ничего не найдено</p>\n  );\n};\n\nGuitars.propTypes = {\n  items: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    code: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    type: PropTypes.string.isRequired,\n    rating: PropTypes.string.isRequired,\n    strings: PropTypes.string.isRequired,\n    price: PropTypes.string.isRequired,\n    image: PropTypes.string.isRequired,\n  })),\n};\n\nexport default Guitars;\n","import React, {useCallback} from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '../button/button';\nimport {FIRST_PAGE_NUMBER, PAGER_SIZE, NavigationButton} from '../../const';\n\nconst {PREVIOUS, NEXT, DOTS} = NavigationButton;\n\nconst Pagination = ({currentPage, totalPages, onButtonClick}) => {\n\n  const pages = {\n    previous: currentPage > FIRST_PAGE_NUMBER ? PREVIOUS : false,\n    first: FIRST_PAGE_NUMBER,\n    prevDots: currentPage > FIRST_PAGE_NUMBER + 1 && totalPages > PAGER_SIZE ? DOTS : false,\n    currentPage: currentPage === FIRST_PAGE_NUMBER && totalPages >= PAGER_SIZE ? currentPage + 1 : currentPage === totalPages && totalPages >= PAGER_SIZE ? currentPage - 1 : totalPages >= PAGER_SIZE ? currentPage : false,\n    nextDots: currentPage < totalPages - 1 && totalPages > PAGER_SIZE ? DOTS : false,\n    last: totalPages > FIRST_PAGE_NUMBER ? totalPages : false,\n    next: currentPage < totalPages ? NEXT : false,\n  };\n\n  const handleButtonClick = useCallback(\n    (evt) => {\n      evt.preventDefault();\n\n      if (evt.target.innerText === DOTS) {\n        return;\n      };\n\n      const newPage = evt.target.innerText === PREVIOUS ?\n      currentPage - 1 : evt.target.innerText === NEXT ?\n      currentPage + 1 :\n      Number(evt.target.innerText);\n\n      onButtonClick(newPage);\n\n    }, [currentPage, onButtonClick]\n  );\n\n  return (\n      totalPages > 0 && \n      <ul className=\"catalogue__pagination pagination\">\n        {Object.values(pages).map((page, i) => (\n          page ? <li key={i + 1} className={`pagination__item ${page === PREVIOUS || page === NEXT ? `pagination__item--nav` : ``}`}>\n            <Button title={page.toString()} className={`pagination__button ${page === currentPage ? `pagination__button--active` : page === PREVIOUS || page === NEXT ? `pagination__button--nav` : page === DOTS ? `pagination__button--dots` : ``}`} \n              type={`pagination`} onClick={handleButtonClick} />\n         </li> : ``\n        ))}\n      </ul>\n  );\n};\n\nPagination.propTypes = {\n  currentPage: PropTypes.number.isRequired,\n  totalPages: PropTypes.number.isRequired,\n  onButtonClick: PropTypes.func.isRequired,\n};\n\nexport default Pagination;\n","import React, {useState, useEffect, useCallback} from 'react';\nimport PropTypes from 'prop-types';\nimport Sorting from '../sorting/sorting';\nimport Guitars from '../guitars/guitars';\nimport Pagination from '../pagination/pagination';\nimport {CARDS_PER_PAGE, FIRST_PAGE_NUMBER} from '../../const';\n\nconst Showcase = ({guitars}) => {\n\n  const [currentPage, setCurrentPage] = useState(FIRST_PAGE_NUMBER);\n  const [totalPages, setTotalPages] = useState(0);\n  const [guitarsToShow, setGuitarsToShow] = useState([]);\n\n  useEffect(() => {\n    const pages = Math.ceil(guitars.length / CARDS_PER_PAGE);\n    setTotalPages(pages);\n    setCurrentPage(FIRST_PAGE_NUMBER);\n    setGuitarsToShow(guitars.slice(0, CARDS_PER_PAGE));\n  }, [guitars]);\n\n  const handlePaginationClick = useCallback(\n    (newPage) => {\n      setCurrentPage(newPage);\n      const cardsRangeStart = CARDS_PER_PAGE * (newPage - 1);\n      const cardsRandeEnd = (cardsRangeStart + CARDS_PER_PAGE) > guitars.length ? guitars.length : cardsRangeStart + CARDS_PER_PAGE;\n      setGuitarsToShow(guitars.slice(cardsRangeStart, cardsRandeEnd));\n    }, [guitars]\n  );\n\n  return (\n      <div className=\"catalogue__showcase\">\n        <Sorting />\n        <Guitars items={guitarsToShow} />\n        <Pagination currentPage={currentPage} totalPages={totalPages} onButtonClick={handlePaginationClick} />\n      </div>\n  );\n};\n\nShowcase.propTypes = {\n  guitars: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    code: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    type: PropTypes.string.isRequired,\n    rating: PropTypes.string.isRequired,\n    strings: PropTypes.string.isRequired,\n    price: PropTypes.string.isRequired,\n    image: PropTypes.string.isRequired,\n  })),\n};\n\nexport default Showcase;\n","import React, {useEffect, useState} from 'react';\nimport {useSelector} from 'react-redux';\nimport Filter from '../filter/filter';\nimport Showcase from '../showcase/showcase';\nimport {sortItems} from '../../utils';\n\nconst Catalogue = () => {\n\n  const [guitars, setGuitars] = useState([]);\n  const catalogueData = useSelector((state) => state.catalogueData);\n  const sorting = useSelector((state) => state.sorting);\n\n  useEffect(() => {\n    const sortedData = sortItems(Object.values(catalogueData), sorting.type, sorting.order);\n    setGuitars(sortedData);\n\n  }, [catalogueData, sorting]);\n\n\n  return (\n      <div className=\"catalogue__content\">\n        <Filter />\n        <Showcase guitars={guitars} />\n      </div>\n  );\n};\n\nexport default Catalogue;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {parseStringToLocaleString, capitalizeFirstLetter} from '../../utils';\nimport {RUB_SYMBOL} from '../../const';\n\nconst PurchaseProduct = ({guitar, isPopUp}) => {\n\n  return (\n    <>\n      <div className=\"purchase__image\">\n        <picture>\n          <img className=\"purchase__picture\" src={`guitars/${guitar.image}.png`}\n          srcSet={`guitars/${guitar.image}@2x.png 2x`} width=\"48\" height=\"124\" alt={`Фотография гитары ${guitar.title}`}/>\n        </picture>\n      </div>\n      <div className=\"purchase__info\">\n        <h3 className=\"purchase__title\">{isPopUp ? `Гитара` : guitar.type} {guitar.title}</h3>\n        <p className=\"purchase__text\">{`Артикул: ${guitar.code}`}</p>\n        <p className=\"purchase__text\">{`${capitalizeFirstLetter(guitar.type)}, ${guitar.strings} струнная`}</p>\n        {isPopUp && <p className=\"purchase__sum\">{`Цена: ${parseStringToLocaleString(guitar.price)} ${RUB_SYMBOL}`}</p>}\n      </div>\n    </>\n  );\n};\n\nPurchaseProduct.propTypes = {\n  guitar: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    code: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    type: PropTypes.string.isRequired,\n    rating: PropTypes.string.isRequired,\n    strings: PropTypes.string.isRequired,\n    price: PropTypes.string.isRequired,\n    image: PropTypes.string.isRequired,\n  }),\n  isPopUp: PropTypes.bool,\n};\n\nexport default PurchaseProduct;\n","import React, {useCallback} from 'react';\nimport PropTypes from 'prop-types';\nimport {useDispatch} from 'react-redux';\nimport {changeCount, openPopUp} from '../../store/slice';\nimport PurchaseProduct from '../purchase-product/purchase-product';\nimport Icon from '../icon/icon';\nimport Button from '../button/button';\nimport {parseStringToLocaleString, isNumbersOnly} from '../../utils';\nimport {IconType, ButtonType, ControlButton, AppRoute, RUB_SYMBOL, PopUpType} from '../../const';\n\nconst MIN_COUNT = 1;\n\nconst PurchaseCard = ({guitar, isEmptyCard}) => {\n\n  const dispatch = useDispatch();\n\n  const handleInputChange = useCallback(\n    (evt) => {\n        evt.preventDefault();\n\n        if (!isNumbersOnly(evt.target.value)) {\n          dispatch(changeCount({id: guitar.id, count: MIN_COUNT}));\n          return;\n        }\n\n        dispatch(changeCount({id: guitar.id, count: Number(evt.target.value)}));\n    }, [dispatch, guitar]\n  );\n\n  const handleInputBlur = useCallback(\n    (evt) => {\n      if (Number(evt.target.value) < MIN_COUNT) {\n        dispatch(openPopUp({name: PopUpType.DELETE.type.toUpperCase(), product: guitar.id}))\n        dispatch(changeCount({id: guitar.id, count: MIN_COUNT}));\n        return;\n      }\n\n      return;\n\n    }, [dispatch, guitar]\n  );\n\n    const handleControlClick = useCallback(\n    (evt) => {\n      evt.preventDefault();\n\n      switch (evt.target.id) {\n        case ControlButton.DECREASE:\n          const decreasedCount = guitar.count - 1;\n\n          if (decreasedCount < MIN_COUNT) {\n            dispatch(openPopUp({name: PopUpType.DELETE.type.toUpperCase(), product: guitar.id}));\n            dispatch(changeCount({id: guitar.id, count: MIN_COUNT}));\n            return;\n          }\n\n          dispatch(changeCount({id: guitar.id, count: decreasedCount}));\n\n          break;\n        case ControlButton.INCREASE:\n          dispatch(changeCount({id: guitar.id, count: guitar.count + 1}));\n\n          break;\n        default:\n          return;\n      }\n\n    }, [dispatch, guitar]\n  );\n\n  const handleDeleteButtonClick = useCallback(\n    (evt) => {\n      evt.preventDefault();\n      dispatch(openPopUp({name: PopUpType.DELETE.type.toUpperCase(), product: guitar.id}))\n\n    }, [dispatch, guitar]\n  );\n\n  return (\n    <li className={`cart__item purchase ${isEmptyCard ? `purchase--empty` : ``}`}>\n        {isEmptyCard && <>\n          <h3 className=\"purchase__title\">\n            <Icon icon={IconType.CART} />\n            Ваша корзина пуста\n          </h3>\n          <Button title={ButtonType.CONTINUE.title} className={`pop-up__button`} type={ButtonType.CONTINUE.type} path={AppRoute.ROOT} />\n        </>}\n        {guitar &&\n        <>\n          <button type=\"button\" className=\"purchase__delete\" aria-label=\"Удалить товар\" onClick={handleDeleteButtonClick} />\n          <PurchaseProduct guitar={guitar} />\n          <p className=\"purchase__price\">{`${parseStringToLocaleString(guitar.price)} ${RUB_SYMBOL}`}</p>\n          <div className=\"purchase__quantity\">\n            <button id=\"decrease\" className=\"purchase__сontrol purchase__сontrol--decrease\" type=\"button\" aria-label=\"Уменьшить\" onClick={handleControlClick} />\n            <label className=\"visually-hidden\" htmlFor=\"quantity\">Введите количество</label>\n            <input className=\"purchase__input\" type=\"number\" id=\"quantity\" name=\"quantity\" value={guitar.count}\n              onChange={handleInputChange} onBlur={handleInputBlur} />\n            <button id=\"increase\" className=\"purchase__сontrol purchase__сontrol--increase\" type=\"button\" aria-label=\"Увеличить\" onClick={handleControlClick} />\n          </div>\n          <p className=\"purchase__sum\">{`${parseStringToLocaleString(guitar.price * guitar.count)} ${RUB_SYMBOL}`}</p>\n        </>}\n    </li>\n  );\n};\n\nPurchaseCard.propTypes = {\n  guitar: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    code: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    type: PropTypes.string.isRequired,\n    rating: PropTypes.string.isRequired,\n    strings: PropTypes.string.isRequired,\n    price: PropTypes.string.isRequired,\n    image: PropTypes.string.isRequired,\n  }),\n  isEmptyCard: PropTypes.bool,\n};\n\nexport default PurchaseCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PurchaseCard from '../purchase-card/purchase-card';\n\nconst Purchases = ({items}) => {\n\n  const isEmpty = Object.values(items).length === 0;\n\n  return (\n    <ul className=\"cart__list\">\n      {isEmpty && <PurchaseCard isEmptyCard={true} />}\n      {!isEmpty && items.map((item, i) => (\n        <PurchaseCard key ={i + 1} guitar={item} />\n      ))}\n    </ul>\n  );\n};\n\nPurchases.propTypes = {\n  items: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    code: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    type: PropTypes.string.isRequired,\n    rating: PropTypes.string.isRequired,\n    strings: PropTypes.string.isRequired,\n    price: PropTypes.string.isRequired,\n    image: PropTypes.string.isRequired,\n  })),\n};\n\nexport default Purchases;\n","import React, {useState, useCallback} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {setPromoCode} from '../../store/slice';\nimport Input from '../input/input';\nimport Button from '../button/button';\nimport {parseStringToLocaleString} from '../../utils';\nimport {RUB_SYMBOL, PROMOCODES, ButtonType, BadCode} from '../../const';\n\nconst Order = () => {\n\n  const total = useSelector((state) => state.orderSum);\n  const promoCode = useSelector((state) => state.promoCode);\n  const dispatch = useDispatch();\n\n  const [promoValue, setPromoValue] = useState(``);\n  const [badCode, setBadCode] = useState(false);\n\n  const handleInputChange = useCallback(\n    (evt) => {\n        evt.preventDefault();\n        setBadCode(false);\n        setPromoValue(evt.target.value)\n    }, []\n  );\n\n  const handlePromoButtonClick = useCallback(\n    (evt) => {\n        evt.preventDefault();\n\n        if (!PROMOCODES.includes(promoValue.toUpperCase())) {\n          setBadCode(BadCode.INVALID);\n          return;\n        }\n\n        if (promoCode) {\n          setBadCode(BadCode.ALREADY_APPLIED);\n          return;\n        }\n\n      dispatch(setPromoCode(promoValue.toUpperCase()));\n\n\n    }, [dispatch, promoCode, promoValue]\n  );\n\n  return (\n    <form action=\"#\" className=\"cart__order order\">\n      <div className=\"order__promo\">\n        <p className=\"order__promo-title\">Промокод на скидку</p>\n        <p className=\"order__promo-subtitle\">Введите свой промокод, если он у вас есть.</p>\n        <div className=\"order__promo-wrapper\">\n          <Input className={`order__promo-input ${badCode ? `order__promo-input--error` : ``}`} name={`promo`} label={`Введите промокод`} value={promoValue} onChangeInput={handleInputChange} />\n            {badCode && <span className=\"order__promo-error\">{`${badCode === BadCode.INVALID ? `Промокод не действителен` : `Вы уже активировали промокод`}`}</span>}\n          <Button title={ButtonType.PROMO.title} className={`order__button order__button--promo`} type={ButtonType.PROMO.type} onClick={handlePromoButtonClick} />\n        </div>\n      </div>\n      <div className=\"order__checkout\">\n        <p className=\"order__checkout-total\">{`Всего: ${parseStringToLocaleString(total)} ${RUB_SYMBOL}`}</p>\n        <Button title={ButtonType.CHECKOUT.title} className={`order__button order__button--checkout`} type={ButtonType.CHECKOUT.type} />\n      </div>\n    </form>\n  );\n};\n\nexport default Order;\n","import React, {useState, useEffect} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {setOrderSum} from '../../store/slice';\nimport Purchases from '../purchases/purchases';\nimport Order from '../order/order';\nimport {getTotalSum} from '../../utils';\n\nconst Cart = () => {\n\n  const cartData = useSelector((state) => state.cartData);\n  const promoCode = useSelector((state) => state.promoCode);\n\n  const dispatch = useDispatch();\n\n  const [guitars, setGuitars] = useState([]);\n\n  useEffect(() => {\n    setGuitars(Object.values(cartData));\n  }, [cartData]);\n\n  useEffect(() => {\n    if (guitars.length === 0) {\n      dispatch(setOrderSum(0))\n    } else {\n      const total = getTotalSum(guitars, promoCode);\n      dispatch(setOrderSum(total))\n      setOrderSum(total);\n    }\n  }, [dispatch, guitars, promoCode]);\n\n  return (\n    <div className=\"cart__content\">\n      <Purchases items={guitars} />\n      <Order />\n    </div>\n  );\n};\n\nexport default Cart;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Logo from '../logo/logo';\nimport Menu from '../menu/menu';\nimport {SOCIAL_MENU_ITEMS, FOOTER_MENU_ITEMS, LogoType} from '../../const';\n\nconst Footer = ({isMain}) => {\n\n  return (\n    <footer className=\"footer\">\n      <div className=\"footer__wrapper container\">\n        <Logo type={LogoType.FOOTER} isMain={isMain} />\n        <Menu type={`social`} items={SOCIAL_MENU_ITEMS} isIconsOnly={true} />\n        <ul className=\"footer__navigation\">\n          {FOOTER_MENU_ITEMS.map((item, i) => (\n            <li key ={i + 1} className=\"footer__navigation-item\">\n              <h3 className=\"footer__navigation-title\">{item.title}</h3>\n              {item.text ?\n              <Menu type={item.type} items={item.text} isText={true} /> :\n              <Menu type={item.type} items={item.items} />}\n            </li>\n          ))}\n        </ul>\n      </div>\n    </footer>\n  );\n};\n\nFooter.propTypes = {\n  isMain: PropTypes.bool,\n};\n\nexport default Footer;\n","import React, {useCallback} from 'react';\nimport PropTypes from 'prop-types';\nimport {useHistory} from 'react-router-dom';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {openPopUp, closePopUp, addToCart, deleteFromCart} from '../../store/slice';\nimport PurchaseProduct from '../purchase-product/purchase-product';\nimport Button from '../button/button';\nimport {PopUpType, ButtonType, AppRoute} from '../../const';\n\nconst PopUp = ({type, title, productId, buttons}) => {\n\n  const product = useSelector((state) => state.guitarData[productId]) || null;\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const handleCloseButtonClick = useCallback(\n    (evt) => {\n        evt.preventDefault();\n        dispatch(closePopUp());\n    }, [dispatch]\n  );\n\n  const handlePopUpButtonClick = useCallback(\n    (evt) => {\n      evt.preventDefault();\n\n      switch(evt.target.innerText) {\n        case ButtonType.ADD.title:\n          dispatch(addToCart(productId))\n          dispatch(closePopUp());\n          dispatch(openPopUp({name: PopUpType.SUCCESS.type.toUpperCase()}))\n        break;\n        case ButtonType.CONTINUE.title:\n          dispatch(closePopUp());\n        break;\n        case ButtonType.GO_TO_BASKET.title:\n          dispatch(closePopUp());\n          history.push(AppRoute.CART);\n          break;\n        case ButtonType.DELETE.title:\n          dispatch(deleteFromCart(productId))\n          dispatch(closePopUp());\n        break;\n        default:\n        break;\n      }\n    }, [dispatch, history, productId]\n  );\n\n  return (\n    <section className=\"pop-up\" onClick={handleCloseButtonClick}>\n      <h2 className=\"visually-hidden\">Информационное сообщение</h2>\n      <div className={`pop-up__window pop-up__window--${type}`} onClick={(evt) => evt.stopPropagation()}>\n        <button type=\"button\" className=\"pop-up__close\" aria-label=\"Закрыть поп-ап\" onClick={handleCloseButtonClick} />\n        <h3 className=\"pop-up__title\">{title}</h3>\n        <div className=\"pop-up__content\">\n          {product && <div className=\"pop-up__item\">\n            <PurchaseProduct guitar={product} isPopUp={true} />\n          </div>}\n          <div className=\"pop-up__buttons\">\n            {buttons.map((button, i) => (\n              <Button key={i + 1} title={button.title} className={`pop-up__button`} type={button.type} onClick={handlePopUpButtonClick} />\n            ))}\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n};\n\nPopUp.propTypes = {\n  type: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  productId: PropTypes.string,\n  buttons: PropTypes.array.isRequired,\n};\n\nexport default PopUp;\n","import React, {useCallback, useEffect} from 'react';\nimport PropTypes from 'prop-types';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {closePopUp} from '../../store/slice';\nimport Header from '../header/header';\nimport Main from '../main/main';\nimport Catalogue from '../catalogue/catalogue';\nimport Cart from '../cart/cart';\nimport Footer from '../footer/footer';\nimport PopUp from '../pop-up/pop-up';\nimport {PageType, PopUpType, Key} from '../../const';\n\nconst Page = ({type}) => {\n\n  const isMain = type === PageType.MAIN;\n  const popUp = useSelector((state) => state.popUp);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (popUp) {\n      document.body.style.overflow = `hidden`;\n      document.addEventListener(`keydown`, handleEscKeyDown);\n    } else {\n      document.body.style.overflow = `auto`;\n      document.removeEventListener(`keydown`, handleEscKeyDown);\n    }\n  });\n\n  const handleEscKeyDown = useCallback(\n    (evt) => {\n      if (evt.key === Key.ESCAPE || evt.key === Key.ESC) {\n        evt.preventDefault();\n        dispatch(closePopUp());\n      }\n    }, [dispatch]\n  );\n\n  return (\n    <>\n      <Header isMain={isMain} />\n      <Main type={type} isMain={isMain}>\n        {isMain ? <Catalogue /> : <Cart />}\n      </Main>\n      <Footer isMain={isMain} />\n      {popUp &&\n        <PopUp type={PopUpType[popUp.name].type} title={PopUpType[popUp.name].title}\n        buttons={PopUpType[popUp.name].buttons} productId={popUp.product} />}\n    </>\n  );\n};\n\nPage.propTypes = {\n type: PropTypes.string.isRequired,\n};\n\nexport default Page;\n","import React from 'react';\nimport {Switch, Route, BrowserRouter as Router} from 'react-router-dom';\nimport Page from '../page/page';\nimport {AppRoute, PageType} from '../../const';\n\nconst {ROOT, CART} = AppRoute;\nconst {MAIN, INNER} = PageType;\n\nconst App = () => {\n\n  return (\n    <Router>\n      <Switch>\n        <Route exact path={ROOT}>\n          <Page type={MAIN} />\n        </Route>\n        <Route exact path={CART}>\n          <Page type={INNER} />\n        </Route>\n      </Switch>\n    </Router>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from 'react-redux';\nimport {configureStore} from '@reduxjs/toolkit';\nimport Reducer, {getData} from './store/slice';\nimport {addPhotos} from'./store/middlewares/add-photos';\nimport './sass/style.scss';\nimport App from './components/app/app';\n\nconst store = configureStore({\n  reducer: Reducer,\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware({\n      serializableCheck: false,\n    }).concat(addPhotos),\n});\n\nPromise.all([\n  store.dispatch(getData()),\n])\n.then(() => {\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n})\n.catch((err) => {\n  console.error(err);\n});\n"],"sourceRoot":""}